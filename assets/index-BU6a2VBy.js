(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Md={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function CS(){if(Dg)return Zl;Dg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var Ig;function US(){return Ig||(Ig=1,Md.exports=CS()),Md.exports}var ae=US(),Ld={exports:{}},Jl={},Qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function DS(){return Rg||(Rg=1,(function(r){function e(O,j){var ee=O.length;O.push(j);e:for(;0<ee;){var ne=ee-1>>>1,P=O[ne];if(0<a(P,j))O[ne]=j,O[ee]=P,ee=ne;else break e}}function t(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var j=O[0],ee=O.pop();if(ee!==j){O[0]=ee;e:for(var ne=0,P=O.length,_=P>>>1;ne<_;){var q=2*(ne+1)-1,W=O[q],X=q+1,ce=O[X];if(0>a(W,ee))X<P&&0>a(ce,W)?(O[ne]=ce,O[X]=ee,ne=X):(O[ne]=W,O[q]=ee,ne=q);else if(X<P&&0>a(ce,ee))O[ne]=ce,O[X]=ee,ne=X;else break e}}return j}function a(O,j){var ee=O.sortIndex-j.sortIndex;return ee!==0?ee:O.id-j.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var f=[],d=[],y=1,p=null,m=3,w=!1,E=!1,S=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(O){for(var j=t(d);j!==null;){if(j.callback===null)n(d);else if(j.startTime<=O)n(d),j.sortIndex=j.expirationTime,e(f,j);else break;j=t(d)}}function M(O){if(S=!1,N(O),!E)if(t(f)!==null)E=!0,K||(K=!0,F());else{var j=t(d);j!==null&&H(M,j.startTime-O)}}var K=!1,I=-1,U=5,R=-1;function L(){return v?!0:!(r.unstable_now()-R<U)}function Q(){if(v=!1,K){var O=r.unstable_now();R=O;var j=!0;try{e:{E=!1,S&&(S=!1,D(I),I=-1),w=!0;var ee=m;try{t:{for(N(O),p=t(f);p!==null&&!(p.expirationTime>O&&L());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var P=ne(p.expirationTime<=O);if(O=r.unstable_now(),typeof P=="function"){p.callback=P,N(O),j=!0;break t}p===t(f)&&n(f),N(O)}else n(f);p=t(f)}if(p!==null)j=!0;else{var _=t(d);_!==null&&H(M,_.startTime-O),j=!1}}break e}finally{p=null,m=ee,w=!1}j=void 0}}finally{j?F():K=!1}}}var F;if(typeof C=="function")F=function(){C(Q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=Q,F=function(){Z.postMessage(null)}}else F=function(){k(Q,0)};function H(O,j){I=k(function(){O(r.unstable_now())},j)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_next=function(O){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var ee=m;m=j;try{return O()}finally{m=ee}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ee=m;m=O;try{return j()}finally{m=ee}},r.unstable_scheduleCallback=function(O,j,ee){var ne=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,O){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ee+P,O={id:y++,callback:j,priorityLevel:O,startTime:ee,expirationTime:P,sortIndex:-1},ee>ne?(O.sortIndex=ee,e(d,O),t(f)===null&&O===t(d)&&(S?(D(I),I=-1):S=!0,H(M,ee-ne))):(O.sortIndex=P,e(f,O),E||w||(E=!0,K||(K=!0,F()))),O},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(O){var j=m;return function(){var ee=m;m=j;try{return O.apply(this,arguments)}finally{m=ee}}}})(Hd)),Hd}var Tg;function IS(){return Tg||(Tg=1,Qd.exports=DS()),Qd.exports}var zd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function RS(){if(Ng)return Re;Ng=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.iterator;function m(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function v(P,_,q){this.props=P,this.context=_,this.refs=S,this.updater=q||w}v.prototype.isReactComponent={},v.prototype.setState=function(P,_){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,_,"setState")},v.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=v.prototype;function D(P,_,q){this.props=P,this.context=_,this.refs=S,this.updater=q||w}var C=D.prototype=new k;C.constructor=D,E(C,v.prototype),C.isPureReactComponent=!0;var N=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function I(P,_,q,W,X,ce){return q=ce.ref,{$$typeof:r,type:P,key:_,ref:q!==void 0?q:null,props:ce}}function U(P,_){return I(P.type,_,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function L(P){var _={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(q){return _[q]})}var Q=/\/+/g;function F(P,_){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):_.toString(36)}function G(){}function Z(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(G,G):(P.status="pending",P.then(function(_){P.status==="pending"&&(P.status="fulfilled",P.value=_)},function(_){P.status==="pending"&&(P.status="rejected",P.reason=_)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,_,q,W,X){var ce=typeof P;(ce==="undefined"||ce==="boolean")&&(P=null);var le=!1;if(P===null)le=!0;else switch(ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch(P.$$typeof){case r:case e:le=!0;break;case y:return le=P._init,H(le(P._payload),_,q,W,X)}}if(le)return X=X(P),le=W===""?"."+F(P,0):W,N(X)?(q="",le!=null&&(q=le.replace(Q,"$&/")+"/"),H(X,_,q,"",function(Be){return Be})):X!=null&&(R(X)&&(X=U(X,q+(X.key==null||P&&P.key===X.key?"":(""+X.key).replace(Q,"$&/")+"/")+le)),_.push(X)),1;le=0;var ve=W===""?".":W+":";if(N(P))for(var ye=0;ye<P.length;ye++)W=P[ye],ce=ve+F(W,ye),le+=H(W,_,q,ce,X);else if(ye=m(P),typeof ye=="function")for(P=ye.call(P),ye=0;!(W=P.next()).done;)W=W.value,ce=ve+F(W,ye++),le+=H(W,_,q,ce,X);else if(ce==="object"){if(typeof P.then=="function")return H(Z(P),_,q,W,X);throw _=String(P),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return le}function O(P,_,q){if(P==null)return P;var W=[],X=0;return H(P,W,"","",function(ce){return _.call(q,ce,X++)}),W}function j(P){if(P._status===-1){var _=P._result;_=_(),_.then(function(q){(P._status===0||P._status===-1)&&(P._status=1,P._result=q)},function(q){(P._status===0||P._status===-1)&&(P._status=2,P._result=q)}),P._status===-1&&(P._status=0,P._result=_)}if(P._status===1)return P._result.default;throw P._result}var ee=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ne(){}return Re.Children={map:O,forEach:function(P,_,q){O(P,function(){_.apply(this,arguments)},q)},count:function(P){var _=0;return O(P,function(){_++}),_},toArray:function(P){return O(P,function(_){return _})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=v,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=D,Re.StrictMode=n,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return M.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,_,q){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var W=E({},P.props),X=P.key,ce=void 0;if(_!=null)for(le in _.ref!==void 0&&(ce=void 0),_.key!==void 0&&(X=""+_.key),_)!K.call(_,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&_.ref===void 0||(W[le]=_[le]);var le=arguments.length-2;if(le===1)W.children=q;else if(1<le){for(var ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye+2];W.children=ve}return I(P.type,X,void 0,void 0,ce,W)},Re.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Re.createElement=function(P,_,q){var W,X={},ce=null;if(_!=null)for(W in _.key!==void 0&&(ce=""+_.key),_)K.call(_,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(X[W]=_[W]);var le=arguments.length-2;if(le===1)X.children=q;else if(1<le){for(var ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye+2];X.children=ve}if(P&&P.defaultProps)for(W in le=P.defaultProps,le)X[W]===void 0&&(X[W]=le[W]);return I(P,ce,void 0,void 0,null,X)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:u,render:P}},Re.isValidElement=R,Re.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:j}},Re.memo=function(P,_){return{$$typeof:d,type:P,compare:_===void 0?null:_}},Re.startTransition=function(P){var _=M.T,q={};M.T=q;try{var W=P(),X=M.S;X!==null&&X(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ne,ee)}catch(ce){ee(ce)}finally{M.T=_}},Re.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Re.use=function(P){return M.H.use(P)},Re.useActionState=function(P,_,q){return M.H.useActionState(P,_,q)},Re.useCallback=function(P,_){return M.H.useCallback(P,_)},Re.useContext=function(P){return M.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,_){return M.H.useDeferredValue(P,_)},Re.useEffect=function(P,_,q){var W=M.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(P,_)},Re.useId=function(){return M.H.useId()},Re.useImperativeHandle=function(P,_,q){return M.H.useImperativeHandle(P,_,q)},Re.useInsertionEffect=function(P,_){return M.H.useInsertionEffect(P,_)},Re.useLayoutEffect=function(P,_){return M.H.useLayoutEffect(P,_)},Re.useMemo=function(P,_){return M.H.useMemo(P,_)},Re.useOptimistic=function(P,_){return M.H.useOptimistic(P,_)},Re.useReducer=function(P,_,q){return M.H.useReducer(P,_,q)},Re.useRef=function(P){return M.H.useRef(P)},Re.useState=function(P){return M.H.useState(P)},Re.useSyncExternalStore=function(P,_,q){return M.H.useSyncExternalStore(P,_,q)},Re.useTransition=function(){return M.H.useTransition()},Re.version="19.1.1",Re}var Og;function H2(){return Og||(Og=1,zd.exports=RS()),zd.exports}var Gd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function TS(){if(Pg)return pn;Pg=1;var r=H2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,y){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:f,containerInfo:d,implementation:y}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pn.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},pn.flushSync=function(f){var d=l.T,y=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=d,n.p=y,n.d.f()}},pn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},pn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},pn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,p=u(y,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:w}):y==="script"&&n.d.X(f,{crossOrigin:p,integrity:m,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},pn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=u(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},pn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,p=u(y,d.crossOrigin);n.d.L(f,y,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},pn.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=u(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},pn.requestFormReset=function(f){n.d.r(f)},pn.unstable_batchedUpdates=function(f,d){return f(d)},pn.useFormState=function(f,d,y){return l.H.useFormState(f,d,y)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.1.1",pn}var Kg;function NS(){if(Kg)return Gd.exports;Kg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=TS(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function OS(){if(Mg)return Jl;Mg=1;var r=IS(),e=H2(),t=NS();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var c=i,h=s;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return u(g),i;if(b===h)return u(g),s;b=b.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=b;else{for(var x=!1,T=g.child;T;){if(T===c){x=!0,c=g,h=b;break}if(T===h){x=!0,h=g,c=b;break}T=T.sibling}if(!x){for(T=b.child;T;){if(T===c){x=!0,c=b,h=g;break}if(T===h){x=!0,h=b,c=g;break}T=T.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var G=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===G?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case v:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case C:return(i.displayName||"Context")+".Provider";case D:return(i._context.displayName||"Context")+".Consumer";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:Z(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return Z(i(s))}catch{}}return null}var H=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],P=-1;function _(i){return{current:i}}function q(i){0>P||(i.current=ne[P],ne[P]=null,P--)}function W(i,s){P++,ne[P]=i.current,i.current=s}var X=_(null),ce=_(null),le=_(null),ve=_(null);function ye(i,s){switch(W(le,s),W(ce,i),W(X,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?rg(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=rg(s),i=ig(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(X),W(X,i)}function Be(){q(X),q(ce),q(le)}function Ie(i){i.memoizedState!==null&&W(ve,i);var s=X.current,c=ig(s,i.type);s!==c&&(W(ce,i),W(X,c))}function Me(i){ce.current===i&&(q(X),q(ce)),ve.current===i&&(q(ve),_l._currentValue=ee)}var Ue=Object.prototype.hasOwnProperty,qe=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,tt=r.unstable_shouldYield,jr=r.unstable_requestPaint,Vn=r.unstable_now,h0=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,d0=r.unstable_NormalPriority,cE=r.unstable_LowPriority,Q3=r.unstable_IdlePriority,lE=r.log,uE=r.unstable_setDisableYieldValue,Wc=null,qn=null;function ha(i){if(typeof lE=="function"&&uE(i),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(Wc,i)}catch{}}var Yn=Math.clz32?Math.clz32:dE,fE=Math.log,hE=Math.LN2;function dE(i){return i>>>=0,i===0?32:31-(fE(i)/hE|0)|0}var y0=256,p0=4194304;function ds(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function g0(i,s,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var T=h&134217727;return T!==0?(h=T&~b,h!==0?g=ds(h):(x&=T,x!==0?g=ds(x):c||(c=T&~i,c!==0&&(g=ds(c))))):(T=h&~b,T!==0?g=ds(T):x!==0?g=ds(x):c||(c=h&~i,c!==0&&(g=ds(c)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:g}function $c(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function yE(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H3(){var i=y0;return y0<<=1,(y0&4194048)===0&&(y0=256),i}function z3(){var i=p0;return p0<<=1,(p0&62914560)===0&&(p0=4194304),i}function Bh(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function el(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pE(i,s,c,h,g,b){var x=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var T=i.entanglements,z=i.expirationTimes,te=i.hiddenUpdates;for(c=x&~c;0<c;){var oe=31-Yn(c),fe=1<<oe;T[oe]=0,z[oe]=-1;var re=te[oe];if(re!==null)for(te[oe]=null,oe=0;oe<re.length;oe++){var ie=re[oe];ie!==null&&(ie.lane&=-536870913)}c&=~fe}h!==0&&G3(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(x&~s))}function G3(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Yn(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|c&4194090}function F3(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var h=31-Yn(c),g=1<<h;g&s|i[h]&s&&(i[h]|=s),c&=~g}}function Ch(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Uh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _3(){var i=j.p;return i!==0?i:(i=window.event,i===void 0?32:Sg(i.type))}function gE(i,s){var c=j.p;try{return j.p=i,s()}finally{j.p=c}}var da=Math.random().toString(36).slice(2),dn="__reactFiber$"+da,Dn="__reactProps$"+da,Ao="__reactContainer$"+da,Dh="__reactEvents$"+da,mE="__reactListeners$"+da,bE="__reactHandles$"+da,j3="__reactResources$"+da,tl="__reactMarker$"+da;function Ih(i){delete i[dn],delete i[Dn],delete i[Dh],delete i[mE],delete i[bE]}function wo(i){var s=i[dn];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Ao]||c[dn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=cg(i);i!==null;){if(c=i[dn])return c;i=cg(i)}return s}i=c,c=i.parentNode}return null}function Eo(i){if(i=i[dn]||i[Ao]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function nl(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function vo(i){var s=i[j3];return s||(s=i[j3]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(i){i[tl]=!0}var V3=new Set,q3={};function ys(i,s){So(i,s),So(i+"Capture",s)}function So(i,s){for(q3[i]=s,i=0;i<s.length;i++)V3.add(s[i])}var AE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y3={},Z3={};function wE(i){return Ue.call(Z3,i)?!0:Ue.call(Y3,i)?!1:AE.test(i)?Z3[i]=!0:(Y3[i]=!0,!1)}function m0(i,s,c){if(wE(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function b0(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function vi(i,s,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+h)}}var Rh,J3;function ko(i){if(Rh===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Rh=s&&s[1]||"",J3=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rh+i+J3}var Th=!1;function Nh(i,s){if(!i||Th)return"";Th=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var re=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){re=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){re=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),x=b[0],T=b[1];if(x&&T){var z=x.split(`
`),te=T.split(`
`);for(g=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(h===z.length||g===te.length)for(h=z.length-1,g=te.length-1;1<=h&&0<=g&&z[h]!==te[g];)g--;for(;1<=h&&0<=g;h--,g--)if(z[h]!==te[g]){if(h!==1||g!==1)do if(h--,g--,0>g||z[h]!==te[g]){var oe=`
`+z[h].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=h&&0<=g);break}}}finally{Th=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ko(c):""}function EE(i){switch(i.tag){case 26:case 27:case 5:return ko(i.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 15:return Nh(i.type,!1);case 11:return Nh(i.type.render,!1);case 1:return Nh(i.type,!0);case 31:return ko("Activity");default:return""}}function X3(i){try{var s="";do s+=EE(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ur(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function W3(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vE(i){var s=W3(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,b.call(this,x)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function A0(i){i._valueTracker||(i._valueTracker=vE(i))}function $3(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return i&&(h=W3(i)?i.checked?"true":"false":i.value),i=h,i!==c?(s.setValue(i),!0):!1}function w0(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var SE=/[\n"\\]/g;function fr(i){return i.replace(SE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Oh(i,s,c,h,g,b,x,T){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ur(s)):i.value!==""+ur(s)&&(i.value=""+ur(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Ph(i,x,ur(s)):c!=null?Ph(i,x,ur(c)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+ur(T):i.removeAttribute("name")}function ey(i,s,c,h,g,b,x,T){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+ur(c):"",s=s!=null?""+ur(s):c,T||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=T?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Ph(i,s,c){s==="number"&&w0(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function xo(i,s,c,h){if(i=i.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=s.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+ur(c),s=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function ty(i,s,c){if(s!=null&&(s=""+ur(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+ur(c):""}function ny(i,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(n(92));if(H(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=ur(s),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h)}function Bo(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var kE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ry(i,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,c):typeof c!="number"||c===0||kE.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function iy(i,s,c){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&c[g]!==h&&ry(i,g,h)}else for(var b in s)s.hasOwnProperty(b)&&ry(i,b,s[b])}function Kh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function E0(i){return BE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mh=null;function Lh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Co=null,Uo=null;function ay(i){var s=Eo(i);if(s&&(i=s.stateNode)){var c=i[Dn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Oh(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+fr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==i&&h.form===i.form){var g=h[Dn]||null;if(!g)throw Error(n(90));Oh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===i.form&&$3(h)}break e;case"textarea":ty(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&xo(i,!!c.multiple,s,!1)}}}var Qh=!1;function sy(i,s,c){if(Qh)return i(s,c);Qh=!0;try{var h=i(s);return h}finally{if(Qh=!1,(Co!==null||Uo!==null)&&(of(),Co&&(s=Co,i=Uo,Uo=Co=null,ay(s),i)))for(s=0;s<i.length;s++)ay(i[s])}}function rl(i,s){var c=i.stateNode;if(c===null)return null;var h=c[Dn]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=!1;if(Si)try{var il={};Object.defineProperty(il,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Hh=!1}var ya=null,zh=null,v0=null;function oy(){if(v0)return v0;var i,s=zh,c=s.length,h,g="value"in ya?ya.value:ya.textContent,b=g.length;for(i=0;i<c&&s[i]===g[i];i++);var x=c-i;for(h=1;h<=x&&s[c-h]===g[b-h];h++);return v0=g.slice(i,1<h?1-h:void 0)}function S0(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function k0(){return!0}function cy(){return!1}function In(i){function s(c,h,g,b,x){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=x,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(c=i[T],this[T]=c?c(b):b[T]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?k0:cy,this.isPropagationStopped=cy,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=k0)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=k0)},persist:function(){},isPersistent:k0}),s}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=In(ps),al=y({},ps,{view:0,detail:0}),CE=In(al),Gh,Fh,sl,B0=y({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sl&&(sl&&i.type==="mousemove"?(Gh=i.screenX-sl.screenX,Fh=i.screenY-sl.screenY):Fh=Gh=0,sl=i),Gh)},movementY:function(i){return"movementY"in i?i.movementY:Fh}}),ly=In(B0),UE=y({},B0,{dataTransfer:0}),DE=In(UE),IE=y({},al,{relatedTarget:0}),_h=In(IE),RE=y({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=In(RE),NE=y({},ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),OE=In(NE),PE=y({},ps,{data:0}),uy=In(PE),KE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ME={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QE(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=LE[i])?!!s[i]:!1}function jh(){return QE}var HE=y({},al,{key:function(i){if(i.key){var s=KE[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=S0(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ME[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(i){return i.type==="keypress"?S0(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?S0(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zE=In(HE),GE=y({},B0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=In(GE),FE=y({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),_E=In(FE),jE=y({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),VE=In(jE),qE=y({},B0,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=In(qE),ZE=y({},ps,{newState:0,oldState:0}),JE=In(ZE),XE=[9,13,27,32],Vh=Si&&"CompositionEvent"in window,ol=null;Si&&"documentMode"in document&&(ol=document.documentMode);var WE=Si&&"TextEvent"in window&&!ol,hy=Si&&(!Vh||ol&&8<ol&&11>=ol),dy=" ",yy=!1;function py(i,s){switch(i){case"keyup":return XE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function $E(i,s){switch(i){case"compositionend":return gy(s);case"keypress":return s.which!==32?null:(yy=!0,dy);case"textInput":return i=s.data,i===dy&&yy?null:i;default:return null}}function ev(i,s){if(Do)return i==="compositionend"||!Vh&&py(i,s)?(i=oy(),v0=zh=ya=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hy&&s.locale!=="ko"?null:s.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!tv[i.type]:s==="textarea"}function by(i,s,c,h){Co?Uo?Uo.push(h):Uo=[h]:Co=h,s=df(s,"onChange"),0<s.length&&(c=new x0("onChange","change",null,c,h),i.push({event:c,listeners:s}))}var cl=null,ll=null;function nv(i){Wp(i,0)}function C0(i){var s=nl(i);if($3(s))return i}function Ay(i,s){if(i==="change")return s}var wy=!1;if(Si){var qh;if(Si){var Yh="oninput"in document;if(!Yh){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Yh=typeof Ey.oninput=="function"}qh=Yh}else qh=!1;wy=qh&&(!document.documentMode||9<document.documentMode)}function vy(){cl&&(cl.detachEvent("onpropertychange",Sy),ll=cl=null)}function Sy(i){if(i.propertyName==="value"&&C0(ll)){var s=[];by(s,ll,i,Lh(i)),sy(nv,s)}}function rv(i,s,c){i==="focusin"?(vy(),cl=s,ll=c,cl.attachEvent("onpropertychange",Sy)):i==="focusout"&&vy()}function iv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return C0(ll)}function av(i,s){if(i==="click")return C0(s)}function sv(i,s){if(i==="input"||i==="change")return C0(s)}function ov(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zn=typeof Object.is=="function"?Object.is:ov;function ul(i,s){if(Zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Ue.call(s,g)||!Zn(i[g],s[g]))return!1}return!0}function ky(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xy(i,s){var c=ky(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=s&&h>=s)return{node:c,offset:s-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ky(c)}}function By(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?By(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Cy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=w0(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=w0(i.document)}return s}function Zh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cv=Si&&"documentMode"in document&&11>=document.documentMode,Io=null,Jh=null,fl=null,Xh=!1;function Uy(i,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xh||Io==null||Io!==w0(h)||(h=Io,"selectionStart"in h&&Zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fl&&ul(fl,h)||(fl=h,h=df(Jh,"onSelect"),0<h.length&&(s=new x0("onSelect","select",null,s,c),i.push({event:s,listeners:h}),s.target=Io)))}function gs(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Ro={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Wh={},Dy={};Si&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function ms(i){if(Wh[i])return Wh[i];if(!Ro[i])return i;var s=Ro[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in Dy)return Wh[i]=s[c];return i}var Iy=ms("animationend"),Ry=ms("animationiteration"),Ty=ms("animationstart"),lv=ms("transitionrun"),uv=ms("transitionstart"),fv=ms("transitioncancel"),Ny=ms("transitionend"),Oy=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Tr(i,s){Oy.set(i,s),ys(s,[i])}var Py=new WeakMap;function hr(i,s){if(typeof i=="object"&&i!==null){var c=Py.get(i);return c!==void 0?c:(s={value:i,source:s,stack:X3(s)},Py.set(i,s),s)}return{value:i,source:s,stack:X3(s)}}var dr=[],To=0,e5=0;function U0(){for(var i=To,s=e5=To=0;s<i;){var c=dr[s];dr[s++]=null;var h=dr[s];dr[s++]=null;var g=dr[s];dr[s++]=null;var b=dr[s];if(dr[s++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}b!==0&&Ky(c,g,b)}}function D0(i,s,c,h){dr[To++]=i,dr[To++]=s,dr[To++]=c,dr[To++]=h,e5|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function t5(i,s,c,h){return D0(i,s,c,h),I0(i)}function No(i,s){return D0(i,null,null,s),I0(i)}function Ky(i,s,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var g=!1,b=i.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&s!==null&&(g=31-Yn(c),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=c|536870912),b):null}function I0(i){if(50<Kl)throw Kl=0,od=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Oo={};function hv(i,s,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,s,c,h){return new hv(i,s,c,h)}function n5(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ki(i,s){var c=i.alternate;return c===null?(c=Jn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function My(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function R0(i,s,c,h,g,b){var x=0;if(h=i,typeof i=="function")n5(i)&&(x=1);else if(typeof i=="string")x=yS(i,c,X.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Jn(31,c,s,g),i.elementType=R,i.lanes=b,i;case E:return bs(c.children,g,b,s);case S:x=8,g|=24;break;case v:return i=Jn(12,c,s,g|2),i.elementType=v,i.lanes=b,i;case M:return i=Jn(13,c,s,g),i.elementType=M,i.lanes=b,i;case K:return i=Jn(19,c,s,g),i.elementType=K,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:x=10;break e;case D:x=9;break e;case N:x=11;break e;case I:x=14;break e;case U:x=16,h=null;break e}x=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return s=Jn(x,c,s,g),s.elementType=i,s.type=h,s.lanes=b,s}function bs(i,s,c,h){return i=Jn(7,i,h,s),i.lanes=c,i}function r5(i,s,c){return i=Jn(6,i,null,s),i.lanes=c,i}function i5(i,s,c){return s=Jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Po=[],Ko=0,T0=null,N0=0,yr=[],pr=0,As=null,xi=1,Bi="";function ws(i,s){Po[Ko++]=N0,Po[Ko++]=T0,T0=i,N0=s}function Ly(i,s,c){yr[pr++]=xi,yr[pr++]=Bi,yr[pr++]=As,As=i;var h=xi;i=Bi;var g=32-Yn(h)-1;h&=~(1<<g),c+=1;var b=32-Yn(s)+g;if(30<b){var x=g-g%5;b=(h&(1<<x)-1).toString(32),h>>=x,g-=x,xi=1<<32-Yn(s)+g|c<<g|h,Bi=b+i}else xi=1<<b|c<<g|h,Bi=i}function a5(i){i.return!==null&&(ws(i,1),Ly(i,1,0))}function s5(i){for(;i===T0;)T0=Po[--Ko],Po[Ko]=null,N0=Po[--Ko],Po[Ko]=null;for(;i===As;)As=yr[--pr],yr[pr]=null,Bi=yr[--pr],yr[pr]=null,xi=yr[--pr],yr[pr]=null}var En=null,xt=null,Ze=!1,Es=null,Vr=!1,o5=Error(n(519));function vs(i){var s=Error(n(418,""));throw yl(hr(s,i)),o5}function Qy(i){var s=i.stateNode,c=i.type,h=i.memoizedProps;switch(s[dn]=i,s[Dn]=h,c){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(c=0;c<Ll.length;c++)Qe(Ll[c],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),ey(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),A0(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),ny(s,h.value,h.defaultValue,h.children),A0(s)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||ng(s.textContent,c)?(h.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),h.onScroll!=null&&Qe("scroll",s),h.onScrollEnd!=null&&Qe("scrollend",s),h.onClick!=null&&(s.onclick=yf),s=!0):s=!1,s||vs(i)}function Hy(i){for(En=i.return;En;)switch(En.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:En=En.return}}function hl(i){if(i!==En)return!1;if(!Ze)return Hy(i),Ze=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Sd(i.type,i.memoizedProps)),c=!c),c&&xt&&vs(i),Hy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){xt=Or(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}xt=null}}else s===27?(s=xt,Ia(i.type)?(i=Cd,Cd=null,xt=i):xt=s):xt=En?Or(i.stateNode.nextSibling):null;return!0}function dl(){xt=En=null,Ze=!1}function zy(){var i=Es;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),Es=null),i}function yl(i){Es===null?Es=[i]:Es.push(i)}var c5=_(null),Ss=null,Ci=null;function pa(i,s,c){W(c5,s._currentValue),s._currentValue=c}function Ui(i){i._currentValue=c5.current,q(c5)}function l5(i,s,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===c)break;i=i.return}}function u5(i,s,c,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var x=g.child;b=b.firstContext;e:for(;b!==null;){var T=b;b=g;for(var z=0;z<s.length;z++)if(T.context===s[z]){b.lanes|=c,T=b.alternate,T!==null&&(T.lanes|=c),l5(b.return,c,i),h||(x=null);break e}b=T.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=c,b=x.alternate,b!==null&&(b.lanes|=c),l5(x,c,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function pl(i,s,c,h){i=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var T=g.type;Zn(g.pendingProps.value,x.value)||(i!==null?i.push(T):i=[T])}}else if(g===ve.current){if(x=g.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(_l):i=[_l])}g=g.return}i!==null&&u5(s,i,c,h),s.flags|=262144}function O0(i){for(i=i.firstContext;i!==null;){if(!Zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ks(i){Ss=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return Gy(Ss,i)}function P0(i,s){return Ss===null&&ks(i),Gy(i,s)}function Gy(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Ci===null){if(i===null)throw Error(n(308));Ci=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ci=Ci.next=s;return c}var dv=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},yv=r.unstable_scheduleCallback,pv=r.unstable_NormalPriority,_t={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f5(){return{controller:new dv,data:new Map,refCount:0}}function gl(i){i.refCount--,i.refCount===0&&yv(pv,function(){i.controller.abort()})}var ml=null,h5=0,Mo=0,Lo=null;function gv(i,s){if(ml===null){var c=ml=[];h5=0,Mo=yd(),Lo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return h5++,s.then(Fy,Fy),s}function Fy(){if(--h5===0&&ml!==null){Lo!==null&&(Lo.status="fulfilled");var i=ml;ml=null,Mo=0,Lo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mv(i,s){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<c.length;g++)(0,c[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var _y=O.S;O.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&gv(i,s),_y!==null&&_y(i,s)};var xs=_(null);function d5(){var i=xs.current;return i!==null?i:lt.pooledCache}function K0(i,s){s===null?W(xs,xs.current):W(xs,s.pool)}function jy(){var i=d5();return i===null?null:{parent:_t._currentValue,pool:i}}var bl=Error(n(460)),Vy=Error(n(474)),M0=Error(n(542)),y5={then:function(){}};function qy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function L0(){}function Yy(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(L0,L0),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Jy(i),i;default:if(typeof s.status=="string")s.then(L0,L0);else{if(i=lt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Jy(i),i}throw Al=s,bl}}var Al=null;function Zy(){if(Al===null)throw Error(n(459));var i=Al;return Al=null,i}function Jy(i){if(i===bl||i===M0)throw Error(n(483))}var ga=!1;function p5(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g5(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ma(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ba(i,s,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=I0(i),Ky(i,null,c),s}return D0(i,h,s,c),I0(i)}function wl(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,F3(i,c)}}function m5(i,s){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?g=b=x:b=b.next=x,c=c.next}while(c!==null);b===null?g=b=s:b=b.next=s}else g=b=s;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var b5=!1;function El(){if(b5){var i=Lo;if(i!==null)throw i}}function vl(i,s,c,h){b5=!1;var g=i.updateQueue;ga=!1;var b=g.firstBaseUpdate,x=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var z=T,te=z.next;z.next=null,x===null?b=te:x.next=te,x=z;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==x&&(T===null?oe.firstBaseUpdate=te:T.next=te,oe.lastBaseUpdate=z))}if(b!==null){var fe=g.baseState;x=0,oe=te=z=null,T=b;do{var re=T.lane&-536870913,ie=re!==T.lane;if(ie?(Fe&re)===re:(h&re)===re){re!==0&&re===Mo&&(b5=!0),oe!==null&&(oe=oe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ce=i,Se=T;re=s;var it=c;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){fe=Ce.call(it,fe,re);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,re=typeof Ce=="function"?Ce.call(it,fe,re):Ce,re==null)break e;fe=y({},fe,re);break e;case 2:ga=!0}}re=T.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(te=oe=ie,z=fe):oe=oe.next=ie,x|=re;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);oe===null&&(z=fe),g.baseState=z,g.firstBaseUpdate=te,g.lastBaseUpdate=oe,b===null&&(g.shared.lanes=0),Ba|=x,i.lanes=x,i.memoizedState=fe}}function Xy(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Wy(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Xy(c[i],s)}var Qo=_(null),Q0=_(0);function $y(i,s){i=Pi,W(Q0,i),W(Qo,s),Pi=i|s.baseLanes}function A5(){W(Q0,Pi),W(Qo,Qo.current)}function w5(){Pi=Q0.current,q(Qo),q(Q0)}var Aa=0,Oe=null,nt=null,Qt=null,H0=!1,Ho=!1,Bs=!1,z0=0,Sl=0,zo=null,bv=0;function Tt(){throw Error(n(321))}function E5(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Zn(i[c],s[c]))return!1;return!0}function v5(i,s,c,h,g,b){return Aa=b,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=i===null||i.memoizedState===null?K8:M8,Bs=!1,b=c(h,g),Bs=!1,Ho&&(b=t8(s,c,h,g)),e8(i),b}function e8(i){O.H=q0;var s=nt!==null&&nt.next!==null;if(Aa=0,Qt=nt=Oe=null,H0=!1,Sl=0,zo=null,s)throw Error(n(300));i===null||Zt||(i=i.dependencies,i!==null&&O0(i)&&(Zt=!0))}function t8(i,s,c,h){Oe=i;var g=0;do{if(Ho&&(zo=null),Sl=0,Ho=!1,25<=g)throw Error(n(301));if(g+=1,Qt=nt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}O.H=xv,b=s(c,h)}while(Ho);return b}function Av(){var i=O.H,s=i.useState()[0];return s=typeof s.then=="function"?kl(s):s,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Oe.flags|=1024),s}function S5(){var i=z0!==0;return z0=0,i}function k5(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function x5(i){if(H0){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}H0=!1}Aa=0,Qt=nt=Oe=null,Ho=!1,Sl=z0=0,zo=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Oe.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function Ht(){if(nt===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var s=Qt===null?Oe.memoizedState:Qt.next;if(s!==null)Qt=s,nt=i;else{if(i===null)throw Oe.alternate===null?Error(n(467)):Error(n(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Qt===null?Oe.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function B5(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(i){var s=Sl;return Sl+=1,zo===null&&(zo=[]),i=Yy(zo,i,s),s=Oe,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?K8:M8),i}function G0(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kl(i);if(i.$$typeof===C)return yn(i)}throw Error(n(438,String(i)))}function C5(i){var s=null,c=Oe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Oe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=B5(),Oe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),h=0;h<i;h++)c[h]=L;return s.index++,c}function Di(i,s){return typeof s=="function"?s(i):s}function F0(i){var s=Ht();return U5(s,nt,i)}function U5(i,s,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var x=g.next;g.next=b.next,b.next=x}s.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{s=g.next;var T=x=null,z=null,te=s,oe=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Fe&fe)===fe:(Aa&fe)===fe){var re=te.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===Mo&&(oe=!0);else if((Aa&re)===re){te=te.next,re===Mo&&(oe=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(T=z=fe,x=b):z=z.next=fe,Oe.lanes|=re,Ba|=re;fe=te.action,Bs&&c(b,fe),b=te.hasEagerState?te.eagerState:c(b,fe)}else re={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(T=z=re,x=b):z=z.next=re,Oe.lanes|=fe,Ba|=fe;te=te.next}while(te!==null&&te!==s);if(z===null?x=b:z.next=T,!Zn(b,i.memoizedState)&&(Zt=!0,oe&&(c=Lo,c!==null)))throw c;i.memoizedState=b,i.baseState=x,i.baseQueue=z,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function D5(i){var s=Ht(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,b=s.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do b=i(b,x.action),x=x.next;while(x!==g);Zn(b,s.memoizedState)||(Zt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,h]}function n8(i,s,c){var h=Oe,g=Ht(),b=Ze;if(b){if(c===void 0)throw Error(n(407));c=c()}else c=s();var x=!Zn((nt||g).memoizedState,c);x&&(g.memoizedState=c,Zt=!0),g=g.queue;var T=a8.bind(null,h,g,i);if(xl(2048,8,T,[i]),g.getSnapshot!==s||x||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,Go(9,_0(),i8.bind(null,h,g,c,s),null),lt===null)throw Error(n(349));b||(Aa&124)!==0||r8(h,s,c)}return c}function r8(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Oe.updateQueue,s===null?(s=B5(),Oe.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function i8(i,s,c,h){s.value=c,s.getSnapshot=h,s8(s)&&o8(i)}function a8(i,s,c){return c(function(){s8(s)&&o8(i)})}function s8(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Zn(i,c)}catch{return!0}}function o8(i){var s=No(i,2);s!==null&&tr(s,i,2)}function I5(i){var s=Rn();if(typeof i=="function"){var c=i;if(i=c(),Bs){ha(!0);try{c()}finally{ha(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},s}function c8(i,s,c,h){return i.baseState=c,U5(i,nt,typeof h=="function"?h:Di)}function wv(i,s,c,h,g){if(V0(i))throw Error(n(485));if(i=s.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){b.listeners.push(x)}};O.T!==null?c(!0):b.isTransition=!1,h(b),c=s.pending,c===null?(b.next=s.pending=b,l8(s,b)):(b.next=c.next,s.pending=c.next=b)}}function l8(i,s){var c=s.action,h=s.payload,g=i.state;if(s.isTransition){var b=O.T,x={};O.T=x;try{var T=c(g,h),z=O.S;z!==null&&z(x,T),u8(i,s,T)}catch(te){R5(i,s,te)}finally{O.T=b}}else try{b=c(g,h),u8(i,s,b)}catch(te){R5(i,s,te)}}function u8(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){f8(i,s,h)},function(h){return R5(i,s,h)}):f8(i,s,c)}function f8(i,s,c){s.status="fulfilled",s.value=c,h8(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,l8(i,c)))}function R5(i,s,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,h8(s),s=s.next;while(s!==h)}i.action=null}function h8(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function d8(i,s){return s}function y8(i,s){if(Ze){var c=lt.formState;if(c!==null){e:{var h=Oe;if(Ze){if(xt){t:{for(var g=xt,b=Vr;g.nodeType!==8;){if(!b){g=null;break t}if(g=Or(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){xt=Or(g.nextSibling),h=g.data==="F!";break e}}vs(h)}h=!1}h&&(s=c[0])}}return c=Rn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d8,lastRenderedState:s},c.queue=h,c=N8.bind(null,Oe,h),h.dispatch=c,h=I5(!1),b=K5.bind(null,Oe,!1,h.queue),h=Rn(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,c=wv.bind(null,Oe,g,b,c),g.dispatch=c,h.memoizedState=i,[s,c,!1]}function p8(i){var s=Ht();return g8(s,nt,i)}function g8(i,s,c){if(s=U5(i,s,d8)[0],i=F0(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=kl(s)}catch(x){throw x===bl?M0:x}else h=s;s=Ht();var g=s.queue,b=g.dispatch;return c!==s.memoizedState&&(Oe.flags|=2048,Go(9,_0(),Ev.bind(null,g,c),null)),[h,b,i]}function Ev(i,s){i.action=s}function m8(i){var s=Ht(),c=nt;if(c!==null)return g8(s,c,i);Ht(),s=s.memoizedState,c=Ht();var h=c.queue.dispatch;return c.memoizedState=i,[s,h,!1]}function Go(i,s,c,h){return i={tag:i,create:c,deps:h,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=B5(),Oe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,s.lastEffect=i),i}function _0(){return{destroy:void 0,resource:void 0}}function b8(){return Ht().memoizedState}function j0(i,s,c,h){var g=Rn();h=h===void 0?null:h,Oe.flags|=i,g.memoizedState=Go(1|s,_0(),c,h)}function xl(i,s,c,h){var g=Ht();h=h===void 0?null:h;var b=g.memoizedState.inst;nt!==null&&h!==null&&E5(h,nt.memoizedState.deps)?g.memoizedState=Go(s,b,c,h):(Oe.flags|=i,g.memoizedState=Go(1|s,b,c,h))}function A8(i,s){j0(8390656,8,i,s)}function w8(i,s){xl(2048,8,i,s)}function E8(i,s){return xl(4,2,i,s)}function v8(i,s){return xl(4,4,i,s)}function S8(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function k8(i,s,c){c=c!=null?c.concat([i]):null,xl(4,4,S8.bind(null,s,i),c)}function T5(){}function x8(i,s){var c=Ht();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&E5(s,h[1])?h[0]:(c.memoizedState=[i,s],i)}function B8(i,s){var c=Ht();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&E5(s,h[1]))return h[0];if(h=i(),Bs){ha(!0);try{i()}finally{ha(!1)}}return c.memoizedState=[h,s],h}function N5(i,s,c){return c===void 0||(Aa&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=Dp(),Oe.lanes|=i,Ba|=i,c)}function C8(i,s,c,h){return Zn(c,s)?c:Qo.current!==null?(i=N5(i,c,h),Zn(i,s)||(Zt=!0),i):(Aa&42)===0?(Zt=!0,i.memoizedState=c):(i=Dp(),Oe.lanes|=i,Ba|=i,s)}function U8(i,s,c,h,g){var b=j.p;j.p=b!==0&&8>b?b:8;var x=O.T,T={};O.T=T,K5(i,!1,s,c);try{var z=g(),te=O.S;if(te!==null&&te(T,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=mv(z,h);Bl(i,s,oe,er(i))}else Bl(i,s,h,er(i))}catch(fe){Bl(i,s,{then:function(){},status:"rejected",reason:fe},er())}finally{j.p=b,O.T=x}}function vv(){}function O5(i,s,c,h){if(i.tag!==5)throw Error(n(476));var g=D8(i).queue;U8(i,g,s,ee,c===null?vv:function(){return I8(i),c(h)})}function D8(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ee},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function I8(i){var s=D8(i).next.queue;Bl(i,s,{},er())}function P5(){return yn(_l)}function R8(){return Ht().memoizedState}function T8(){return Ht().memoizedState}function Sv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=er();i=ma(c);var h=ba(s,i,c);h!==null&&(tr(h,s,c),wl(h,s,c)),s={cache:f5()},i.payload=s;return}s=s.return}}function kv(i,s,c){var h=er();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},V0(i)?O8(s,c):(c=t5(i,s,c,h),c!==null&&(tr(c,i,h),P8(c,s,h)))}function N8(i,s,c){var h=er();Bl(i,s,c,h)}function Bl(i,s,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(V0(i))O8(s,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var x=s.lastRenderedState,T=b(x,c);if(g.hasEagerState=!0,g.eagerState=T,Zn(T,x))return D0(i,s,g,0),lt===null&&U0(),!1}catch{}finally{}if(c=t5(i,s,g,h),c!==null)return tr(c,i,h),P8(c,s,h),!0}return!1}function K5(i,s,c,h){if(h={lane:2,revertLane:yd(),action:h,hasEagerState:!1,eagerState:null,next:null},V0(i)){if(s)throw Error(n(479))}else s=t5(i,c,h,2),s!==null&&tr(s,i,2)}function V0(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function O8(i,s){Ho=H0=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function P8(i,s,c){if((c&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,F3(i,c)}}var q0={readContext:yn,use:G0,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},K8={readContext:yn,use:G0,useCallback:function(i,s){return Rn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:A8,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,j0(4194308,4,S8.bind(null,s,i),c)},useLayoutEffect:function(i,s){return j0(4194308,4,i,s)},useInsertionEffect:function(i,s){j0(4,2,i,s)},useMemo:function(i,s){var c=Rn();s=s===void 0?null:s;var h=i();if(Bs){ha(!0);try{i()}finally{ha(!1)}}return c.memoizedState=[h,s],h},useReducer:function(i,s,c){var h=Rn();if(c!==void 0){var g=c(s);if(Bs){ha(!0);try{c(s)}finally{ha(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=kv.bind(null,Oe,i),[h.memoizedState,i]},useRef:function(i){var s=Rn();return i={current:i},s.memoizedState=i},useState:function(i){i=I5(i);var s=i.queue,c=N8.bind(null,Oe,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:T5,useDeferredValue:function(i,s){var c=Rn();return N5(c,i,s)},useTransition:function(){var i=I5(!1);return i=U8.bind(null,Oe,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var h=Oe,g=Rn();if(Ze){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),lt===null)throw Error(n(349));(Fe&124)!==0||r8(h,s,c)}g.memoizedState=c;var b={value:c,getSnapshot:s};return g.queue=b,A8(a8.bind(null,h,b,i),[i]),h.flags|=2048,Go(9,_0(),i8.bind(null,h,b,c,s),null),c},useId:function(){var i=Rn(),s=lt.identifierPrefix;if(Ze){var c=Bi,h=xi;c=(h&~(1<<32-Yn(h)-1)).toString(32)+c,s="«"+s+"R"+c,c=z0++,0<c&&(s+="H"+c.toString(32)),s+="»"}else c=bv++,s="«"+s+"r"+c.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:P5,useFormState:y8,useActionState:y8,useOptimistic:function(i){var s=Rn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=K5.bind(null,Oe,!0,c),c.dispatch=s,[i,s]},useMemoCache:C5,useCacheRefresh:function(){return Rn().memoizedState=Sv.bind(null,Oe)}},M8={readContext:yn,use:G0,useCallback:x8,useContext:yn,useEffect:w8,useImperativeHandle:k8,useInsertionEffect:E8,useLayoutEffect:v8,useMemo:B8,useReducer:F0,useRef:b8,useState:function(){return F0(Di)},useDebugValue:T5,useDeferredValue:function(i,s){var c=Ht();return C8(c,nt.memoizedState,i,s)},useTransition:function(){var i=F0(Di)[0],s=Ht().memoizedState;return[typeof i=="boolean"?i:kl(i),s]},useSyncExternalStore:n8,useId:R8,useHostTransitionStatus:P5,useFormState:p8,useActionState:p8,useOptimistic:function(i,s){var c=Ht();return c8(c,nt,i,s)},useMemoCache:C5,useCacheRefresh:T8},xv={readContext:yn,use:G0,useCallback:x8,useContext:yn,useEffect:w8,useImperativeHandle:k8,useInsertionEffect:E8,useLayoutEffect:v8,useMemo:B8,useReducer:D5,useRef:b8,useState:function(){return D5(Di)},useDebugValue:T5,useDeferredValue:function(i,s){var c=Ht();return nt===null?N5(c,i,s):C8(c,nt.memoizedState,i,s)},useTransition:function(){var i=D5(Di)[0],s=Ht().memoizedState;return[typeof i=="boolean"?i:kl(i),s]},useSyncExternalStore:n8,useId:R8,useHostTransitionStatus:P5,useFormState:m8,useActionState:m8,useOptimistic:function(i,s){var c=Ht();return nt!==null?c8(c,nt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:C5,useCacheRefresh:T8},Fo=null,Cl=0;function Y0(i){var s=Cl;return Cl+=1,Fo===null&&(Fo=[]),Yy(Fo,i,s)}function Ul(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Z0(i,s){throw s.$$typeof===p?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function L8(i){var s=i._init;return s(i._payload)}function Q8(i){function s(J,V){if(i){var $=J.deletions;$===null?(J.deletions=[V],J.flags|=16):$.push(V)}}function c(J,V){if(!i)return null;for(;V!==null;)s(J,V),V=V.sibling;return null}function h(J){for(var V=new Map;J!==null;)J.key!==null?V.set(J.key,J):V.set(J.index,J),J=J.sibling;return V}function g(J,V){return J=ki(J,V),J.index=0,J.sibling=null,J}function b(J,V,$){return J.index=$,i?($=J.alternate,$!==null?($=$.index,$<V?(J.flags|=67108866,V):$):(J.flags|=67108866,V)):(J.flags|=1048576,V)}function x(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function T(J,V,$,ue){return V===null||V.tag!==6?(V=r5($,J.mode,ue),V.return=J,V):(V=g(V,$),V.return=J,V)}function z(J,V,$,ue){var be=$.type;return be===E?oe(J,V,$.props.children,ue,$.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===U&&L8(be)===V.type)?(V=g(V,$.props),Ul(V,$),V.return=J,V):(V=R0($.type,$.key,$.props,null,J.mode,ue),Ul(V,$),V.return=J,V)}function te(J,V,$,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=i5($,J.mode,ue),V.return=J,V):(V=g(V,$.children||[]),V.return=J,V)}function oe(J,V,$,ue,be){return V===null||V.tag!==7?(V=bs($,J.mode,ue,be),V.return=J,V):(V=g(V,$),V.return=J,V)}function fe(J,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=r5(""+V,J.mode,$),V.return=J,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case m:return $=R0(V.type,V.key,V.props,null,J.mode,$),Ul($,V),$.return=J,$;case w:return V=i5(V,J.mode,$),V.return=J,V;case U:var ue=V._init;return V=ue(V._payload),fe(J,V,$)}if(H(V)||F(V))return V=bs(V,J.mode,$,null),V.return=J,V;if(typeof V.then=="function")return fe(J,Y0(V),$);if(V.$$typeof===C)return fe(J,P0(J,V),$);Z0(J,V)}return null}function re(J,V,$,ue){var be=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:T(J,V,""+$,ue);if(typeof $=="object"&&$!==null){switch($.$$typeof){case m:return $.key===be?z(J,V,$,ue):null;case w:return $.key===be?te(J,V,$,ue):null;case U:return be=$._init,$=be($._payload),re(J,V,$,ue)}if(H($)||F($))return be!==null?null:oe(J,V,$,ue,null);if(typeof $.then=="function")return re(J,V,Y0($),ue);if($.$$typeof===C)return re(J,V,P0(J,$),ue);Z0(J,$)}return null}function ie(J,V,$,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return J=J.get($)||null,T(V,J,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case m:return J=J.get(ue.key===null?$:ue.key)||null,z(V,J,ue,be);case w:return J=J.get(ue.key===null?$:ue.key)||null,te(V,J,ue,be);case U:var Pe=ue._init;return ue=Pe(ue._payload),ie(J,V,$,ue,be)}if(H(ue)||F(ue))return J=J.get($)||null,oe(V,J,ue,be,null);if(typeof ue.then=="function")return ie(J,V,$,Y0(ue),be);if(ue.$$typeof===C)return ie(J,V,$,P0(V,ue),be);Z0(V,ue)}return null}function Ce(J,V,$,ue){for(var be=null,Pe=null,Ae=V,xe=V=0,Xt=null;Ae!==null&&xe<$.length;xe++){Ae.index>xe?(Xt=Ae,Ae=null):Xt=Ae.sibling;var je=re(J,Ae,$[xe],ue);if(je===null){Ae===null&&(Ae=Xt);break}i&&Ae&&je.alternate===null&&s(J,Ae),V=b(je,V,xe),Pe===null?be=je:Pe.sibling=je,Pe=je,Ae=Xt}if(xe===$.length)return c(J,Ae),Ze&&ws(J,xe),be;if(Ae===null){for(;xe<$.length;xe++)Ae=fe(J,$[xe],ue),Ae!==null&&(V=b(Ae,V,xe),Pe===null?be=Ae:Pe.sibling=Ae,Pe=Ae);return Ze&&ws(J,xe),be}for(Ae=h(Ae);xe<$.length;xe++)Xt=ie(Ae,J,xe,$[xe],ue),Xt!==null&&(i&&Xt.alternate!==null&&Ae.delete(Xt.key===null?xe:Xt.key),V=b(Xt,V,xe),Pe===null?be=Xt:Pe.sibling=Xt,Pe=Xt);return i&&Ae.forEach(function(Pa){return s(J,Pa)}),Ze&&ws(J,xe),be}function Se(J,V,$,ue){if($==null)throw Error(n(151));for(var be=null,Pe=null,Ae=V,xe=V=0,Xt=null,je=$.next();Ae!==null&&!je.done;xe++,je=$.next()){Ae.index>xe?(Xt=Ae,Ae=null):Xt=Ae.sibling;var Pa=re(J,Ae,je.value,ue);if(Pa===null){Ae===null&&(Ae=Xt);break}i&&Ae&&Pa.alternate===null&&s(J,Ae),V=b(Pa,V,xe),Pe===null?be=Pa:Pe.sibling=Pa,Pe=Pa,Ae=Xt}if(je.done)return c(J,Ae),Ze&&ws(J,xe),be;if(Ae===null){for(;!je.done;xe++,je=$.next())je=fe(J,je.value,ue),je!==null&&(V=b(je,V,xe),Pe===null?be=je:Pe.sibling=je,Pe=je);return Ze&&ws(J,xe),be}for(Ae=h(Ae);!je.done;xe++,je=$.next())je=ie(Ae,J,xe,je.value,ue),je!==null&&(i&&je.alternate!==null&&Ae.delete(je.key===null?xe:je.key),V=b(je,V,xe),Pe===null?be=je:Pe.sibling=je,Pe=je);return i&&Ae.forEach(function(BS){return s(J,BS)}),Ze&&ws(J,xe),be}function it(J,V,$,ue){if(typeof $=="object"&&$!==null&&$.type===E&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case m:e:{for(var be=$.key;V!==null;){if(V.key===be){if(be=$.type,be===E){if(V.tag===7){c(J,V.sibling),ue=g(V,$.props.children),ue.return=J,J=ue;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===U&&L8(be)===V.type){c(J,V.sibling),ue=g(V,$.props),Ul(ue,$),ue.return=J,J=ue;break e}c(J,V);break}else s(J,V);V=V.sibling}$.type===E?(ue=bs($.props.children,J.mode,ue,$.key),ue.return=J,J=ue):(ue=R0($.type,$.key,$.props,null,J.mode,ue),Ul(ue,$),ue.return=J,J=ue)}return x(J);case w:e:{for(be=$.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){c(J,V.sibling),ue=g(V,$.children||[]),ue.return=J,J=ue;break e}else{c(J,V);break}else s(J,V);V=V.sibling}ue=i5($,J.mode,ue),ue.return=J,J=ue}return x(J);case U:return be=$._init,$=be($._payload),it(J,V,$,ue)}if(H($))return Ce(J,V,$,ue);if(F($)){if(be=F($),typeof be!="function")throw Error(n(150));return $=be.call($),Se(J,V,$,ue)}if(typeof $.then=="function")return it(J,V,Y0($),ue);if($.$$typeof===C)return it(J,V,P0(J,$),ue);Z0(J,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(c(J,V.sibling),ue=g(V,$),ue.return=J,J=ue):(c(J,V),ue=r5($,J.mode,ue),ue.return=J,J=ue),x(J)):c(J,V)}return function(J,V,$,ue){try{Cl=0;var be=it(J,V,$,ue);return Fo=null,be}catch(Ae){if(Ae===bl||Ae===M0)throw Ae;var Pe=Jn(29,Ae,null,J.mode);return Pe.lanes=ue,Pe.return=J,Pe}finally{}}}var _o=Q8(!0),H8=Q8(!1),gr=_(null),qr=null;function wa(i){var s=i.alternate;W(jt,jt.current&1),W(gr,i),qr===null&&(s===null||Qo.current!==null||s.memoizedState!==null)&&(qr=i)}function z8(i){if(i.tag===22){if(W(jt,jt.current),W(gr,i),qr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qr=i)}}else Ea()}function Ea(){W(jt,jt.current),W(gr,gr.current)}function Ii(i){q(gr),qr===i&&(qr=null),q(jt)}var jt=_(0);function J0(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Bd(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function M5(i,s,c,h){s=i.memoizedState,c=c(h,s),c=c==null?s:y({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var L5={enqueueSetState:function(i,s,c){i=i._reactInternals;var h=er(),g=ma(h);g.payload=s,c!=null&&(g.callback=c),s=ba(i,g,h),s!==null&&(tr(s,i,h),wl(s,i,h))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var h=er(),g=ma(h);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=ba(i,g,h),s!==null&&(tr(s,i,h),wl(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=er(),h=ma(c);h.tag=2,s!=null&&(h.callback=s),s=ba(i,h,c),s!==null&&(tr(s,i,c),wl(s,i,c))}};function G8(i,s,c,h,g,b,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,x):s.prototype&&s.prototype.isPureReactComponent?!ul(c,h)||!ul(g,b):!0}function F8(i,s,c,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==i&&L5.enqueueReplaceState(s,s.state,null)}function Cs(i,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(i=i.defaultProps){c===s&&(c=y({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}var X0=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _8(i){X0(i)}function j8(i){console.error(i)}function V8(i){X0(i)}function W0(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function q8(i,s,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Q5(i,s,c){return c=ma(c),c.tag=3,c.payload={element:null},c.callback=function(){W0(i,s)},c}function Y8(i){return i=ma(i),i.tag=3,i}function Z8(i,s,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){q8(s,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){q8(s,c,h),typeof g!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var T=h.stack;this.componentDidCatch(h.value,{componentStack:T!==null?T:""})})}function Bv(i,s,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&pl(s,c,g,!0),c=gr.current,c!==null){switch(c.tag){case 13:return qr===null?ld():c.alternate===null&&Bt===0&&(Bt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===y5?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),fd(i,h,g)),!1;case 22:return c.flags|=65536,h===y5?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),fd(i,h,g)),!1}throw Error(n(435,c.tag))}return fd(i,h,g),ld(),!1}if(Ze)return s=gr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==o5&&(i=Error(n(422),{cause:h}),yl(hr(i,c)))):(h!==o5&&(s=Error(n(423),{cause:h}),yl(hr(s,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=hr(h,c),g=Q5(i.stateNode,h,g),m5(i,g),Bt!==4&&(Bt=2)),!1;var b=Error(n(520),{cause:h});if(b=hr(b,c),Pl===null?Pl=[b]:Pl.push(b),Bt!==4&&(Bt=2),s===null)return!0;h=hr(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=Q5(c.stateNode,h,i),m5(c,i),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ca===null||!Ca.has(b))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Y8(g),Z8(g,i,c,h),m5(c,g),!1}c=c.return}while(c!==null);return!1}var J8=Error(n(461)),Zt=!1;function an(i,s,c,h){s.child=i===null?H8(s,null,c,h):_o(s,i.child,c,h)}function X8(i,s,c,h,g){c=c.render;var b=s.ref;if("ref"in h){var x={};for(var T in h)T!=="ref"&&(x[T]=h[T])}else x=h;return ks(s),h=v5(i,s,c,x,b,g),T=S5(),i!==null&&!Zt?(k5(i,s,g),Ri(i,s,g)):(Ze&&T&&a5(s),s.flags|=1,an(i,s,h,g),s.child)}function W8(i,s,c,h,g){if(i===null){var b=c.type;return typeof b=="function"&&!n5(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,$8(i,s,b,h,g)):(i=R0(c.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!q5(i,g)){var x=b.memoizedProps;if(c=c.compare,c=c!==null?c:ul,c(x,h)&&i.ref===s.ref)return Ri(i,s,g)}return s.flags|=1,i=ki(b,h),i.ref=s.ref,i.return=s,s.child=i}function $8(i,s,c,h,g){if(i!==null){var b=i.memoizedProps;if(ul(b,h)&&i.ref===s.ref)if(Zt=!1,s.pendingProps=h=b,q5(i,g))(i.flags&131072)!==0&&(Zt=!0);else return s.lanes=i.lanes,Ri(i,s,g)}return H5(i,s,c,h,g)}function ep(i,s,c){var h=s.pendingProps,g=h.children,b=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=b!==null?b.baseLanes|c:c,i!==null){for(g=s.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;s.childLanes=b&~h}else s.childLanes=0,s.child=null;return tp(i,s,h,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&K0(s,b!==null?b.cachePool:null),b!==null?$y(s,b):A5(),z8(s);else return s.lanes=s.childLanes=536870912,tp(i,s,b!==null?b.baseLanes|c:c,c)}else b!==null?(K0(s,b.cachePool),$y(s,b),Ea(),s.memoizedState=null):(i!==null&&K0(s,null),A5(),Ea());return an(i,s,g,c),s.child}function tp(i,s,c,h){var g=d5();return g=g===null?null:{parent:_t._currentValue,pool:g},s.memoizedState={baseLanes:c,cachePool:g},i!==null&&K0(s,null),A5(),z8(s),i!==null&&pl(i,s,h,!0),null}function $0(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function H5(i,s,c,h,g){return ks(s),c=v5(i,s,c,h,void 0,g),h=S5(),i!==null&&!Zt?(k5(i,s,g),Ri(i,s,g)):(Ze&&h&&a5(s),s.flags|=1,an(i,s,c,g),s.child)}function np(i,s,c,h,g,b){return ks(s),s.updateQueue=null,c=t8(s,h,c,g),e8(i),h=S5(),i!==null&&!Zt?(k5(i,s,b),Ri(i,s,b)):(Ze&&h&&a5(s),s.flags|=1,an(i,s,c,b),s.child)}function rp(i,s,c,h,g){if(ks(s),s.stateNode===null){var b=Oo,x=c.contextType;typeof x=="object"&&x!==null&&(b=yn(x)),b=new c(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=L5,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},p5(s),x=c.contextType,b.context=typeof x=="object"&&x!==null?yn(x):Oo,b.state=s.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(M5(s,c,x,h),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(x=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),x!==b.state&&L5.enqueueReplaceState(b,b.state,null),vl(s,h,b,g),El(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){b=s.stateNode;var T=s.memoizedProps,z=Cs(c,T);b.props=z;var te=b.context,oe=c.contextType;x=Oo,typeof oe=="object"&&oe!==null&&(x=yn(oe));var fe=c.getDerivedStateFromProps;oe=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T||te!==x)&&F8(s,b,h,x),ga=!1;var re=s.memoizedState;b.state=re,vl(s,h,b,g),El(),te=s.memoizedState,T||re!==te||ga?(typeof fe=="function"&&(M5(s,c,fe,h),te=s.memoizedState),(z=ga||G8(s,c,z,h,re,te,x))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=te),b.props=h,b.state=te,b.context=x,h=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,g5(i,s),x=s.memoizedProps,oe=Cs(c,x),b.props=oe,fe=s.pendingProps,re=b.context,te=c.contextType,z=Oo,typeof te=="object"&&te!==null&&(z=yn(te)),T=c.getDerivedStateFromProps,(te=typeof T=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==fe||re!==z)&&F8(s,b,h,z),ga=!1,re=s.memoizedState,b.state=re,vl(s,h,b,g),El();var ie=s.memoizedState;x!==fe||re!==ie||ga||i!==null&&i.dependencies!==null&&O0(i.dependencies)?(typeof T=="function"&&(M5(s,c,T,h),ie=s.memoizedState),(oe=ga||G8(s,c,oe,h,re,ie,z)||i!==null&&i.dependencies!==null&&O0(i.dependencies))?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ie,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ie,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ie),b.props=h,b.state=ie,b.context=z,h=oe):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),h=!1)}return b=h,$0(i,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&h?(s.child=_o(s,i.child,null,g),s.child=_o(s,null,c,g)):an(i,s,c,g),s.memoizedState=b.state,i=s.child):i=Ri(i,s,g),i}function ip(i,s,c,h){return dl(),s.flags|=256,an(i,s,c,h),s.child}var z5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G5(i){return{baseLanes:i,cachePool:jy()}}function F5(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=mr),i}function ap(i,s,c){var h=s.pendingProps,g=!1,b=(s.flags&128)!==0,x;if((x=b)||(x=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),x&&(g=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ze){if(g?wa(s):Ea(),Ze){var T=xt,z;if(z=T){e:{for(z=T,T=Vr;z.nodeType!==8;){if(!T){T=null;break e}if(z=Or(z.nextSibling),z===null){T=null;break e}}T=z}T!==null?(s.memoizedState={dehydrated:T,treeContext:As!==null?{id:xi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},z=Jn(18,null,null,0),z.stateNode=T,z.return=s,s.child=z,En=s,xt=null,z=!0):z=!1}z||vs(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Bd(T)?s.lanes=32:s.lanes=536870912,null;Ii(s)}return T=h.children,h=h.fallback,g?(Ea(),g=s.mode,T=ef({mode:"hidden",children:T},g),h=bs(h,g,c,null),T.return=s,h.return=s,T.sibling=h,s.child=T,g=s.child,g.memoizedState=G5(c),g.childLanes=F5(i,x,c),s.memoizedState=z5,h):(wa(s),_5(s,T))}if(z=i.memoizedState,z!==null&&(T=z.dehydrated,T!==null)){if(b)s.flags&256?(wa(s),s.flags&=-257,s=j5(i,s,c)):s.memoizedState!==null?(Ea(),s.child=i.child,s.flags|=128,s=null):(Ea(),g=h.fallback,T=s.mode,h=ef({mode:"visible",children:h.children},T),g=bs(g,T,c,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,_o(s,i.child,null,c),h=s.child,h.memoizedState=G5(c),h.childLanes=F5(i,x,c),s.memoizedState=z5,s=g);else if(wa(s),Bd(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var te=x.dgst;x=te,h=Error(n(419)),h.stack="",h.digest=x,yl({value:h,source:null,stack:null}),s=j5(i,s,c)}else if(Zt||pl(i,s,c,!1),x=(c&i.childLanes)!==0,Zt||x){if(x=lt,x!==null&&(h=c&-c,h=(h&42)!==0?1:Ch(h),h=(h&(x.suspendedLanes|c))!==0?0:h,h!==0&&h!==z.retryLane))throw z.retryLane=h,No(i,h),tr(x,i,h),J8;T.data==="$?"||ld(),s=j5(i,s,c)}else T.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,xt=Or(T.nextSibling),En=s,Ze=!0,Es=null,Vr=!1,i!==null&&(yr[pr++]=xi,yr[pr++]=Bi,yr[pr++]=As,xi=i.id,Bi=i.overflow,As=s),s=_5(s,h.children),s.flags|=4096);return s}return g?(Ea(),g=h.fallback,T=s.mode,z=i.child,te=z.sibling,h=ki(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,te!==null?g=ki(te,g):(g=bs(g,T,c,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,T=i.child.memoizedState,T===null?T=G5(c):(z=T.cachePool,z!==null?(te=_t._currentValue,z=z.parent!==te?{parent:te,pool:te}:z):z=jy(),T={baseLanes:T.baseLanes|c,cachePool:z}),g.memoizedState=T,g.childLanes=F5(i,x,c),s.memoizedState=z5,h):(wa(s),c=i.child,i=c.sibling,c=ki(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=c,s.memoizedState=null,c)}function _5(i,s){return s=ef({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ef(i,s){return i=Jn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function j5(i,s,c){return _o(s,i.child,null,c),i=_5(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sp(i,s,c){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),l5(i.return,s,c)}function V5(i,s,c,h,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=c,b.tailMode=g)}function op(i,s,c){var h=s.pendingProps,g=h.revealOrder,b=h.tail;if(an(i,s,h.children,c),h=jt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sp(i,c,s);else if(i.tag===19)sp(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(W(jt,h),g){case"forwards":for(c=s.child,g=null;c!==null;)i=c.alternate,i!==null&&J0(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),V5(s,!1,g,c,b);break;case"backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&J0(i)===null){s.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}V5(s,!0,c,null,b);break;case"together":V5(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ri(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Ba|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(pl(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,c=ki(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=ki(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function q5(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&O0(i)))}function Cv(i,s,c){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),pa(s,_t,i.memoizedState.cache),dl();break;case 27:case 5:Ie(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:pa(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(wa(s),s.flags|=128,null):(c&s.child.childLanes)!==0?ap(i,s,c):(wa(s),i=Ri(i,s,c),i!==null?i.sibling:null);wa(s);break;case 19:var g=(i.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(pl(i,s,c,!1),h=(c&s.childLanes)!==0),g){if(h)return op(i,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(jt,jt.current),h)break;return null;case 22:case 23:return s.lanes=0,ep(i,s,c);case 24:pa(s,_t,i.memoizedState.cache)}return Ri(i,s,c)}function cp(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zt=!0;else{if(!q5(i,c)&&(s.flags&128)===0)return Zt=!1,Cv(i,s,c);Zt=(i.flags&131072)!==0}else Zt=!1,Ze&&(s.flags&1048576)!==0&&Ly(s,N0,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")n5(h)?(i=Cs(h,i),s.tag=1,s=rp(null,s,h,i,c)):(s.tag=0,s=H5(null,s,h,i,c));else{if(h!=null){if(g=h.$$typeof,g===N){s.tag=11,s=X8(null,s,h,i,c);break e}else if(g===I){s.tag=14,s=W8(null,s,h,i,c);break e}}throw s=Z(h)||h,Error(n(306,s,""))}}return s;case 0:return H5(i,s,s.type,s.pendingProps,c);case 1:return h=s.type,g=Cs(h,s.pendingProps),rp(i,s,h,g,c);case 3:e:{if(ye(s,s.stateNode.containerInfo),i===null)throw Error(n(387));h=s.pendingProps;var b=s.memoizedState;g=b.element,g5(i,s),vl(s,h,null,c);var x=s.memoizedState;if(h=x.cache,pa(s,_t,h),h!==b.cache&&u5(s,[_t],c,!0),El(),h=x.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=ip(i,s,h,c);break e}else if(h!==g){g=hr(Error(n(424)),s),yl(g),s=ip(i,s,h,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xt=Or(i.firstChild),En=s,Ze=!0,Es=null,Vr=!0,c=H8(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(dl(),h===g){s=Ri(i,s,c);break e}an(i,s,h,c)}s=s.child}return s;case 26:return $0(i,s),i===null?(c=hg(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ze||(c=s.type,i=s.pendingProps,h=pf(le.current).createElement(c),h[dn]=s,h[Dn]=i,on(h,c,i),Yt(h),s.stateNode=h):s.memoizedState=hg(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ie(s),i===null&&Ze&&(h=s.stateNode=lg(s.type,s.pendingProps,le.current),En=s,Vr=!0,g=xt,Ia(s.type)?(Cd=g,xt=Or(h.firstChild)):xt=g),an(i,s,s.pendingProps.children,c),$0(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ze&&((g=h=xt)&&(h=tS(h,s.type,s.pendingProps,Vr),h!==null?(s.stateNode=h,En=s,xt=Or(h.firstChild),Vr=!1,g=!0):g=!1),g||vs(s)),Ie(s),g=s.type,b=s.pendingProps,x=i!==null?i.memoizedProps:null,h=b.children,Sd(g,b)?h=null:x!==null&&Sd(g,x)&&(s.flags|=32),s.memoizedState!==null&&(g=v5(i,s,Av,null,null,c),_l._currentValue=g),$0(i,s),an(i,s,h,c),s.child;case 6:return i===null&&Ze&&((i=c=xt)&&(c=nS(c,s.pendingProps,Vr),c!==null?(s.stateNode=c,En=s,xt=null,i=!0):i=!1),i||vs(s)),null;case 13:return ap(i,s,c);case 4:return ye(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=_o(s,null,h,c):an(i,s,h,c),s.child;case 11:return X8(i,s,s.type,s.pendingProps,c);case 7:return an(i,s,s.pendingProps,c),s.child;case 8:return an(i,s,s.pendingProps.children,c),s.child;case 12:return an(i,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,pa(s,s.type,h.value),an(i,s,h.children,c),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,ks(s),g=yn(g),h=h(g),s.flags|=1,an(i,s,h,c),s.child;case 14:return W8(i,s,s.type,s.pendingProps,c);case 15:return $8(i,s,s.type,s.pendingProps,c);case 19:return op(i,s,c);case 31:return h=s.pendingProps,c=s.mode,h={mode:h.mode,children:h.children},i===null?(c=ef(h,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=ki(i.child,h),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return ep(i,s,c);case 24:return ks(s),h=yn(_t),i===null?(g=d5(),g===null&&(g=lt,b=f5(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=c),g=b),s.memoizedState={parent:h,cache:g},p5(s),pa(s,_t,g)):((i.lanes&c)!==0&&(g5(i,s),vl(s,null,null,c),El()),g=i.memoizedState,b=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),pa(s,_t,h)):(h=b.cache,pa(s,_t,h),h!==g.cache&&u5(s,[_t],c,!0))),an(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ti(i){i.flags|=4}function lp(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mg(s)){if(s=gr.current,s!==null&&((Fe&4194048)===Fe?qr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==qr))throw Al=y5,Vy;i.flags|=8192}}function tf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?z3():536870912,i.lanes|=s,Yo|=s)}function Dl(i,s){if(!Ze)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(s)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,s}function Uv(i,s,c){var h=s.pendingProps;switch(s5(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return c=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ui(_t),Be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(hl(s)?Ti(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zy())),wt(s),null;case 26:return c=s.memoizedState,i===null?(Ti(s),c!==null?(wt(s),lp(s,c)):(wt(s),s.flags&=-16777217)):c?c!==i.memoizedState?(Ti(s),wt(s),lp(s,c)):(wt(s),s.flags&=-16777217):(i.memoizedProps!==h&&Ti(s),wt(s),s.flags&=-16777217),null;case 27:Me(s),c=le.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ti(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return wt(s),null}i=X.current,hl(s)?Qy(s):(i=lg(g,h,c),s.stateNode=i,Ti(s))}return wt(s),null;case 5:if(Me(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ti(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return wt(s),null}if(i=X.current,hl(s))Qy(s);else{switch(g=pf(le.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}i[dn]=s,i[Dn]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(on(i,c,h),c){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ti(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ti(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(i=le.current,hl(s)){if(i=s.stateNode,c=s.memoizedProps,h=null,g=En,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[dn]=s,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||ng(i.nodeValue,c)),i||vs(s)}else i=pf(i).createTextNode(h),i[dn]=s,s.stateNode=i}return wt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=hl(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[dn]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),g=!1}else g=zy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ii(s),s):(Ii(s),null)}if(Ii(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=h!==null,i=i!==null&&i.memoizedState!==null,c){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),tf(s,s.updateQueue),wt(s),null;case 4:return Be(),i===null&&bd(s.stateNode.containerInfo),wt(s),null;case 10:return Ui(s.type),wt(s),null;case 19:if(q(jt),g=s.memoizedState,g===null)return wt(s),null;if(h=(s.flags&128)!==0,b=g.rendering,b===null)if(h)Dl(g,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=J0(i),b!==null){for(s.flags|=128,Dl(g,!1),i=b.updateQueue,s.updateQueue=i,tf(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)My(c,i),c=c.sibling;return W(jt,jt.current&1|2),s.child}i=i.sibling}g.tail!==null&&Vn()>af&&(s.flags|=128,h=!0,Dl(g,!1),s.lanes=4194304)}else{if(!h)if(i=J0(b),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,tf(s,i),Dl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Ze)return wt(s),null}else 2*Vn()-g.renderingStartTime>af&&c!==536870912&&(s.flags|=128,h=!0,Dl(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(i=g.last,i!==null?i.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Vn(),s.sibling=null,i=jt.current,W(jt,h?i&1|2:i&1),s):(wt(s),null);case 22:case 23:return Ii(s),w5(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),c=s.updateQueue,c!==null&&tf(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),i!==null&&q(xs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ui(_t),wt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function Dv(i,s){switch(s5(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ui(_t),Be(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 13:if(Ii(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(jt),null;case 4:return Be(),null;case 10:return Ui(s.type),null;case 22:case 23:return Ii(s),w5(),i!==null&&q(xs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ui(_t),null;case 25:return null;default:return null}}function up(i,s){switch(s5(s),s.tag){case 3:Ui(_t),Be();break;case 26:case 27:case 5:Me(s);break;case 4:Be();break;case 13:Ii(s);break;case 19:q(jt);break;case 10:Ui(s.type);break;case 22:case 23:Ii(s),w5(),i!==null&&q(xs);break;case 24:Ui(_t)}}function Il(i,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){h=void 0;var b=c.create,x=c.inst;h=b(),x.destroy=h}c=c.next}while(c!==g)}}catch(T){st(s,s.return,T)}}function va(i,s,c){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var x=h.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,g=s;var z=c,te=T;try{te()}catch(oe){st(g,z,oe)}}}h=h.next}while(h!==b)}}catch(oe){st(s,s.return,oe)}}function fp(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Wy(s,c)}catch(h){st(i,i.return,h)}}}function hp(i,s,c){c.props=Cs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){st(i,s,h)}}function Rl(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(g){st(i,s,g)}}function Yr(i,s){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){st(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){st(i,s,g)}else c.current=null}function dp(i){var s=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){st(i,i.return,g)}}function Y5(i,s,c){try{var h=i.stateNode;Jv(h,i.type,c,s),h[Dn]=s}catch(g){st(i,i.return,g)}}function yp(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ia(i.type)||i.tag===4}function Z5(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ia(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function J5(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=yf));else if(h!==4&&(h===27&&Ia(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(J5(i,s,c),i=i.sibling;i!==null;)J5(i,s,c),i=i.sibling}function nf(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(h!==4&&(h===27&&Ia(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(nf(i,s,c),i=i.sibling;i!==null;)nf(i,s,c),i=i.sibling}function pp(i){var s=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);on(s,h,c),s[dn]=i,s[Dn]=c}catch(b){st(i,i.return,b)}}var Ni=!1,Nt=!1,X5=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Iv(i,s){if(i=i.containerInfo,Ed=Ef,i=Cy(i),Zh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var x=0,T=-1,z=-1,te=0,oe=0,fe=i,re=null;t:for(;;){for(var ie;fe!==c||g!==0&&fe.nodeType!==3||(T=x+g),fe!==b||h!==0&&fe.nodeType!==3||(z=x+h),fe.nodeType===3&&(x+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)re=fe,fe=ie;for(;;){if(fe===i)break t;if(re===c&&++te===g&&(T=x),re===b&&++oe===h&&(z=x),(ie=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ie}c=T===-1||z===-1?null:{start:T,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(vd={focusedElem:i,selectionRange:c},Ef=!1,Jt=s;Jt!==null;)if(s=Jt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Jt=i;else for(;Jt!==null;){switch(s=Jt,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=s,g=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var Ce=Cs(c.type,g,c.elementType===c.type);i=h.getSnapshotBeforeUpdate(Ce,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Se){st(c,c.return,Se)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)xd(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Jt=i;break}Jt=s.return}}function mp(i,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Sa(i,c),h&4&&Il(5,c);break;case 1:if(Sa(i,c),h&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(x){st(c,c.return,x)}else{var g=Cs(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){st(c,c.return,x)}}h&64&&fp(c),h&512&&Rl(c,c.return);break;case 3:if(Sa(i,c),h&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Wy(i,s)}catch(x){st(c,c.return,x)}}break;case 27:s===null&&h&4&&pp(c);case 26:case 5:Sa(i,c),s===null&&h&4&&dp(c),h&512&&Rl(c,c.return);break;case 12:Sa(i,c);break;case 13:Sa(i,c),h&4&&wp(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=Qv.bind(null,c),rS(i,c))));break;case 22:if(h=c.memoizedState!==null||Ni,!h){s=s!==null&&s.memoizedState!==null||Nt,g=Ni;var b=Nt;Ni=h,(Nt=s)&&!b?ka(i,c,(c.subtreeFlags&8772)!==0):Sa(i,c),Ni=g,Nt=b}break;case 30:break;default:Sa(i,c)}}function bp(i){var s=i.alternate;s!==null&&(i.alternate=null,bp(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ih(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,Tn=!1;function Oi(i,s,c){for(c=c.child;c!==null;)Ap(i,s,c),c=c.sibling}function Ap(i,s,c){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Wc,c)}catch{}switch(c.tag){case 26:Nt||Yr(c,s),Oi(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nt||Yr(c,s);var h=pt,g=Tn;Ia(c.type)&&(pt=c.stateNode,Tn=!1),Oi(i,s,c),Hl(c.stateNode),pt=h,Tn=g;break;case 5:Nt||Yr(c,s);case 6:if(h=pt,g=Tn,pt=null,Oi(i,s,c),pt=h,Tn=g,pt!==null)if(Tn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(c.stateNode)}catch(b){st(c,s,b)}else try{pt.removeChild(c.stateNode)}catch(b){st(c,s,b)}break;case 18:pt!==null&&(Tn?(i=pt,og(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Yl(i)):og(pt,c.stateNode));break;case 4:h=pt,g=Tn,pt=c.stateNode.containerInfo,Tn=!0,Oi(i,s,c),pt=h,Tn=g;break;case 0:case 11:case 14:case 15:Nt||va(2,c,s),Nt||va(4,c,s),Oi(i,s,c);break;case 1:Nt||(Yr(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&hp(c,s,h)),Oi(i,s,c);break;case 21:Oi(i,s,c);break;case 22:Nt=(h=Nt)||c.memoizedState!==null,Oi(i,s,c),Nt=h;break;default:Oi(i,s,c)}}function wp(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yl(i)}catch(c){st(s,s.return,c)}}function Rv(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new gp),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new gp),s;default:throw Error(n(435,i.tag))}}function W5(i,s){var c=Rv(i);s.forEach(function(h){var g=Hv.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}function Xn(i,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],b=i,x=s,T=x;e:for(;T!==null;){switch(T.tag){case 27:if(Ia(T.type)){pt=T.stateNode,Tn=!1;break e}break;case 5:pt=T.stateNode,Tn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(pt===null)throw Error(n(160));Ap(b,x,g),pt=null,Tn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ep(s,i),s=s.sibling}var Nr=null;function Ep(i,s){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xn(s,i),Wn(i),h&4&&(va(3,i,i.return),Il(3,i),va(5,i,i.return));break;case 1:Xn(s,i),Wn(i),h&512&&(Nt||c===null||Yr(c,c.return)),h&64&&Ni&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Nr;if(Xn(s,i),Wn(i),h&512&&(Nt||c===null||Yr(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[tl]||b[dn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),on(b,h,c),b[dn]=i,Yt(b),h=b;break e;case"link":var x=pg("link","href",g).get(h+(c.href||""));if(x){for(var T=0;T<x.length;T++)if(b=x[T],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(T,1);break t}}b=g.createElement(h),on(b,h,c),g.head.appendChild(b);break;case"meta":if(x=pg("meta","content",g).get(h+(c.content||""))){for(T=0;T<x.length;T++)if(b=x[T],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(T,1);break t}}b=g.createElement(h),on(b,h,c),g.head.appendChild(b);break;default:throw Error(n(468,h))}b[dn]=i,Yt(b),h=b}i.stateNode=h}else gg(g,i.type,i.stateNode);else i.stateNode=yg(g,h,i.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?gg(g,i.type,i.stateNode):yg(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Y5(i,i.memoizedProps,c.memoizedProps)}break;case 27:Xn(s,i),Wn(i),h&512&&(Nt||c===null||Yr(c,c.return)),c!==null&&h&4&&Y5(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Xn(s,i),Wn(i),h&512&&(Nt||c===null||Yr(c,c.return)),i.flags&32){g=i.stateNode;try{Bo(g,"")}catch(ie){st(i,i.return,ie)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Y5(i,g,c!==null?c.memoizedProps:g)),h&1024&&(X5=!0);break;case 6:if(Xn(s,i),Wn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(ie){st(i,i.return,ie)}}break;case 3:if(bf=null,g=Nr,Nr=gf(s.containerInfo),Xn(s,i),Nr=g,Wn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Yl(s.containerInfo)}catch(ie){st(i,i.return,ie)}X5&&(X5=!1,vp(i));break;case 4:h=Nr,Nr=gf(i.stateNode.containerInfo),Xn(s,i),Wn(i),Nr=h;break;case 12:Xn(s,i),Wn(i);break;case 13:Xn(s,i),Wn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(id=Vn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,W5(i,h)));break;case 22:g=i.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,te=Ni,oe=Nt;if(Ni=te||g,Nt=oe||z,Xn(s,i),Nt=oe,Ni=te,Wn(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(c===null||z||Ni||Nt||Us(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){z=c=s;try{if(b=z.stateNode,g)x=b.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=z.stateNode;var fe=z.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){st(z,z.return,ie)}}}else if(s.tag===6){if(c===null){z=s;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(ie){st(z,z.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,W5(i,c))));break;case 19:Xn(s,i),Wn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,W5(i,h)));break;case 30:break;case 21:break;default:Xn(s,i),Wn(i)}}function Wn(i){var s=i.flags;if(s&2){try{for(var c,h=i.return;h!==null;){if(yp(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,b=Z5(i);nf(i,b,g);break;case 5:var x=c.stateNode;c.flags&32&&(Bo(x,""),c.flags&=-33);var T=Z5(i);nf(i,T,x);break;case 3:case 4:var z=c.stateNode.containerInfo,te=Z5(i);J5(i,te,z);break;default:throw Error(n(161))}}catch(oe){st(i,i.return,oe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function vp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;vp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Sa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mp(i,s.alternate,s),s=s.sibling}function Us(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:va(4,s,s.return),Us(s);break;case 1:Yr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&hp(s,s.return,c),Us(s);break;case 27:Hl(s.stateNode);case 26:case 5:Yr(s,s.return),Us(s);break;case 22:s.memoizedState===null&&Us(s);break;case 30:Us(s);break;default:Us(s)}i=i.sibling}}function ka(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,b=s,x=b.flags;switch(b.tag){case 0:case 11:case 15:ka(g,b,c),Il(4,b);break;case 1:if(ka(g,b,c),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){st(h,h.return,te)}if(h=b,g=h.updateQueue,g!==null){var T=h.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Xy(z[g],T)}catch(te){st(h,h.return,te)}}c&&x&64&&fp(b),Rl(b,b.return);break;case 27:pp(b);case 26:case 5:ka(g,b,c),c&&h===null&&x&4&&dp(b),Rl(b,b.return);break;case 12:ka(g,b,c);break;case 13:ka(g,b,c),c&&x&4&&wp(g,b);break;case 22:b.memoizedState===null&&ka(g,b,c),Rl(b,b.return);break;case 30:break;default:ka(g,b,c)}s=s.sibling}}function $5(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&gl(c))}function ed(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gl(i))}function Zr(i,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sp(i,s,c,h),s=s.sibling}function Sp(i,s,c,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(i,s,c,h),g&2048&&Il(9,s);break;case 1:Zr(i,s,c,h);break;case 3:Zr(i,s,c,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gl(i)));break;case 12:if(g&2048){Zr(i,s,c,h),i=s.stateNode;try{var b=s.memoizedProps,x=b.id,T=b.onPostCommit;typeof T=="function"&&T(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){st(s,s.return,z)}}else Zr(i,s,c,h);break;case 13:Zr(i,s,c,h);break;case 23:break;case 22:b=s.stateNode,x=s.alternate,s.memoizedState!==null?b._visibility&2?Zr(i,s,c,h):Tl(i,s):b._visibility&2?Zr(i,s,c,h):(b._visibility|=2,jo(i,s,c,h,(s.subtreeFlags&10256)!==0)),g&2048&&$5(x,s);break;case 24:Zr(i,s,c,h),g&2048&&ed(s.alternate,s);break;default:Zr(i,s,c,h)}}function jo(i,s,c,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,x=s,T=c,z=h,te=x.flags;switch(x.tag){case 0:case 11:case 15:jo(b,x,T,z,g),Il(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?jo(b,x,T,z,g):Tl(b,x):(oe._visibility|=2,jo(b,x,T,z,g)),g&&te&2048&&$5(x.alternate,x);break;case 24:jo(b,x,T,z,g),g&&te&2048&&ed(x.alternate,x);break;default:jo(b,x,T,z,g)}s=s.sibling}}function Tl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,h=s,g=h.flags;switch(h.tag){case 22:Tl(c,h),g&2048&&$5(h.alternate,h);break;case 24:Tl(c,h),g&2048&&ed(h.alternate,h);break;default:Tl(c,h)}s=s.sibling}}var Nl=8192;function Vo(i){if(i.subtreeFlags&Nl)for(i=i.child;i!==null;)kp(i),i=i.sibling}function kp(i){switch(i.tag){case 26:Vo(i),i.flags&Nl&&i.memoizedState!==null&&gS(Nr,i.memoizedState,i.memoizedProps);break;case 5:Vo(i);break;case 3:case 4:var s=Nr;Nr=gf(i.stateNode.containerInfo),Vo(i),Nr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Nl,Nl=16777216,Vo(i),Nl=s):Vo(i));break;default:Vo(i)}}function xp(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ol(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];Jt=h,Cp(h,i)}xp(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bp(i),i=i.sibling}function Bp(i){switch(i.tag){case 0:case 11:case 15:Ol(i),i.flags&2048&&va(9,i,i.return);break;case 3:Ol(i);break;case 12:Ol(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rf(i)):Ol(i);break;default:Ol(i)}}function rf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];Jt=h,Cp(h,i)}xp(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:va(8,s,s.return),rf(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,rf(s));break;default:rf(s)}i=i.sibling}}function Cp(i,s){for(;Jt!==null;){var c=Jt;switch(c.tag){case 0:case 11:case 15:va(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:gl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Jt=h;else e:for(c=i;Jt!==null;){h=Jt;var g=h.sibling,b=h.return;if(bp(h),h===c){Jt=null;break e}if(g!==null){g.return=b,Jt=g;break e}Jt=b}}}var Tv={getCacheForType:function(i){var s=yn(_t),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},Nv=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,Le=null,Fe=0,$e=0,$n=null,xa=!1,qo=!1,td=!1,Pi=0,Bt=0,Ba=0,Ds=0,nd=0,mr=0,Yo=0,Pl=null,Nn=null,rd=!1,id=0,af=1/0,sf=null,Ca=null,sn=0,Ua=null,Zo=null,Jo=0,ad=0,sd=null,Up=null,Kl=0,od=null;function er(){if((We&2)!==0&&Fe!==0)return Fe&-Fe;if(O.T!==null){var i=Mo;return i!==0?i:yd()}return _3()}function Dp(){mr===0&&(mr=(Fe&536870912)===0||Ze?H3():536870912);var i=gr.current;return i!==null&&(i.flags|=32),mr}function tr(i,s,c){(i===lt&&($e===2||$e===9)||i.cancelPendingCommit!==null)&&(Xo(i,0),Da(i,Fe,mr,!1)),el(i,c),((We&2)===0||i!==lt)&&(i===lt&&((We&2)===0&&(Ds|=c),Bt===4&&Da(i,Fe,mr,!1)),Jr(i))}function Ip(i,s,c){if((We&6)!==0)throw Error(n(327));var h=!c&&(s&124)===0&&(s&i.expiredLanes)===0||$c(i,s),g=h?Kv(i,s):ud(i,s,!0),b=h;do{if(g===0){qo&&!h&&Da(i,s,0,!1);break}else{if(c=i.current.alternate,b&&!Ov(c)){g=ud(i,s,!1),b=!1;continue}if(g===2){if(b=s,i.errorRecoveryDisabledLanes&b)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var T=i;g=Pl;var z=T.current.memoizedState.isDehydrated;if(z&&(Xo(T,x).flags|=256),x=ud(T,x,!1),x!==2){if(td&&!z){T.errorRecoveryDisabledLanes|=b,Ds|=b,g=4;break e}b=Nn,Nn=g,b!==null&&(Nn===null?Nn=b:Nn.push.apply(Nn,b))}g=x}if(b=!1,g!==2)continue}}if(g===1){Xo(i,0),Da(i,s,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Da(h,s,mr,!xa);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(g=id+300-Vn(),10<g)){if(Da(h,s,mr,!xa),g0(h,0,!0)!==0)break e;h.timeoutHandle=ag(Rp.bind(null,h,c,Nn,sf,rd,s,mr,Ds,Yo,xa,b,2,-0,0),g);break e}Rp(h,c,Nn,sf,rd,s,mr,Ds,Yo,xa,b,0,-0,0)}}break}while(!0);Jr(i)}function Rp(i,s,c,h,g,b,x,T,z,te,oe,fe,re,ie){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:pS},kp(s),fe=mS(),fe!==null)){i.cancelPendingCommit=fe(Lp.bind(null,i,s,b,c,h,g,x,T,z,oe,1,re,ie)),Da(i,b,x,!te);return}Lp(i,s,b,c,h,g,x,T,z)}function Ov(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],b=g.getSnapshot;g=g.value;try{if(!Zn(b(),g))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Da(i,s,c,h){s&=~nd,s&=~Ds,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var b=31-Yn(g),x=1<<b;h[b]=-1,g&=~x}c!==0&&G3(i,c,s)}function of(){return(We&6)===0?(Ml(0),!1):!0}function cd(){if(Le!==null){if($e===0)var i=Le.return;else i=Le,Ci=Ss=null,x5(i),Fo=null,Cl=0,i=Le;for(;i!==null;)up(i.alternate,i),i=i.return;Le=null}}function Xo(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,Wv(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),cd(),lt=i,Le=c=ki(i.current,null),Fe=s,$e=0,$n=null,xa=!1,qo=$c(i,s),td=!1,Yo=mr=nd=Ds=Ba=Bt=0,Nn=Pl=null,rd=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-Yn(h),b=1<<g;s|=i[g],h&=~b}return Pi=s,U0(),c}function Tp(i,s){Oe=null,O.H=q0,s===bl||s===M0?(s=Zy(),$e=3):s===Vy?(s=Zy(),$e=4):$e=s===J8?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Le===null&&(Bt=1,W0(i,hr(s,i.current)))}function Np(){var i=O.H;return O.H=q0,i===null?q0:i}function Op(){var i=O.A;return O.A=Tv,i}function ld(){Bt=4,xa||(Fe&4194048)!==Fe&&gr.current!==null||(qo=!0),(Ba&134217727)===0&&(Ds&134217727)===0||lt===null||Da(lt,Fe,mr,!1)}function ud(i,s,c){var h=We;We|=2;var g=Np(),b=Op();(lt!==i||Fe!==s)&&(sf=null,Xo(i,s)),s=!1;var x=Bt;e:do try{if($e!==0&&Le!==null){var T=Le,z=$n;switch($e){case 8:cd(),x=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(s=!0);var te=$e;if($e=0,$n=null,Wo(i,T,z,te),c&&qo){x=0;break e}break;default:te=$e,$e=0,$n=null,Wo(i,T,z,te)}}Pv(),x=Bt;break}catch(oe){Tp(i,oe)}while(!0);return s&&i.shellSuspendCounter++,Ci=Ss=null,We=h,O.H=g,O.A=b,Le===null&&(lt=null,Fe=0,U0()),x}function Pv(){for(;Le!==null;)Pp(Le)}function Kv(i,s){var c=We;We|=2;var h=Np(),g=Op();lt!==i||Fe!==s?(sf=null,af=Vn()+500,Xo(i,s)):qo=$c(i,s);e:do try{if($e!==0&&Le!==null){s=Le;var b=$n;t:switch($e){case 1:$e=0,$n=null,Wo(i,s,b,1);break;case 2:case 9:if(qy(b)){$e=0,$n=null,Kp(s);break}s=function(){$e!==2&&$e!==9||lt!==i||($e=7),Jr(i)},b.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:qy(b)?($e=0,$n=null,Kp(s)):($e=0,$n=null,Wo(i,s,b,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var T=Le;if(!x||mg(x)){$e=0,$n=null;var z=T.sibling;if(z!==null)Le=z;else{var te=T.return;te!==null?(Le=te,cf(te)):Le=null}break t}}$e=0,$n=null,Wo(i,s,b,5);break;case 6:$e=0,$n=null,Wo(i,s,b,6);break;case 8:cd(),Bt=6;break e;default:throw Error(n(462))}}Mv();break}catch(oe){Tp(i,oe)}while(!0);return Ci=Ss=null,O.H=h,O.A=g,We=c,Le!==null?0:(lt=null,Fe=0,U0(),Bt)}function Mv(){for(;Le!==null&&!tt();)Pp(Le)}function Pp(i){var s=cp(i.alternate,i,Pi);i.memoizedProps=i.pendingProps,s===null?cf(i):Le=s}function Kp(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=np(c,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=np(c,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:x5(s);default:up(c,s),s=Le=My(s,Pi),s=cp(c,s,Pi)}i.memoizedProps=i.pendingProps,s===null?cf(i):Le=s}function Wo(i,s,c,h){Ci=Ss=null,x5(s),Fo=null,Cl=0;var g=s.return;try{if(Bv(i,g,s,c,Fe)){Bt=1,W0(i,hr(c,i.current)),Le=null;return}}catch(b){if(g!==null)throw Le=g,b;Bt=1,W0(i,hr(c,i.current)),Le=null;return}s.flags&32768?(Ze||h===1?i=!0:qo||(Fe&536870912)!==0?i=!1:(xa=i=!0,(h===2||h===9||h===3||h===6)&&(h=gr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Mp(s,i)):cf(s)}function cf(i){var s=i;do{if((s.flags&32768)!==0){Mp(s,xa);return}i=s.return;var c=Uv(s.alternate,s,Pi);if(c!==null){Le=c;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);Bt===0&&(Bt=5)}function Mp(i,s){do{var c=Dv(i.alternate,i);if(c!==null){c.flags&=32767,Le=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=c}while(i!==null);Bt=6,Le=null}function Lp(i,s,c,h,g,b,x,T,z){i.cancelPendingCommit=null;do lf();while(sn!==0);if((We&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(b=s.lanes|s.childLanes,b|=e5,pE(i,c,b,x,T,z),i===lt&&(Le=lt=null,Fe=0),Zo=s,Ua=i,Jo=c,ad=b,sd=g,Up=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zv(d0,function(){return Fp(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=O.T,O.T=null,g=j.p,j.p=2,x=We,We|=4;try{Iv(i,s,c)}finally{We=x,j.p=g,O.T=h}}sn=1,Qp(),Hp(),zp()}}function Qp(){if(sn===1){sn=0;var i=Ua,s=Zo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var h=j.p;j.p=2;var g=We;We|=4;try{Ep(s,i);var b=vd,x=Cy(i.containerInfo),T=b.focusedElem,z=b.selectionRange;if(x!==T&&T&&T.ownerDocument&&By(T.ownerDocument.documentElement,T)){if(z!==null&&Zh(T)){var te=z.start,oe=z.end;if(oe===void 0&&(oe=te),"selectionStart"in T)T.selectionStart=te,T.selectionEnd=Math.min(oe,T.value.length);else{var fe=T.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Ce=T.textContent.length,Se=Math.min(z.start,Ce),it=z.end===void 0?Se:Math.min(z.end,Ce);!ie.extend&&Se>it&&(x=it,it=Se,Se=x);var J=xy(T,Se),V=xy(T,it);if(J&&V&&(ie.rangeCount!==1||ie.anchorNode!==J.node||ie.anchorOffset!==J.offset||ie.focusNode!==V.node||ie.focusOffset!==V.offset)){var $=fe.createRange();$.setStart(J.node,J.offset),ie.removeAllRanges(),Se>it?(ie.addRange($),ie.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),ie.addRange($))}}}}for(fe=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<fe.length;T++){var ue=fe[T];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Ef=!!Ed,vd=Ed=null}finally{We=g,j.p=h,O.T=c}}i.current=s,sn=2}}function Hp(){if(sn===2){sn=0;var i=Ua,s=Zo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var h=j.p;j.p=2;var g=We;We|=4;try{mp(i,s.alternate,s)}finally{We=g,j.p=h,O.T=c}}sn=3}}function zp(){if(sn===4||sn===3){sn=0,jr();var i=Ua,s=Zo,c=Jo,h=Up;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,Zo=Ua=null,Gp(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ca=null),Uh(c),s=s.stateNode,qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Wc,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=O.T,g=j.p,j.p=2,O.T=null;try{for(var b=i.onRecoverableError,x=0;x<h.length;x++){var T=h[x];b(T.value,{componentStack:T.stack})}}finally{O.T=s,j.p=g}}(Jo&3)!==0&&lf(),Jr(i),g=i.pendingLanes,(c&4194090)!==0&&(g&42)!==0?i===od?Kl++:(Kl=0,od=i):Kl=0,Ml(0)}}function Gp(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,gl(s)))}function lf(i){return Qp(),Hp(),zp(),Fp()}function Fp(){if(sn!==5)return!1;var i=Ua,s=ad;ad=0;var c=Uh(Jo),h=O.T,g=j.p;try{j.p=32>c?32:c,O.T=null,c=sd,sd=null;var b=Ua,x=Jo;if(sn=0,Zo=Ua=null,Jo=0,(We&6)!==0)throw Error(n(331));var T=We;if(We|=4,Bp(b.current),Sp(b,b.current,x,c),We=T,Ml(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Wc,b)}catch{}return!0}finally{j.p=g,O.T=h,Gp(i,s)}}function _p(i,s,c){s=hr(c,s),s=Q5(i.stateNode,s,2),i=ba(i,s,2),i!==null&&(el(i,2),Jr(i))}function st(i,s,c){if(i.tag===3)_p(i,i,c);else for(;s!==null;){if(s.tag===3){_p(s,i,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){i=hr(c,i),c=Y8(2),h=ba(s,c,2),h!==null&&(Z8(c,h,s,i),el(h,2),Jr(h));break}}s=s.return}}function fd(i,s,c){var h=i.pingCache;if(h===null){h=i.pingCache=new Nv;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(c)||(td=!0,g.add(c),i=Lv.bind(null,i,s,c),s.then(i,i))}function Lv(i,s,c){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,lt===i&&(Fe&c)===c&&(Bt===4||Bt===3&&(Fe&62914560)===Fe&&300>Vn()-id?(We&2)===0&&Xo(i,0):nd|=c,Yo===Fe&&(Yo=0)),Jr(i)}function jp(i,s){s===0&&(s=z3()),i=No(i,s),i!==null&&(el(i,s),Jr(i))}function Qv(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),jp(i,c)}function Hv(i,s){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(s),jp(i,c)}function zv(i,s){return qe(i,s)}var uf=null,$o=null,hd=!1,ff=!1,dd=!1,Is=0;function Jr(i){i!==$o&&i.next===null&&($o===null?uf=$o=i:$o=$o.next=i),ff=!0,hd||(hd=!0,Fv())}function Ml(i,s){if(!dd&&ff){dd=!0;do for(var c=!1,h=uf;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var x=h.suspendedLanes,T=h.pingedLanes;b=(1<<31-Yn(42|i)+1)-1,b&=g&~(x&~T),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Zp(h,b))}else b=Fe,b=g0(h,h===lt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||$c(h,b)||(c=!0,Zp(h,b));h=h.next}while(c);dd=!1}}function Gv(){Vp()}function Vp(){ff=hd=!1;var i=0;Is!==0&&(Xv()&&(i=Is),Is=0);for(var s=Vn(),c=null,h=uf;h!==null;){var g=h.next,b=qp(h,s);b===0?(h.next=null,c===null?uf=g:c.next=g,g===null&&($o=c)):(c=h,(i!==0||(b&3)!==0)&&(ff=!0)),h=g}Ml(i)}function qp(i,s){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var x=31-Yn(b),T=1<<x,z=g[x];z===-1?((T&c)===0||(T&h)!==0)&&(g[x]=yE(T,s)):z<=s&&(i.expiredLanes|=T),b&=~T}if(s=lt,c=Fe,c=g0(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===s&&($e===2||$e===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ye(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||$c(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(h!==null&&Ye(h),Uh(c)){case 2:case 8:c=bo;break;case 32:c=d0;break;case 268435456:c=Q3;break;default:c=d0}return h=Yp.bind(null,i),c=qe(c,h),i.callbackPriority=s,i.callbackNode=c,s}return h!==null&&h!==null&&Ye(h),i.callbackPriority=2,i.callbackNode=null,2}function Yp(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(lf()&&i.callbackNode!==c)return null;var h=Fe;return h=g0(i,i===lt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Ip(i,h,s),qp(i,Vn()),i.callbackNode!=null&&i.callbackNode===c?Yp.bind(null,i):null)}function Zp(i,s){if(lf())return null;Ip(i,s,!0)}function Fv(){$v(function(){(We&6)!==0?qe(mo,Gv):Vp()})}function yd(){return Is===0&&(Is=H3()),Is}function Jp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:E0(""+i)}function Xp(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function _v(i,s,c,h,g){if(s==="submit"&&c&&c.stateNode===g){var b=Jp((g[Dn]||null).action),x=h.submitter;x&&(s=(s=x[Dn]||null)?Jp(s.formAction):x.getAttribute("formAction"),s!==null&&(b=s,x=null));var T=new x0("action","action",null,h,g);i.push({event:T,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Is!==0){var z=x?Xp(g,x):new FormData(g);O5(c,{pending:!0,data:z,method:g.method,action:b},null,z)}}else typeof b=="function"&&(T.preventDefault(),z=x?Xp(g,x):new FormData(g),O5(c,{pending:!0,data:z,method:g.method,action:b},b,z))},currentTarget:g}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],jv=gd.toLowerCase(),Vv=gd[0].toUpperCase()+gd.slice(1);Tr(jv,"on"+Vv)}Tr(Iy,"onAnimationEnd"),Tr(Ry,"onAnimationIteration"),Tr(Ty,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(lv,"onTransitionRun"),Tr(uv,"onTransitionStart"),Tr(fv,"onTransitionCancel"),Tr(Ny,"onTransitionEnd"),So("onMouseEnter",["mouseout","mouseover"]),So("onMouseLeave",["mouseout","mouseover"]),So("onPointerEnter",["pointerout","pointerover"]),So("onPointerLeave",["pointerout","pointerover"]),ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Wp(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var x=h.length-1;0<=x;x--){var T=h[x],z=T.instance,te=T.currentTarget;if(T=T.listener,z!==b&&g.isPropagationStopped())break e;b=T,g.currentTarget=te;try{b(g)}catch(oe){X0(oe)}g.currentTarget=null,b=z}else for(x=0;x<h.length;x++){if(T=h[x],z=T.instance,te=T.currentTarget,T=T.listener,z!==b&&g.isPropagationStopped())break e;b=T,g.currentTarget=te;try{b(g)}catch(oe){X0(oe)}g.currentTarget=null,b=z}}}}function Qe(i,s){var c=s[Dh];c===void 0&&(c=s[Dh]=new Set);var h=i+"__bubble";c.has(h)||($p(s,i,2,!1),c.add(h))}function md(i,s,c){var h=0;s&&(h|=4),$p(c,i,h,s)}var hf="_reactListening"+Math.random().toString(36).slice(2);function bd(i){if(!i[hf]){i[hf]=!0,V3.forEach(function(c){c!=="selectionchange"&&(qv.has(c)||md(c,!1,i),md(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[hf]||(s[hf]=!0,md("selectionchange",!1,s))}}function $p(i,s,c,h){switch(Sg(s)){case 2:var g=wS;break;case 8:g=ES;break;default:g=Td}c=g.bind(null,s,c,i),g=void 0,!Hh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,c,{capture:!0,passive:g}):i.addEventListener(s,c,!0):g!==void 0?i.addEventListener(s,c,{passive:g}):i.addEventListener(s,c,!1)}function Ad(i,s,c,h,g){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var T=h.stateNode.containerInfo;if(T===g)break;if(x===4)for(x=h.return;x!==null;){var z=x.tag;if((z===3||z===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;T!==null;){if(x=wo(T),x===null)return;if(z=x.tag,z===5||z===6||z===26||z===27){h=b=x;continue e}T=T.parentNode}}h=h.return}sy(function(){var te=b,oe=Lh(c),fe=[];e:{var re=Oy.get(i);if(re!==void 0){var ie=x0,Ce=i;switch(i){case"keypress":if(S0(c)===0)break e;case"keydown":case"keyup":ie=zE;break;case"focusin":Ce="focus",ie=_h;break;case"focusout":Ce="blur",ie=_h;break;case"beforeblur":case"afterblur":ie=_h;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=DE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_E;break;case Iy:case Ry:case Ty:ie=TE;break;case Ny:ie=VE;break;case"scroll":case"scrollend":ie=CE;break;case"wheel":ie=YE;break;case"copy":case"cut":case"paste":ie=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=fy;break;case"toggle":case"beforetoggle":ie=JE}var Se=(s&4)!==0,it=!Se&&(i==="scroll"||i==="scrollend"),J=Se?re!==null?re+"Capture":null:re;Se=[];for(var V=te,$;V!==null;){var ue=V;if($=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||$===null||J===null||(ue=rl(V,J),ue!=null&&Se.push(Ql(V,ue,$))),it)break;V=V.return}0<Se.length&&(re=new ie(re,Ce,null,c,oe),fe.push({event:re,listeners:Se}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&c!==Mh&&(Ce=c.relatedTarget||c.fromElement)&&(wo(Ce)||Ce[Ao]))break e;if((ie||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Ce=c.relatedTarget||c.toElement,ie=te,Ce=Ce?wo(Ce):null,Ce!==null&&(it=o(Ce),Se=Ce.tag,Ce!==it||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(ie=null,Ce=te),ie!==Ce)){if(Se=ly,ue="onMouseLeave",J="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Se=fy,ue="onPointerLeave",J="onPointerEnter",V="pointer"),it=ie==null?re:nl(ie),$=Ce==null?re:nl(Ce),re=new Se(ue,V+"leave",ie,c,oe),re.target=it,re.relatedTarget=$,ue=null,wo(oe)===te&&(Se=new Se(J,V+"enter",Ce,c,oe),Se.target=$,Se.relatedTarget=it,ue=Se),it=ue,ie&&Ce)t:{for(Se=ie,J=Ce,V=0,$=Se;$;$=ec($))V++;for($=0,ue=J;ue;ue=ec(ue))$++;for(;0<V-$;)Se=ec(Se),V--;for(;0<$-V;)J=ec(J),$--;for(;V--;){if(Se===J||J!==null&&Se===J.alternate)break t;Se=ec(Se),J=ec(J)}Se=null}else Se=null;ie!==null&&eg(fe,re,ie,Se,!1),Ce!==null&&it!==null&&eg(fe,it,Ce,Se,!0)}}e:{if(re=te?nl(te):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var be=Ay;else if(my(re))if(wy)be=sv;else{be=iv;var Pe=rv}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Kh(te.elementType)&&(be=Ay):be=av;if(be&&(be=be(i,te))){by(fe,be,c,oe);break e}Pe&&Pe(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Ph(re,"number",re.value)}switch(Pe=te?nl(te):window,i){case"focusin":(my(Pe)||Pe.contentEditable==="true")&&(Io=Pe,Jh=te,fl=null);break;case"focusout":fl=Jh=Io=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Uy(fe,c,oe);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Uy(fe,c,oe)}var Ae;if(Vh)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Do?py(i,c)&&(xe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(hy&&c.locale!=="ko"&&(Do||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Do&&(Ae=oy()):(ya=oe,zh="value"in ya?ya.value:ya.textContent,Do=!0)),Pe=df(te,xe),0<Pe.length&&(xe=new uy(xe,i,null,c,oe),fe.push({event:xe,listeners:Pe}),Ae?xe.data=Ae:(Ae=gy(c),Ae!==null&&(xe.data=Ae)))),(Ae=WE?$E(i,c):ev(i,c))&&(xe=df(te,"onBeforeInput"),0<xe.length&&(Pe=new uy("onBeforeInput","beforeinput",null,c,oe),fe.push({event:Pe,listeners:xe}),Pe.data=Ae)),_v(fe,i,te,c,oe)}Wp(fe,s)})}function Ql(i,s,c){return{instance:i,listener:s,currentTarget:c}}function df(i,s){for(var c=s+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=rl(i,c),g!=null&&h.unshift(Ql(i,g,b)),g=rl(i,s),g!=null&&h.push(Ql(i,g,b))),i.tag===3)return h;i=i.return}return[]}function ec(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function eg(i,s,c,h,g){for(var b=s._reactName,x=[];c!==null&&c!==h;){var T=c,z=T.alternate,te=T.stateNode;if(T=T.tag,z!==null&&z===h)break;T!==5&&T!==26&&T!==27||te===null||(z=te,g?(te=rl(c,b),te!=null&&x.unshift(Ql(c,te,z))):g||(te=rl(c,b),te!=null&&x.push(Ql(c,te,z)))),c=c.return}x.length!==0&&i.push({event:s,listeners:x})}var Yv=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function tg(i){return(typeof i=="string"?i:""+i).replace(Yv,`
`).replace(Zv,"")}function ng(i,s){return s=tg(s),tg(i)===s}function yf(){}function rt(i,s,c,h,g,b){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Bo(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Bo(i,""+h);break;case"className":b0(i,"class",h);break;case"tabIndex":b0(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":b0(i,c,h);break;case"style":iy(i,h,b);break;case"data":if(s!=="object"){b0(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=E0(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&rt(i,s,"name",g.name,g,null),rt(i,s,"formEncType",g.formEncType,g,null),rt(i,s,"formMethod",g.formMethod,g,null),rt(i,s,"formTarget",g.formTarget,g,null)):(rt(i,s,"encType",g.encType,g,null),rt(i,s,"method",g.method,g,null),rt(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=E0(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=yf);break;case"onScroll":h!=null&&Qe("scroll",i);break;case"onScrollEnd":h!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=E0(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),m0(i,"popover",h);break;case"xlinkActuate":vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":vi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":vi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":vi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":vi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":m0(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xE.get(c)||c,m0(i,c,h))}}function wd(i,s,c,h,g,b){switch(c){case"style":iy(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Bo(i,h):(typeof h=="number"||typeof h=="bigint")&&Bo(i,""+h);break;case"onScroll":h!=null&&Qe("scroll",i);break;case"onScrollEnd":h!=null&&Qe("scrollend",i);break;case"onClick":h!=null&&(i.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q3.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),s=c.slice(2,g?c.length-7:void 0),b=i[Dn]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(s,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,h,g);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):m0(i,c,h)}}}function on(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var h=!1,g=!1,b;for(b in c)if(c.hasOwnProperty(b)){var x=c[b];if(x!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:rt(i,s,b,x,c,null)}}g&&rt(i,s,"srcSet",c.srcSet,c,null),h&&rt(i,s,"src",c.src,c,null);return;case"input":Qe("invalid",i);var T=b=x=g=null,z=null,te=null;for(h in c)if(c.hasOwnProperty(h)){var oe=c[h];if(oe!=null)switch(h){case"name":g=oe;break;case"type":x=oe;break;case"checked":z=oe;break;case"defaultChecked":te=oe;break;case"value":b=oe;break;case"defaultValue":T=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,s));break;default:rt(i,s,h,oe,c,null)}}ey(i,b,T,z,te,x,g,!1),A0(i);return;case"select":Qe("invalid",i),h=x=b=null;for(g in c)if(c.hasOwnProperty(g)&&(T=c[g],T!=null))switch(g){case"value":b=T;break;case"defaultValue":x=T;break;case"multiple":h=T;default:rt(i,s,g,T,c,null)}s=b,c=x,i.multiple=!!h,s!=null?xo(i,!!h,s,!1):c!=null&&xo(i,!!h,c,!0);return;case"textarea":Qe("invalid",i),b=g=h=null;for(x in c)if(c.hasOwnProperty(x)&&(T=c[x],T!=null))switch(x){case"value":h=T;break;case"defaultValue":g=T;break;case"children":b=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:rt(i,s,x,T,c,null)}ny(i,h,g,b),A0(i);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(h=c[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:rt(i,s,z,h,c,null)}return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(h=0;h<Ll.length;h++)Qe(Ll[h],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in c)if(c.hasOwnProperty(te)&&(h=c[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:rt(i,s,te,h,c,null)}return;default:if(Kh(s)){for(oe in c)c.hasOwnProperty(oe)&&(h=c[oe],h!==void 0&&wd(i,s,oe,h,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(h=c[T],h!=null&&rt(i,s,T,h,c,null))}function Jv(i,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,x=null,T=null,z=null,te=null,oe=null;for(ie in c){var fe=c[ie];if(c.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":z=fe;default:h.hasOwnProperty(ie)||rt(i,s,ie,null,h,fe)}}for(var re in h){var ie=h[re];if(fe=c[re],h.hasOwnProperty(re)&&(ie!=null||fe!=null))switch(re){case"type":b=ie;break;case"name":g=ie;break;case"checked":te=ie;break;case"defaultChecked":oe=ie;break;case"value":x=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,s));break;default:ie!==fe&&rt(i,s,re,ie,h,fe)}}Oh(i,x,T,z,te,oe,b,g);return;case"select":ie=x=T=re=null;for(b in c)if(z=c[b],c.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":ie=z;default:h.hasOwnProperty(b)||rt(i,s,b,null,h,z)}for(g in h)if(b=h[g],z=c[g],h.hasOwnProperty(g)&&(b!=null||z!=null))switch(g){case"value":re=b;break;case"defaultValue":T=b;break;case"multiple":x=b;default:b!==z&&rt(i,s,g,b,h,z)}s=T,c=x,h=ie,re!=null?xo(i,!!c,re,!1):!!h!=!!c&&(s!=null?xo(i,!!c,s,!0):xo(i,!!c,c?[]:"",!1));return;case"textarea":ie=re=null;for(T in c)if(g=c[T],c.hasOwnProperty(T)&&g!=null&&!h.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(i,s,T,null,h,g)}for(x in h)if(g=h[x],b=c[x],h.hasOwnProperty(x)&&(g!=null||b!=null))switch(x){case"value":re=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==b&&rt(i,s,x,g,h,b)}ty(i,re,ie);return;case"option":for(var Ce in c)if(re=c[Ce],c.hasOwnProperty(Ce)&&re!=null&&!h.hasOwnProperty(Ce))switch(Ce){case"selected":i.selected=!1;break;default:rt(i,s,Ce,null,h,re)}for(z in h)if(re=h[z],ie=c[z],h.hasOwnProperty(z)&&re!==ie&&(re!=null||ie!=null))switch(z){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:rt(i,s,z,re,h,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in c)re=c[Se],c.hasOwnProperty(Se)&&re!=null&&!h.hasOwnProperty(Se)&&rt(i,s,Se,null,h,re);for(te in h)if(re=h[te],ie=c[te],h.hasOwnProperty(te)&&re!==ie&&(re!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,s));break;default:rt(i,s,te,re,h,ie)}return;default:if(Kh(s)){for(var it in c)re=c[it],c.hasOwnProperty(it)&&re!==void 0&&!h.hasOwnProperty(it)&&wd(i,s,it,void 0,h,re);for(oe in h)re=h[oe],ie=c[oe],!h.hasOwnProperty(oe)||re===ie||re===void 0&&ie===void 0||wd(i,s,oe,re,h,ie);return}}for(var J in c)re=c[J],c.hasOwnProperty(J)&&re!=null&&!h.hasOwnProperty(J)&&rt(i,s,J,null,h,re);for(fe in h)re=h[fe],ie=c[fe],!h.hasOwnProperty(fe)||re===ie||re==null&&ie==null||rt(i,s,fe,re,h,ie)}var Ed=null,vd=null;function pf(i){return i.nodeType===9?i:i.ownerDocument}function rg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Sd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kd=null;function Xv(){var i=window.event;return i&&i.type==="popstate"?i===kd?!1:(kd=i,!0):(kd=null,!1)}var ag=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(i){return sg.resolve(null).then(i).catch(eS)}:ag;function eS(i){setTimeout(function(){throw i})}function Ia(i){return i==="head"}function og(i,s){var c=s,h=0,g=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<h&&8>h){c=h;var x=i.ownerDocument;if(c&1&&Hl(x.documentElement),c&2&&Hl(x.body),c&4)for(c=x.head,Hl(c),x=c.firstChild;x;){var T=x.nextSibling,z=x.nodeName;x[tl]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=T}}if(g===0){i.removeChild(b),Yl(s);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=b}while(c);Yl(s)}function xd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xd(c),Ih(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function tS(i,s,c,h){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[tl])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Or(i.nextSibling),i===null)break}return null}function nS(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Or(i.nextSibling),i===null))return null;return i}function Bd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function rS(i,s){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Or(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Cd=null;function cg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function lg(i,s,c){switch(s=pf(c),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Hl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ih(i)}var br=new Map,ug=new Set;function gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ki=j.d;j.d={f:iS,r:aS,D:sS,C:oS,L:cS,m:lS,X:fS,S:uS,M:hS};function iS(){var i=Ki.f(),s=of();return i||s}function aS(i){var s=Eo(i);s!==null&&s.tag===5&&s.type==="form"?I8(s):Ki.r(i)}var tc=typeof document>"u"?null:document;function fg(i,s,c){var h=tc;if(h&&typeof s=="string"&&s){var g=fr(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),ug.has(g)||(ug.add(g),i={rel:i,crossOrigin:c,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),on(s,"link",i),Yt(s),h.head.appendChild(s)))}}function sS(i){Ki.D(i),fg("dns-prefetch",i,null)}function oS(i,s){Ki.C(i,s),fg("preconnect",i,s)}function cS(i,s,c){Ki.L(i,s,c);var h=tc;if(h&&i&&s){var g='link[rel="preload"][as="'+fr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+fr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+fr(c.imageSizes)+'"]')):g+='[href="'+fr(i)+'"]';var b=g;switch(s){case"style":b=nc(i);break;case"script":b=rc(i)}br.has(b)||(i=y({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),br.set(b,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(zl(b))||s==="script"&&h.querySelector(Gl(b))||(s=h.createElement("link"),on(s,"link",i),Yt(s),h.head.appendChild(s)))}}function lS(i,s){Ki.m(i,s);var c=tc;if(c&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+fr(h)+'"][href="'+fr(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=rc(i)}if(!br.has(b)&&(i=y({rel:"modulepreload",href:i},s),br.set(b,i),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gl(b)))return}h=c.createElement("link"),on(h,"link",i),Yt(h),c.head.appendChild(h)}}}function uS(i,s,c){Ki.S(i,s,c);var h=tc;if(h&&i){var g=vo(h).hoistableStyles,b=nc(i);s=s||"default";var x=g.get(b);if(!x){var T={loading:0,preload:null};if(x=h.querySelector(zl(b)))T.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},c),(c=br.get(b))&&Ud(i,c);var z=x=h.createElement("link");Yt(z),on(z,"link",i),z._p=new Promise(function(te,oe){z.onload=te,z.onerror=oe}),z.addEventListener("load",function(){T.loading|=1}),z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mf(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:T},g.set(b,x)}}}function fS(i,s){Ki.X(i,s);var c=tc;if(c&&i){var h=vo(c).hoistableScripts,g=rc(i),b=h.get(g);b||(b=c.querySelector(Gl(g)),b||(i=y({src:i,async:!0},s),(s=br.get(g))&&Dd(i,s),b=c.createElement("script"),Yt(b),on(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function hS(i,s){Ki.M(i,s);var c=tc;if(c&&i){var h=vo(c).hoistableScripts,g=rc(i),b=h.get(g);b||(b=c.querySelector(Gl(g)),b||(i=y({src:i,async:!0,type:"module"},s),(s=br.get(g))&&Dd(i,s),b=c.createElement("script"),Yt(b),on(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function hg(i,s,c,h){var g=(g=le.current)?gf(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=nc(c.href),c=vo(g).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=nc(c.href);var b=vo(g).hoistableStyles,x=b.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,x),(b=g.querySelector(zl(i)))&&!b._p&&(x.instance=b,x.state.loading=5),br.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},br.set(i,c),b||dS(g,i,c,x.state))),s&&h===null)throw Error(n(528,""));return x}if(s&&h!==null)throw Error(n(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rc(c),c=vo(g).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function nc(i){return'href="'+fr(i)+'"'}function zl(i){return'link[rel="stylesheet"]['+i+"]"}function dg(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function dS(i,s,c,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),on(s,"link",c),Yt(s),i.head.appendChild(s))}function rc(i){return'[src="'+fr(i)+'"]'}function Gl(i){return"script[async]"+i}function yg(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+fr(c.href)+'"]');if(h)return s.instance=h,Yt(h),h;var g=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Yt(h),on(h,"style",g),mf(h,c.precedence,i),s.instance=h;case"stylesheet":g=nc(c.href);var b=i.querySelector(zl(g));if(b)return s.state.loading|=4,s.instance=b,Yt(b),b;h=dg(c),(g=br.get(g))&&Ud(h,g),b=(i.ownerDocument||i).createElement("link"),Yt(b);var x=b;return x._p=new Promise(function(T,z){x.onload=T,x.onerror=z}),on(b,"link",h),s.state.loading|=4,mf(b,c.precedence,i),s.instance=b;case"script":return b=rc(c.src),(g=i.querySelector(Gl(b)))?(s.instance=g,Yt(g),g):(h=c,(g=br.get(b))&&(h=y({},c),Dd(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Yt(g),on(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,mf(h,c.precedence,i));return s.instance}function mf(i,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,x=0;x<h.length;x++){var T=h[x];if(T.dataset.precedence===s)b=T;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function Ud(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Dd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var bf=null;function pg(i,s,c){if(bf===null){var h=new Map,g=bf=new Map;g.set(c,h)}else g=bf,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var b=c[g];if(!(b[tl]||b[dn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var x=b.getAttribute(s)||"";x=i+x;var T=h.get(x);T?T.push(b):h.set(x,[b])}}return h}function gg(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function yS(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Fl=null;function pS(){}function gS(i,s,c){if(Fl===null)throw Error(n(475));var h=Fl;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=nc(c.href),b=i.querySelector(zl(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Af.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=b,Yt(b);return}b=i.ownerDocument||i,c=dg(c),(g=br.get(g))&&Ud(c,g),b=b.createElement("link"),Yt(b);var x=b;x._p=new Promise(function(T,z){x.onload=T,x.onerror=z}),on(b,"link",c),s.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Af.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function mS(){if(Fl===null)throw Error(n(475));var i=Fl;return i.stylesheets&&i.count===0&&Id(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&Id(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wf=null;function Id(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wf=new Map,s.forEach(bS,i),wf=null,Af.call(i))}function bS(i,s){if(!(s.state.loading&4)){var c=wf.get(i);if(c)var h=c.get(null);else{c=new Map,wf.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var x=g[b];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}g=s.instance,x=g.getAttribute("data-precedence"),b=c.get(x)||h,b===h&&c.set(null,g),c.set(x,g),this.count++,h=Af.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var _l={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function AS(i,s,c,h,g,b,x,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.hiddenUpdates=Bh(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function bg(i,s,c,h,g,b,x,T,z,te,oe,fe){return i=new AS(i,s,c,x,T,z,te,fe),s=1,b===!0&&(s|=24),b=Jn(3,null,null,s),i.current=b,b.stateNode=i,s=f5(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:s},p5(b),i}function Ag(i){return i?(i=Oo,i):Oo}function wg(i,s,c,h,g,b){g=Ag(g),h.context===null?h.context=g:h.pendingContext=g,h=ma(s),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=ba(i,h,s),c!==null&&(tr(c,i,s),wl(c,i,s))}function Eg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function Rd(i,s){Eg(i,s),(i=i.alternate)&&Eg(i,s)}function vg(i){if(i.tag===13){var s=No(i,67108864);s!==null&&tr(s,i,67108864),Rd(i,67108864)}}var Ef=!0;function wS(i,s,c,h){var g=O.T;O.T=null;var b=j.p;try{j.p=2,Td(i,s,c,h)}finally{j.p=b,O.T=g}}function ES(i,s,c,h){var g=O.T;O.T=null;var b=j.p;try{j.p=8,Td(i,s,c,h)}finally{j.p=b,O.T=g}}function Td(i,s,c,h){if(Ef){var g=Nd(h);if(g===null)Ad(i,s,h,vf,c),kg(i,h);else if(SS(g,i,s,c,h))h.stopPropagation();else if(kg(i,h),s&4&&-1<vS.indexOf(i)){for(;g!==null;){var b=Eo(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=ds(b.pendingLanes);if(x!==0){var T=b;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var z=1<<31-Yn(x);T.entanglements[1]|=z,x&=~z}Jr(b),(We&6)===0&&(af=Vn()+500,Ml(0))}}break;case 13:T=No(b,2),T!==null&&tr(T,b,2),of(),Rd(b,2)}if(b=Nd(h),b===null&&Ad(i,s,h,vf,c),b===g)break;g=b}g!==null&&h.stopPropagation()}else Ad(i,s,h,null,c)}}function Nd(i){return i=Lh(i),Od(i)}var vf=null;function Od(i){if(vf=null,i=wo(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=l(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vf=i,null}function Sg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(h0()){case mo:return 2;case bo:return 8;case d0:case cE:return 32;case Q3:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ra=null,Ta=null,Na=null,jl=new Map,Vl=new Map,Oa=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kg(i,s){switch(i){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(s.pointerId)}}function ql(i,s,c,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},s!==null&&(s=Eo(s),s!==null&&vg(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function SS(i,s,c,h,g){switch(s){case"focusin":return Ra=ql(Ra,i,s,c,h,g),!0;case"dragenter":return Ta=ql(Ta,i,s,c,h,g),!0;case"mouseover":return Na=ql(Na,i,s,c,h,g),!0;case"pointerover":var b=g.pointerId;return jl.set(b,ql(jl.get(b)||null,i,s,c,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Vl.set(b,ql(Vl.get(b)||null,i,s,c,h,g)),!0}return!1}function xg(i){var s=wo(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){i.blockedOn=s,gE(i.priority,function(){if(c.tag===13){var h=er();h=Ch(h);var g=No(c,h);g!==null&&tr(g,c,h),Rd(c,h)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Nd(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Mh=h,c.target.dispatchEvent(h),Mh=null}else return s=Eo(c),s!==null&&vg(s),i.blockedOn=c,!1;s.shift()}return!0}function Bg(i,s,c){Sf(i)&&c.delete(s)}function kS(){Pd=!1,Ra!==null&&Sf(Ra)&&(Ra=null),Ta!==null&&Sf(Ta)&&(Ta=null),Na!==null&&Sf(Na)&&(Na=null),jl.forEach(Bg),Vl.forEach(Bg)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kS)))}var xf=null;function Cg(i){xf!==i&&(xf=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xf===i&&(xf=null);for(var s=0;s<i.length;s+=3){var c=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(Od(h||c)===null)continue;break}var b=Eo(c);b!==null&&(i.splice(s,3),s-=3,O5(b,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Yl(i){function s(z){return kf(z,i)}Ra!==null&&kf(Ra,i),Ta!==null&&kf(Ta,i),Na!==null&&kf(Na,i),jl.forEach(s),Vl.forEach(s);for(var c=0;c<Oa.length;c++){var h=Oa[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Oa.length&&(c=Oa[0],c.blockedOn===null);)xg(c),c.blockedOn===null&&Oa.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],b=c[h+1],x=g[Dn]||null;if(typeof b=="function")x||Cg(c);else if(x){var T=null;if(b&&b.hasAttribute("formAction")){if(g=b,x=b[Dn]||null)T=x.formAction;else if(Od(g)!==null)continue}else T=x.action;typeof T=="function"?c[h+1]=T:(c.splice(h,3),h-=3),Cg(c)}}}function Kd(i){this._internalRoot=i}Bf.prototype.render=Kd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var c=s.current,h=er();wg(c,h,i,s,null,null)},Bf.prototype.unmount=Kd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;wg(i.current,2,null,i,null,null),of(),s[Ao]=null}};function Bf(i){this._internalRoot=i}Bf.prototype.unstable_scheduleHydration=function(i){if(i){var s=_3();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Oa.length&&s!==0&&s<Oa[c].priority;c++);Oa.splice(c,0,i),c===0&&xg(i)}};var Ug=e.version;if(Ug!=="19.1.1")throw Error(n(527,Ug,"19.1.1"));j.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var xS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{Wc=Cf.inject(xS),qn=Cf}catch{}}return Jl.createRoot=function(i,s){if(!a(i))throw Error(n(299));var c=!1,h="",g=_8,b=j8,x=V8,T=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=bg(i,1,!1,null,null,c,h,g,b,x,T,null),i[Ao]=s.current,bd(i),new Kd(s)},Jl.hydrateRoot=function(i,s,c){if(!a(i))throw Error(n(299));var h=!1,g="",b=_8,x=j8,T=V8,z=null,te=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(te=c.formState)),s=bg(i,1,!0,s,c??null,h,g,b,x,T,z,te),s.context=Ag(null),c=s.current,h=er(),h=Ch(h),g=ma(h),g.callback=null,ba(c,g,h),c=h,s.current.lanes=c,el(s,c),Jr(s),i[Ao]=s.current,bd(i),new Bf(s)},Jl.version="19.1.1",Jl}var Lg;function PS(){if(Lg)return Ld.exports;Lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ld.exports=OS(),Ld.exports}var KS=PS(),se=H2();const MS="6.15.0";function LS(r,e,t){const n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const a=new Error(`invalid value for type ${e}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${t}`,a.value=r,a}async function Sn(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,a,o)=>(n[e[o]]=a,n),{})}function ke(r,e,t){for(let n in e){let a=e[n];const o=t?t[n]:null;o&&LS(a,o,n),Object.defineProperty(r,n,{enumerable:!0,value:a,writable:!1})}}function dc(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>dc(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let a=0;a<r.length;a++)n+=t[r[a]>>4],n+=t[r[a]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return dc(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${dc(n,e)}: ${dc(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function un(r,e){return r&&r.code===e}function z2(r){return un(r,"CALL_EXCEPTION")}function gt(r,e,t){let n=r;{const o=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${dc(t)}`);for(const l in t){if(l==="shortMessage")continue;const u=t[l];o.push(l+"="+dc(u))}}o.push(`code=${e}`),o.push(`version=${MS}`),o.length&&(r+=" ("+o.join(", ")+")")}let a;switch(e){case"INVALID_ARGUMENT":a=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(r);break;default:a=new Error(r)}return ke(a,{code:e}),t&&Object.assign(a,t),a.shortMessage==null&&ke(a,{shortMessage:n}),a}function he(r,e,t,n){if(!r)throw gt(e,t,n)}function Y(r,e,t,n){he(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function Hm(r,e,t){t==null&&(t=""),t&&(t=": "+t),he(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),he(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function F1(r,e,t){if(t==null&&(t=""),r!==e){let n=t,a="new";t&&(n+=".",a+=" "+t),he(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function zm(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let a=2;for(let o=0;o<n.length;o++)n[o]=parseInt(r.substring(a,a+2),16),a+=2;return n}Y(!1,"invalid BytesLike value",e||"value",r)}function Ne(r,e){return zm(r,e,!1)}function xn(r,e){return zm(r,e,!0)}function dt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function G2(r){return dt(r,!0)||r instanceof Uint8Array}const Qg="0123456789abcdef";function pe(r){const e=Ne(r);let t="0x";for(let n=0;n<e.length;n++){const a=e[n];t+=Qg[(a&240)>>4]+Qg[a&15]}return t}function St(r){return"0x"+r.map(e=>pe(e).substring(2)).join("")}function wc(r){return dt(r,!0)?(r.length-2)/2:Ne(r).length}function Ut(r,e,t){const n=Ne(r);return t!=null&&t>n.length&&he(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),pe(n.slice(e??0,t??n.length))}function Gm(r,e,t){const n=Ne(r);he(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const a=new Uint8Array(e);return a.fill(0),t?a.set(n,e-n.length):a.set(n,0),pe(a)}function na(r,e){return Gm(r,e,!0)}function QS(r,e){return Gm(r,e,!1)}const _1=BigInt(0),Gr=BigInt(1),yc=9007199254740991;function HS(r,e){const t=j1(r,"value"),n=BigInt(Ke(e,"width"));if(he(t>>n===_1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-Gr){const a=(Gr<<n)-Gr;return-((~t&a)+Gr)}return t}function Fm(r,e){let t=me(r,"value");const n=BigInt(Ke(e,"width")),a=Gr<<n-Gr;if(t<_1){t=-t,he(t<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const o=(Gr<<n)-Gr;return(~t&o)+Gr}else he(t<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function fu(r,e){const t=j1(r,"value"),n=BigInt(Ke(e,"bits"));return t&(Gr<<n)-Gr}function me(r,e){switch(typeof r){case"bigint":return r;case"number":return Y(Number.isInteger(r),"underflow",e||"value",r),Y(r>=-yc&&r<=yc,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){Y(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}Y(!1,"invalid BigNumberish value",e||"value",r)}function j1(r,e){const t=me(r,e);return he(t>=_1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const Hg="0123456789abcdef";function F2(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=Hg[t>>4],e+=Hg[t&15];return BigInt(e)}return me(r)}function Ke(r,e){switch(typeof r){case"bigint":return Y(r>=-yc&&r<=yc,"overflow",e||"value",r),Number(r);case"number":return Y(Number.isInteger(r),"underflow",e||"value",r),Y(r>=-yc&&r<=yc,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Ke(BigInt(r),e)}catch(t){Y(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}Y(!1,"invalid numeric value",e||"value",r)}function zS(r){return Ke(F2(r))}function as(r,e){let n=j1(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const a=Ke(e,"width");for(he(a*2>=n.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<a*2;)n="0"+n}return"0x"+n}function qt(r){const e=j1(r,"value");if(e===_1)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let a=0;a<n.length;a++){const o=a*2;n[a]=parseInt(t.substring(o,o+2),16)}return n}function Hr(r){let e=pe(G2(r)?r:qt(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const zg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Gg=BigInt(58);function GS(r){const e=Ne(r);let t=F2(e),n="";for(;t;)n=zg[Number(t%Gg)]+n,t/=Gg;for(let a=0;a<e.length&&!e[a];a++)n=zg[0]+n;return n}function FS(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return Ne(e)}function _S(r){const e=Ne(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}class _m{filter;emitter;#e;constructor(e,t,n){this.#e=t,ke(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function jS(r,e,t,n,a){Y(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function jm(r,e,t,n,a){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let o=0;for(let l=e+1;l<t.length&&t[l]>>6===2;l++)o++;return o}return r==="OVERRUN"?t.length-e-1:0}function VS(r,e,t,n,a){return r==="OVERLONG"?(Y(typeof a=="number","invalid bad code point for replacement","badCodepoint",a),n.push(a),0):(n.push(65533),jm(r,e,t))}const qS=Object.freeze({error:jS,ignore:jm,replace:VS});function YS(r,e){e==null&&(e=qS.error);const t=Ne(r,"bytes"),n=[];let a=0;for(;a<t.length;){const o=t[a++];if(o>>7===0){n.push(o);continue}let l=null,u=null;if((o&224)===192)l=1,u=127;else if((o&240)===224)l=2,u=2047;else if((o&248)===240)l=3,u=65535;else{(o&192)===128?a+=e("UNEXPECTED_CONTINUE",a-1,t,n):a+=e("BAD_PREFIX",a-1,t,n);continue}if(a-1+l>=t.length){a+=e("OVERRUN",a-1,t,n);continue}let f=o&(1<<8-l-1)-1;for(let d=0;d<l;d++){let y=t[a];if((y&192)!=128){a+=e("MISSING_CONTINUE",a,t,n),f=null;break}f=f<<6|y&63,a++}if(f!==null){if(f>1114111){a+=e("OUT_OF_RANGE",a-1-l,t,n,f);continue}if(f>=55296&&f<=57343){a+=e("UTF16_SURROGATE",a-1-l,t,n,f);continue}if(f<=u){a+=e("OVERLONG",a-1-l,t,n,f);continue}n.push(f)}}return n}function Xi(r,e){Y(typeof r=="string","invalid string value","str",r);let t=[];for(let n=0;n<r.length;n++){const a=r.charCodeAt(n);if(a<128)t.push(a);else if(a<2048)t.push(a>>6|192),t.push(a&63|128);else if((a&64512)==55296){n++;const o=r.charCodeAt(n);Y(n<r.length&&(o&64512)===56320,"invalid surrogate pair","str",r);const l=65536+((a&1023)<<10)+(o&1023);t.push(l>>18|240),t.push(l>>12&63|128),t.push(l>>6&63|128),t.push(l&63|128)}else t.push(a>>12|224),t.push(a>>6&63|128),t.push(a&63|128)}return new Uint8Array(t)}function ZS(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function d1(r,e){return ZS(YS(r,e))}function Vm(r){async function e(t,n){he(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const a=t.url.split(":")[0].toLowerCase();he(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),he(a==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const l=new AbortController,u=setTimeout(()=>{o=gt("request timeout","TIMEOUT"),l.abort()},t.timeout);n&&n.addListener(()=>{o=gt("request cancelled","CANCELLED"),l.abort()});const f=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:l.signal});let d;try{d=await fetch(t.url,f)}catch(w){throw clearTimeout(u),o||w}clearTimeout(u);const y={};d.headers.forEach((w,E)=>{y[E.toLowerCase()]=w});const p=await d.arrayBuffer(),m=p==null?null:new Uint8Array(p);return{statusCode:d.status,statusMessage:d.statusText,headers:y,body:m}}return e}const JS=12,XS=250;let Fg=Vm();const WS=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),$S=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Fd=!1;async function qm(r,e){try{const t=r.match(WS);if(!t)throw new Error("invalid data");return new rs(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?FS(t[3]):tk(t[3]))}catch{return new rs(599,"BAD REQUEST (invalid data: URI)",{},null,new ra(r))}}function Ym(r){async function e(t,n){try{const a=t.match($S);if(!a)throw new Error("invalid link");return new ra(`${r}${a[2]}`)}catch{return new rs(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ra(t))}}return e}const Uf={data:qm,ipfs:Ym("https://gateway.ipfs.io/ipfs/")},Zm=new WeakMap;class ek{#e;#t;constructor(e){this.#e=[],this.#t=!1,Zm.set(e,()=>{if(!this.#t){this.#t=!0;for(const t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){he(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){he(!this.cancelled,"cancelled","CANCELLED",{})}}function Df(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}class ra{#e;#t;#n;#r;#i;#s;#a;#o;#d;#l;#y;#p;#c;#u;#f;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#a==null?null:new Uint8Array(this.#a)}set body(e){if(e==null)this.#a=void 0,this.#o=void 0;else if(typeof e=="string")this.#a=Xi(e),this.#o="text/plain";else if(e instanceof Uint8Array)this.#a=e,this.#o="application/octet-stream";else if(typeof e=="object")this.#a=Xi(JSON.stringify(e)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#a!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${_S(Xi(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#o&&(e["content-type"]=this.#o),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#n[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const a=t[n++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,t){Y(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){Y(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#y||null}set processFunc(e){this.#y=e}get retryFunc(){return this.#p||null}set retryFunc(e){this.#p=e}get getUrlFunc(){return this.#f||Fg}set getUrlFunc(e){this.#f=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#u={slotInterval:XS,maxAttempts:JS},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#a?pe(this.#a):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#h(e,t,n,a,o){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");he(_g()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:a}),n>0&&await nk(n);let l=this.clone();const u=(l.url.split(":")[0]||"").toLowerCase();if(u in Uf){const y=await Uf[u](l.url,Df(a.#c));if(y instanceof rs){let p=y;if(this.processFunc){Df(a.#c);try{p=await this.processFunc(l,p)}catch(m){(m.throttle==null||typeof m.stall!="number")&&p.makeServerError("error in post-processing function",m).assertOk()}}return p}l=y}this.preflightFunc&&(l=await this.preflightFunc(l));const f=await this.getUrlFunc(l,Df(a.#c));let d=new rs(f.statusCode,f.statusMessage,f.headers,f.body,a);if(d.statusCode===301||d.statusCode===302){try{const y=d.headers.location||"";return l.redirect(y).#h(e+1,t,0,a,d)}catch{}return d}else if(d.statusCode===429&&(this.retryFunc==null||await this.retryFunc(l,d,e))){const y=d.headers["retry-after"];let p=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof y=="string"&&y.match(/^[1-9][0-9]*$/)&&(p=parseInt(y)),l.clone().#h(e+1,t,p,a,d)}if(this.processFunc){Df(a.#c);try{d=await this.processFunc(l,d)}catch(y){(y.throttle==null||typeof y.stall!="number")&&d.makeServerError("error in post-processing function",y).assertOk();let p=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return y.stall>=0&&(p=y.stall),l.clone().#h(e+1,t,p,a,d)}}return d}send(){return he(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new ek(this),this.#h(0,_g()+this.timeout,0,this,new rs(0,"",{},null,this))}cancel(){he(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Zm.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();he(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const a=new ra(e);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,a.#n=Object.assign({},this.#n),this.#a&&(a.#a=new Uint8Array(this.#a)),a.#o=this.#o,a}clone(){const e=new ra(this.url);return e.#r=this.#r,this.#a&&(e.#a=this.#a),e.#o=this.#o,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#y=this.#y,e.#p=this.#p,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){Fd=!0}static getGateway(e){return Uf[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Fd)throw new Error("gateways locked");Uf[e]=t}static registerGetUrl(e){if(Fd)throw new Error("gateways locked");Fg=e}static createGetUrlFunc(e){return Vm(e)}static createDataGateway(){return qm}static createIpfsGatewayFunc(e){return Ym(e)}}class rs{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?pe(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":d1(this.#r)}catch{he(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{he(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const a=t[n++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,a,o){this.#e=e,this.#t=t,this.#n=Object.keys(n).reduce((l,u)=>(l[u.toLowerCase()]=String(n[u]),l),{}),this.#r=a==null?null:new Uint8Array(a),this.#i=o||null,this.#s={message:""}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const a=new rs(599,n,this.headers,this.body,this.#i||void 0);return a.#s={message:e,error:t},a}throwThrottleError(e,t){t==null?t=-1:Y(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw ke(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let a=null;try{this.#r&&(a=d1(this.#r))}catch{}he(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:a,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function _g(){return new Date().getTime()}function tk(r){return Xi(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function nk(r){return new Promise(e=>setTimeout(e,r))}function rk(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function jg(r,e,t){let n=0;for(let a=0;a<t;a++)n=n*256+r[e+a];return n}function Vg(r,e,t,n){const a=[];for(;t<e+1+n;){const o=Jm(r,t);a.push(o.result),t+=o.consumed,he(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:a}}function Jm(r,e){he(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{he(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const a=jg(r,e+1,n);return t(e+1+n+a),Vg(r,e,e+1+n,n+a)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),Vg(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const a=jg(r,e+1,n);t(e+1+n+a);const o=pe(r.slice(e+1+n,e+1+n+a));return{consumed:1+n+a,result:o}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const a=pe(r.slice(e+1,e+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:rk(r[e])}}function Zu(r){const e=Ne(r,"data"),t=Jm(e,0);return Y(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function qg(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Xm(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(Xm(o))}),n.length<=55)return n.unshift(192+n.length),n;const a=qg(n.length);return a.unshift(247+a.length),a.concat(n)}const e=Array.prototype.slice.call(Ne(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=qg(e.length);return t.unshift(183+t.length),t.concat(e)}const Yg="0123456789abcdef";function ss(r){let e="0x";for(const t of Xm(r))e+=Yg[t>>4],e+=Yg[t&15];return e}const Bn=32,K6=new Uint8Array(Bn),ik=["then"],If={},Wm=new WeakMap;function zs(r){return Wm.get(r)}function Zg(r,e){Wm.set(r,e)}function Xl(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function M6(r,e,t){return r.indexOf(null)>=0?e.map((n,a)=>n instanceof Zi?M6(zs(n),n,t):n):r.reduce((n,a,o)=>{let l=e.getValue(a);return a in n||(t&&l instanceof Zi&&(l=M6(zs(l),l,t)),n[a]=l),n},{})}class Zi extends Array{#e;constructor(...e){const t=e[0];let n=e[1],a=(e[2]||[]).slice(),o=!0;t!==If&&(n=e,a=[],o=!1),super(n.length),n.forEach((f,d)=>{this[d]=f});const l=a.reduce((f,d)=>(typeof d=="string"&&f.set(d,(f.get(d)||0)+1),f),new Map);if(Zg(this,Object.freeze(n.map((f,d)=>{const y=a[d];return y!=null&&l.get(y)===1?y:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const u=new Proxy(this,{get:(f,d,y)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const m=Ke(d,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const w=f[m];return w instanceof Error&&Xl(`index ${m}`,w),w}if(ik.indexOf(d)>=0)return Reflect.get(f,d,y);const p=f[d];if(p instanceof Function)return function(...m){return p.apply(this===y?f:this,m)};if(!(d in f))return f.getValue.apply(this===y?f:this,[d])}return Reflect.get(f,d,y)}});return Zg(u,zs(this)),u}toArray(e){const t=[];return this.forEach((n,a)=>{n instanceof Error&&Xl(`index ${a}`,n),e&&n instanceof Zi&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=zs(this);return t.reduce((n,a,o)=>(he(a!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),M6(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const n=zs(this),a=[],o=[];for(let l=e;l<t;l++)a.push(this[l]),o.push(n[l]);return new Zi(If,a,o)}filter(e,t){const n=zs(this),a=[],o=[];for(let l=0;l<this.length;l++){const u=this[l];u instanceof Error&&Xl(`index ${l}`,u),e.call(t,u,l,this)&&(a.push(u),o.push(n[l]))}return new Zi(If,a,o)}map(e,t){const n=[];for(let a=0;a<this.length;a++){const o=this[a];o instanceof Error&&Xl(`index ${a}`,o),n.push(e.call(t,o,a,this))}return n}getValue(e){const t=zs(this).indexOf(e);if(t===-1)return;const n=this[t];return n instanceof Error&&Xl(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new Zi(If,e,t)}}function Jg(r){let e=qt(r);return he(e.length<=Bn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Bn,offset:e.length}),e.length!==Bn&&(e=xn(St([K6.slice(e.length%Bn),e]))),e}class oa{name;type;localName;dynamic;constructor(e,t,n,a){ke(this,{name:e,type:t,localName:n,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Y(!1,e,this.localName,t)}}class L6{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return St(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(xn(e.data))}writeBytes(e){let t=xn(e);const n=t.length%Bn;return n&&(t=xn(St([t,K6.slice(n)]))),this.#n(t)}writeValue(e){return this.#n(Jg(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(K6),this.#t+=Bn,t=>{this.#e[e]=Jg(t)}}}class _2{allowLoose;#e;#t;#n;#r;#i;constructor(e,t,n){ke(this,{allowLoose:!!t}),this.#e=xn(e),this.#n=0,this.#r=null,this.#i=n??1024,this.#t=0}get data(){return pe(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,he(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:xn(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#a(e,t,n){let a=Math.ceil(t/Bn)*Bn;return this.#t+a>this.#e.length&&(this.allowLoose&&n&&this.#t+t<=this.#e.length?a=t:he(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xn(this.#e),length:this.#e.length,offset:this.#t+a})),this.#e.slice(this.#t,this.#t+a)}subReader(e){const t=new _2(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return t.#r=this,t}readBytes(e,t){let n=this.#a(0,e,!!t);return this.#s(e),this.#t+=n.length,n.slice(0,e)}readValue(){return F2(this.readBytes(Bn))}readIndex(){return zS(this.readBytes(Bn))}}function y1(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function j2(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function ak(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");y1(r.outputLen),y1(r.blockLen)}function Cc(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function $m(r,e){j2(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const _d=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e7=r=>r instanceof Uint8Array,sk=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),jd=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Xr=(r,e)=>r<<32-e|r>>>e,ok=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ok)throw new Error("Non little-endian hardware is not supported");function ck(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function V1(r){if(typeof r=="string"&&(r=ck(r)),!e7(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function lk(...r){const e=new Uint8Array(r.reduce((n,a)=>n+a.length,0));let t=0;return r.forEach(n=>{if(!e7(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class V2{clone(){return this._cloneInto()}}function q2(r){const e=n=>r().update(V1(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function uk(r=32){if(_d&&typeof _d.getRandomValues=="function")return _d.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class t7 extends V2{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ak(e);const n=V1(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(n.length>a?e.create().update(n).digest():n);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return Cc(this),this.iHash.update(e),this}digestInto(e){Cc(this),j2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:a,destroyed:o,blockLen:l,outputLen:u}=this;return e=e,e.finished=a,e.destroyed=o,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const n7=(r,e,t)=>new t7(r,e).update(t).digest();n7.create=(r,e)=>new t7(r,e);function fk(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const a=BigInt(32),o=BigInt(4294967295),l=Number(t>>a&o),u=Number(t&o),f=n?4:0,d=n?0:4;r.setUint32(e+f,l,n),r.setUint32(e+d,u,n)}class r7 extends V2{constructor(e,t,n,a){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jd(this.buffer)}update(e){Cc(this);const{view:t,buffer:n,blockLen:a}=this;e=V1(e);const o=e.length;for(let l=0;l<o;){const u=Math.min(a-this.pos,o-l);if(u===a){const f=jd(e);for(;a<=o-l;l+=a)this.process(f,l);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===a&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cc(this),$m(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:o}=this;let{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>a-l&&(this.process(n,0),l=0);for(let p=l;p<a;p++)t[p]=0;fk(n,a-8,BigInt(this.length*8),o),this.process(n,0);const u=jd(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,y=this.get();if(d>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)u.setUint32(4*p,y[p],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:a,finished:o,destroyed:l,pos:u}=this;return e.length=a,e.pos=u,e.finished=o,e.destroyed=l,a%t&&e.buffer.set(n),e}}const hk=(r,e,t)=>r&e^~r&t,dk=(r,e,t)=>r&e^r&t^e&t,yk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ka=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ma=new Uint32Array(64);class pk extends r7{constructor(){super(64,32,8,!1),this.A=Ka[0]|0,this.B=Ka[1]|0,this.C=Ka[2]|0,this.D=Ka[3]|0,this.E=Ka[4]|0,this.F=Ka[5]|0,this.G=Ka[6]|0,this.H=Ka[7]|0}get(){const{A:e,B:t,C:n,D:a,E:o,F:l,G:u,H:f}=this;return[e,t,n,a,o,l,u,f]}set(e,t,n,a,o,l,u,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=a|0,this.E=o|0,this.F=l|0,this.G=u|0,this.H=f|0}process(e,t){for(let p=0;p<16;p++,t+=4)Ma[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){const m=Ma[p-15],w=Ma[p-2],E=Xr(m,7)^Xr(m,18)^m>>>3,S=Xr(w,17)^Xr(w,19)^w>>>10;Ma[p]=S+Ma[p-7]+E+Ma[p-16]|0}let{A:n,B:a,C:o,D:l,E:u,F:f,G:d,H:y}=this;for(let p=0;p<64;p++){const m=Xr(u,6)^Xr(u,11)^Xr(u,25),w=y+m+hk(u,f,d)+yk[p]+Ma[p]|0,S=(Xr(n,2)^Xr(n,13)^Xr(n,22))+dk(n,a,o)|0;y=d,d=f,f=u,u=l+w|0,l=o,o=a,a=n,n=w+S|0}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,f=f+this.F|0,d=d+this.G|0,y=y+this.H|0,this.set(n,a,o,l,u,f,d,y)}roundClean(){Ma.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const i7=q2(()=>new pk),Rf=BigInt(2**32-1),Q6=BigInt(32);function a7(r,e=!1){return e?{h:Number(r&Rf),l:Number(r>>Q6&Rf)}:{h:Number(r>>Q6&Rf)|0,l:Number(r&Rf)|0}}function s7(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:o,l}=a7(r[a],e);[t[a],n[a]]=[o,l]}return[t,n]}const gk=(r,e)=>BigInt(r>>>0)<<Q6|BigInt(e>>>0),mk=(r,e,t)=>r>>>t,bk=(r,e,t)=>r<<32-t|e>>>t,Ak=(r,e,t)=>r>>>t|e<<32-t,wk=(r,e,t)=>r<<32-t|e>>>t,Ek=(r,e,t)=>r<<64-t|e>>>t-32,vk=(r,e,t)=>r>>>t-32|e<<64-t,Sk=(r,e)=>e,kk=(r,e)=>r,o7=(r,e,t)=>r<<t|e>>>32-t,c7=(r,e,t)=>e<<t|r>>>32-t,l7=(r,e,t)=>e<<t-32|r>>>64-t,u7=(r,e,t)=>r<<t-32|e>>>64-t;function xk(r,e,t,n){const a=(e>>>0)+(n>>>0);return{h:r+t+(a/2**32|0)|0,l:a|0}}const Bk=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),Ck=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,Uk=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),Dk=(r,e,t,n,a)=>e+t+n+a+(r/2**32|0)|0,Ik=(r,e,t,n,a)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0),Rk=(r,e,t,n,a,o)=>e+t+n+a+o+(r/2**32|0)|0,Te={fromBig:a7,split:s7,toBig:gk,shrSH:mk,shrSL:bk,rotrSH:Ak,rotrSL:wk,rotrBH:Ek,rotrBL:vk,rotr32H:Sk,rotr32L:kk,rotlSH:o7,rotlSL:c7,rotlBH:l7,rotlBL:u7,add:xk,add3L:Bk,add3H:Ck,add4L:Uk,add4H:Dk,add5H:Rk,add5L:Ik},[Tk,Nk]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),La=new Uint32Array(80),Qa=new Uint32Array(80);class Ok extends r7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:a,Ch:o,Cl:l,Dh:u,Dl:f,Eh:d,El:y,Fh:p,Fl:m,Gh:w,Gl:E,Hh:S,Hl:v}=this;return[e,t,n,a,o,l,u,f,d,y,p,m,w,E,S,v]}set(e,t,n,a,o,l,u,f,d,y,p,m,w,E,S,v){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=a|0,this.Ch=o|0,this.Cl=l|0,this.Dh=u|0,this.Dl=f|0,this.Eh=d|0,this.El=y|0,this.Fh=p|0,this.Fl=m|0,this.Gh=w|0,this.Gl=E|0,this.Hh=S|0,this.Hl=v|0}process(e,t){for(let C=0;C<16;C++,t+=4)La[C]=e.getUint32(t),Qa[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){const N=La[C-15]|0,M=Qa[C-15]|0,K=Te.rotrSH(N,M,1)^Te.rotrSH(N,M,8)^Te.shrSH(N,M,7),I=Te.rotrSL(N,M,1)^Te.rotrSL(N,M,8)^Te.shrSL(N,M,7),U=La[C-2]|0,R=Qa[C-2]|0,L=Te.rotrSH(U,R,19)^Te.rotrBH(U,R,61)^Te.shrSH(U,R,6),Q=Te.rotrSL(U,R,19)^Te.rotrBL(U,R,61)^Te.shrSL(U,R,6),F=Te.add4L(I,Q,Qa[C-7],Qa[C-16]),G=Te.add4H(F,K,L,La[C-7],La[C-16]);La[C]=G|0,Qa[C]=F|0}let{Ah:n,Al:a,Bh:o,Bl:l,Ch:u,Cl:f,Dh:d,Dl:y,Eh:p,El:m,Fh:w,Fl:E,Gh:S,Gl:v,Hh:k,Hl:D}=this;for(let C=0;C<80;C++){const N=Te.rotrSH(p,m,14)^Te.rotrSH(p,m,18)^Te.rotrBH(p,m,41),M=Te.rotrSL(p,m,14)^Te.rotrSL(p,m,18)^Te.rotrBL(p,m,41),K=p&w^~p&S,I=m&E^~m&v,U=Te.add5L(D,M,I,Nk[C],Qa[C]),R=Te.add5H(U,k,N,K,Tk[C],La[C]),L=U|0,Q=Te.rotrSH(n,a,28)^Te.rotrBH(n,a,34)^Te.rotrBH(n,a,39),F=Te.rotrSL(n,a,28)^Te.rotrBL(n,a,34)^Te.rotrBL(n,a,39),G=n&o^n&u^o&u,Z=a&l^a&f^l&f;k=S|0,D=v|0,S=w|0,v=E|0,w=p|0,E=m|0,{h:p,l:m}=Te.add(d|0,y|0,R|0,L|0),d=u|0,y=f|0,u=o|0,f=l|0,o=n|0,l=a|0;const H=Te.add3L(L,F,Z);n=Te.add3H(H,R,Q,G),a=H|0}({h:n,l:a}=Te.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:o,l}=Te.add(this.Bh|0,this.Bl|0,o|0,l|0),{h:u,l:f}=Te.add(this.Ch|0,this.Cl|0,u|0,f|0),{h:d,l:y}=Te.add(this.Dh|0,this.Dl|0,d|0,y|0),{h:p,l:m}=Te.add(this.Eh|0,this.El|0,p|0,m|0),{h:w,l:E}=Te.add(this.Fh|0,this.Fl|0,w|0,E|0),{h:S,l:v}=Te.add(this.Gh|0,this.Gl|0,S|0,v|0),{h:k,l:D}=Te.add(this.Hh|0,this.Hl|0,k|0,D|0),this.set(n,a,o,l,u,f,d,y,p,m,w,E,S,v,k,D)}roundClean(){La.fill(0),Qa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pk=q2(()=>new Ok);function Kk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Xg=Kk();Xg.crypto||Xg.msCrypto;function Mk(r){switch(r){case"sha256":return i7.create();case"sha512":return Pk.create()}Y(!1,"invalid hashing algorithm name","algorithm",r)}const[f7,h7,d7]=[[],[],[]],Lk=BigInt(0),Wl=BigInt(1),Qk=BigInt(2),Hk=BigInt(7),zk=BigInt(256),Gk=BigInt(113);for(let r=0,e=Wl,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],f7.push(2*(5*n+t)),h7.push((r+1)*(r+2)/2%64);let a=Lk;for(let o=0;o<7;o++)e=(e<<Wl^(e>>Hk)*Gk)%zk,e&Qk&&(a^=Wl<<(Wl<<BigInt(o))-Wl);d7.push(a)}const[Fk,_k]=s7(d7,!0),Wg=(r,e,t)=>t>32?l7(r,e,t):o7(r,e,t),$g=(r,e,t)=>t>32?u7(r,e,t):c7(r,e,t);function jk(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let l=0;l<10;l++)t[l]=r[l]^r[l+10]^r[l+20]^r[l+30]^r[l+40];for(let l=0;l<10;l+=2){const u=(l+8)%10,f=(l+2)%10,d=t[f],y=t[f+1],p=Wg(d,y,1)^t[u],m=$g(d,y,1)^t[u+1];for(let w=0;w<50;w+=10)r[l+w]^=p,r[l+w+1]^=m}let a=r[2],o=r[3];for(let l=0;l<24;l++){const u=h7[l],f=Wg(a,o,u),d=$g(a,o,u),y=f7[l];a=r[y],o=r[y+1],r[y]=f,r[y+1]=d}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)t[u]=r[l+u];for(let u=0;u<10;u++)r[l+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=Fk[n],r[1]^=_k[n]}t.fill(0)}class Y2 extends V2{constructor(e,t,n,a=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,y1(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sk(this.state)}keccak(){jk(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Cc(this);const{blockLen:t,state:n}=this;e=V1(e);const a=e.length;for(let o=0;o<a;){const l=Math.min(t-this.pos,a-o);for(let u=0;u<l;u++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:a}=this;e[n]^=t,(t&128)!==0&&n===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){Cc(this,!1),j2(e),this.finish();const t=this.state,{blockLen:n}=this;for(let a=0,o=e.length;a<o;){this.posOut>=n&&this.keccak();const l=Math.min(n-this.posOut,o-a);e.set(t.subarray(this.posOut,this.posOut+l),a),this.posOut+=l,a+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return y1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($m(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:a,rounds:o,enableXOF:l}=this;return e||(e=new Y2(t,n,a,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=a,e.enableXOF=l,e.destroyed=this.destroyed,e}}const Vk=(r,e,t)=>q2(()=>new Y2(e,r,t)),qk=Vk(1,136,256/8);let y7=!1;const p7=function(r){return qk(r)};let g7=p7;function Gt(r){const e=Ne(r,"data");return pe(g7(e))}Gt._=p7;Gt.lock=function(){y7=!0};Gt.register=function(r){if(y7)throw new TypeError("keccak256 is locked");g7=r};Object.freeze(Gt);const m7=function(r){return Mk("sha256").update(r).digest()};let b7=m7,A7=!1;function jc(r){const e=Ne(r,"data");return pe(b7(e))}jc._=m7;jc.lock=function(){A7=!0};jc.register=function(r){if(A7)throw new Error("sha256 is locked");b7=r};Object.freeze(jc);Object.freeze(jc);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w7=BigInt(0),q1=BigInt(1),Yk=BigInt(2),Y1=r=>r instanceof Uint8Array,Zk=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Uc(r){if(!Y1(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Zk[r[t]];return e}function E7(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Z2(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Dc(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const a=n*2,o=r.slice(a,a+2),l=Number.parseInt(o,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");t[n]=l}return t}function Zs(r){return Z2(Uc(r))}function J2(r){if(!Y1(r))throw new Error("Uint8Array expected");return Z2(Uc(Uint8Array.from(r).reverse()))}function Ic(r,e){return Dc(r.toString(16).padStart(e*2,"0"))}function X2(r,e){return Ic(r,e).reverse()}function Jk(r){return Dc(E7(r))}function Mr(r,e,t){let n;if(typeof e=="string")try{n=Dc(e)}catch(o){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Y1(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const a=n.length;if(typeof t=="number"&&a!==t)throw new Error(`${r} expected ${t} bytes, got ${a}`);return n}function Ru(...r){const e=new Uint8Array(r.reduce((n,a)=>n+a.length,0));let t=0;return r.forEach(n=>{if(!Y1(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function Xk(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Wk(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function $k(r){let e;for(e=0;r>w7;r>>=q1,e+=1);return e}function ex(r,e){return r>>BigInt(e)&q1}const tx=(r,e,t)=>r|(t?q1:w7)<<BigInt(e),W2=r=>(Yk<<BigInt(r-1))-q1,Vd=r=>new Uint8Array(r),e4=r=>Uint8Array.from(r);function v7(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Vd(r),a=Vd(r),o=0;const l=()=>{n.fill(1),a.fill(0),o=0},u=(...p)=>t(a,n,...p),f=(p=Vd())=>{a=u(e4([0]),p),n=u(),p.length!==0&&(a=u(e4([1]),p),n=u())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){n=u();const w=n.slice();m.push(w),p+=n.length}return Ru(...m)};return(p,m)=>{l(),f(p);let w;for(;!(w=m(d()));)f();return l(),w}}const nx={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Ju(r,e,t={}){const n=(a,o,l)=>{const u=nx[o];if(typeof u!="function")throw new Error(`Invalid validator "${o}", expected function`);const f=r[a];if(!(l&&f===void 0)&&!u(f,r))throw new Error(`Invalid param ${String(a)}=${f} (${typeof f}), expected ${o}`)};for(const[a,o]of Object.entries(e))n(a,o,!1);for(const[a,o]of Object.entries(t))n(a,o,!0);return r}const rx=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ex,bitLen:$k,bitMask:W2,bitSet:tx,bytesToHex:Uc,bytesToNumberBE:Zs,bytesToNumberLE:J2,concatBytes:Ru,createHmacDrbg:v7,ensureBytes:Mr,equalBytes:Xk,hexToBytes:Dc,hexToNumber:Z2,numberToBytesBE:Ic,numberToBytesLE:X2,numberToHexUnpadded:E7,numberToVarBytesBE:Jk,utf8ToBytes:Wk,validateObject:Ju},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tn=BigInt(0),Mt=BigInt(1),Gs=BigInt(2),ix=BigInt(3),H6=BigInt(4),t4=BigInt(5),n4=BigInt(8);BigInt(9);BigInt(16);function Kn(r,e){const t=r%e;return t>=tn?t:e+t}function ax(r,e,t){if(t<=tn||e<tn)throw new Error("Expected power/modulo > 0");if(t===Mt)return tn;let n=Mt;for(;e>tn;)e&Mt&&(n=n*r%t),r=r*r%t,e>>=Mt;return n}function Ar(r,e,t){let n=r;for(;e-- >tn;)n*=n,n%=t;return n}function z6(r,e){if(r===tn||e<=tn)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Kn(r,e),n=e,a=tn,o=Mt;for(;t!==tn;){const u=n/t,f=n%t,d=a-o*u;n=t,t=f,a=o,o=d}if(n!==Mt)throw new Error("invert: does not exist");return Kn(a,e)}function sx(r){const e=(r-Mt)/Gs;let t,n,a;for(t=r-Mt,n=0;t%Gs===tn;t/=Gs,n++);for(a=Gs;a<r&&ax(a,e,r)!==r-Mt;a++);if(n===1){const l=(r+Mt)/H6;return function(f,d){const y=f.pow(d,l);if(!f.eql(f.sqr(y),d))throw new Error("Cannot find square root");return y}}const o=(t+Mt)/Gs;return function(u,f){if(u.pow(f,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=n,y=u.pow(u.mul(u.ONE,a),t),p=u.pow(f,o),m=u.pow(f,t);for(;!u.eql(m,u.ONE);){if(u.eql(m,u.ZERO))return u.ZERO;let w=1;for(let S=u.sqr(m);w<d&&!u.eql(S,u.ONE);w++)S=u.sqr(S);const E=u.pow(y,Mt<<BigInt(d-w-1));y=u.sqr(E),p=u.mul(p,E),m=u.mul(m,y),d=w}return p}}function ox(r){if(r%H6===ix){const e=(r+Mt)/H6;return function(n,a){const o=n.pow(a,e);if(!n.eql(n.sqr(o),a))throw new Error("Cannot find square root");return o}}if(r%n4===t4){const e=(r-t4)/n4;return function(n,a){const o=n.mul(a,Gs),l=n.pow(o,e),u=n.mul(a,l),f=n.mul(n.mul(u,Gs),l),d=n.mul(u,n.sub(f,n.ONE));if(!n.eql(n.sqr(d),a))throw new Error("Cannot find square root");return d}}return sx(r)}const cx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lx(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=cx.reduce((n,a)=>(n[a]="function",n),e);return Ju(r,t)}function ux(r,e,t){if(t<tn)throw new Error("Expected power > 0");if(t===tn)return r.ONE;if(t===Mt)return e;let n=r.ONE,a=e;for(;t>tn;)t&Mt&&(n=r.mul(n,a)),a=r.sqr(a),t>>=Mt;return n}function fx(r,e){const t=new Array(e.length),n=e.reduce((o,l,u)=>r.is0(l)?o:(t[u]=o,r.mul(o,l)),r.ONE),a=r.inv(n);return e.reduceRight((o,l,u)=>r.is0(l)?o:(t[u]=r.mul(o,t[u]),r.mul(o,l)),a),t}function S7(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function hx(r,e,t=!1,n={}){if(r<=tn)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:a,nByteLength:o}=S7(r,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=ox(r),u=Object.freeze({ORDER:r,BITS:a,BYTES:o,MASK:W2(a),ZERO:tn,ONE:Mt,create:f=>Kn(f,r),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return tn<=f&&f<r},is0:f=>f===tn,isOdd:f=>(f&Mt)===Mt,neg:f=>Kn(-f,r),eql:(f,d)=>f===d,sqr:f=>Kn(f*f,r),add:(f,d)=>Kn(f+d,r),sub:(f,d)=>Kn(f-d,r),mul:(f,d)=>Kn(f*d,r),pow:(f,d)=>ux(u,f,d),div:(f,d)=>Kn(f*z6(d,r),r),sqrN:f=>f*f,addN:(f,d)=>f+d,subN:(f,d)=>f-d,mulN:(f,d)=>f*d,inv:f=>z6(f,r),sqrt:n.sqrt||(f=>l(u,f)),invertBatch:f=>fx(u,f),cmov:(f,d,y)=>y?d:f,toBytes:f=>t?X2(f,o):Ic(f,o),fromBytes:f=>{if(f.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${f.length}`);return t?J2(f):Zs(f)}});return Object.freeze(u)}function k7(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function x7(r){const e=k7(r);return e+Math.ceil(e/2)}function dx(r,e,t=!1){const n=r.length,a=k7(e),o=x7(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const l=t?Zs(r):J2(r),u=Kn(l,e-Mt)+Mt;return t?X2(u,a):Ic(u,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yx=BigInt(0),qd=BigInt(1);function px(r,e){const t=(a,o)=>{const l=o.negate();return a?l:o},n=a=>{const o=Math.ceil(e/a)+1,l=2**(a-1);return{windows:o,windowSize:l}};return{constTimeNegate:t,unsafeLadder(a,o){let l=r.ZERO,u=a;for(;o>yx;)o&qd&&(l=l.add(u)),u=u.double(),o>>=qd;return l},precomputeWindow(a,o){const{windows:l,windowSize:u}=n(o),f=[];let d=a,y=d;for(let p=0;p<l;p++){y=d,f.push(y);for(let m=1;m<u;m++)y=y.add(d),f.push(y);d=y.double()}return f},wNAF(a,o,l){const{windows:u,windowSize:f}=n(a);let d=r.ZERO,y=r.BASE;const p=BigInt(2**a-1),m=2**a,w=BigInt(a);for(let E=0;E<u;E++){const S=E*f;let v=Number(l&p);l>>=w,v>f&&(v-=m,l+=qd);const k=S,D=S+Math.abs(v)-1,C=E%2!==0,N=v<0;v===0?y=y.add(t(C,o[k])):d=d.add(t(N,o[D]))}return{p:d,f:y}},wNAFCached(a,o,l,u){const f=a._WINDOW_SIZE||1;let d=o.get(a);return d||(d=this.precomputeWindow(a,f),f!==1&&o.set(a,u(d))),this.wNAF(f,d,l)}}}function B7(r){return lx(r.Fp),Ju(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S7(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gx(r){const e=B7(r);Ju(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a}=e;if(t){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:mx,hexToBytes:bx}=rx,_s={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=_s;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:mx(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=_s,t=typeof r=="string"?bx(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:a,l:o}=_s._parseInt(t.subarray(2)),{d:l,l:u}=_s._parseInt(o);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:a,s:l}},hexFromSig(r){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,t=d=>{const y=d.toString(16);return y.length&1?`0${y}`:y},n=e(t(r.s)),a=e(t(r.r)),o=n.length/2,l=a.length/2,u=t(o),f=t(l);return`30${t(l+o+4)}02${f}${a}02${u}${n}`}},qi=BigInt(0),Er=BigInt(1);BigInt(2);const r4=BigInt(3);BigInt(4);function Ax(r){const e=gx(r),{Fp:t}=e,n=e.toBytes||((E,S,v)=>{const k=S.toAffine();return Ru(Uint8Array.from([4]),t.toBytes(k.x),t.toBytes(k.y))}),a=e.fromBytes||(E=>{const S=E.subarray(1),v=t.fromBytes(S.subarray(0,t.BYTES)),k=t.fromBytes(S.subarray(t.BYTES,2*t.BYTES));return{x:v,y:k}});function o(E){const{a:S,b:v}=e,k=t.sqr(E),D=t.mul(k,E);return t.add(t.add(D,t.mul(E,S)),v)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function l(E){return typeof E=="bigint"&&qi<E&&E<e.n}function u(E){if(!l(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(E){const{allowedPrivateKeyLengths:S,nByteLength:v,wrapPrivateKey:k,n:D}=e;if(S&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=Uc(E)),typeof E!="string"||!S.includes(E.length))throw new Error("Invalid key");E=E.padStart(v*2,"0")}let C;try{C=typeof E=="bigint"?E:Zs(Mr("private key",E,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof E}`)}return k&&(C=Kn(C,D)),u(C),C}const d=new Map;function y(E){if(!(E instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(S,v,k){if(this.px=S,this.py=v,this.pz=k,S==null||!t.isValid(S))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(k==null||!t.isValid(k))throw new Error("z required")}static fromAffine(S){const{x:v,y:k}=S||{};if(!S||!t.isValid(v)||!t.isValid(k))throw new Error("invalid affine point");if(S instanceof p)throw new Error("projective point not allowed");const D=C=>t.eql(C,t.ZERO);return D(v)&&D(k)?p.ZERO:new p(v,k,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const v=t.invertBatch(S.map(k=>k.pz));return S.map((k,D)=>k.toAffine(v[D])).map(p.fromAffine)}static fromHex(S){const v=p.fromAffine(a(Mr("pointHex",S)));return v.assertValidity(),v}static fromPrivateKey(S){return p.BASE.multiply(f(S))}_setWindowSize(S){this._WINDOW_SIZE=S,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:S,y:v}=this.toAffine();if(!t.isValid(S)||!t.isValid(v))throw new Error("bad point: x or y not FE");const k=t.sqr(v),D=o(S);if(!t.eql(k,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:S}=this.toAffine();if(t.isOdd)return!t.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){y(S);const{px:v,py:k,pz:D}=this,{px:C,py:N,pz:M}=S,K=t.eql(t.mul(v,M),t.mul(C,D)),I=t.eql(t.mul(k,M),t.mul(N,D));return K&&I}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){const{a:S,b:v}=e,k=t.mul(v,r4),{px:D,py:C,pz:N}=this;let M=t.ZERO,K=t.ZERO,I=t.ZERO,U=t.mul(D,D),R=t.mul(C,C),L=t.mul(N,N),Q=t.mul(D,C);return Q=t.add(Q,Q),I=t.mul(D,N),I=t.add(I,I),M=t.mul(S,I),K=t.mul(k,L),K=t.add(M,K),M=t.sub(R,K),K=t.add(R,K),K=t.mul(M,K),M=t.mul(Q,M),I=t.mul(k,I),L=t.mul(S,L),Q=t.sub(U,L),Q=t.mul(S,Q),Q=t.add(Q,I),I=t.add(U,U),U=t.add(I,U),U=t.add(U,L),U=t.mul(U,Q),K=t.add(K,U),L=t.mul(C,N),L=t.add(L,L),U=t.mul(L,Q),M=t.sub(M,U),I=t.mul(L,R),I=t.add(I,I),I=t.add(I,I),new p(M,K,I)}add(S){y(S);const{px:v,py:k,pz:D}=this,{px:C,py:N,pz:M}=S;let K=t.ZERO,I=t.ZERO,U=t.ZERO;const R=e.a,L=t.mul(e.b,r4);let Q=t.mul(v,C),F=t.mul(k,N),G=t.mul(D,M),Z=t.add(v,k),H=t.add(C,N);Z=t.mul(Z,H),H=t.add(Q,F),Z=t.sub(Z,H),H=t.add(v,D);let O=t.add(C,M);return H=t.mul(H,O),O=t.add(Q,G),H=t.sub(H,O),O=t.add(k,D),K=t.add(N,M),O=t.mul(O,K),K=t.add(F,G),O=t.sub(O,K),U=t.mul(R,H),K=t.mul(L,G),U=t.add(K,U),K=t.sub(F,U),U=t.add(F,U),I=t.mul(K,U),F=t.add(Q,Q),F=t.add(F,Q),G=t.mul(R,G),H=t.mul(L,H),F=t.add(F,G),G=t.sub(Q,G),G=t.mul(R,G),H=t.add(H,G),Q=t.mul(F,H),I=t.add(I,Q),Q=t.mul(O,H),K=t.mul(Z,K),K=t.sub(K,Q),Q=t.mul(Z,F),U=t.mul(O,U),U=t.add(U,Q),new p(K,I,U)}subtract(S){return this.add(S.negate())}is0(){return this.equals(p.ZERO)}wNAF(S){return w.wNAFCached(this,d,S,v=>{const k=t.invertBatch(v.map(D=>D.pz));return v.map((D,C)=>D.toAffine(k[C])).map(p.fromAffine)})}multiplyUnsafe(S){const v=p.ZERO;if(S===qi)return v;if(u(S),S===Er)return this;const{endo:k}=e;if(!k)return w.unsafeLadder(this,S);let{k1neg:D,k1:C,k2neg:N,k2:M}=k.splitScalar(S),K=v,I=v,U=this;for(;C>qi||M>qi;)C&Er&&(K=K.add(U)),M&Er&&(I=I.add(U)),U=U.double(),C>>=Er,M>>=Er;return D&&(K=K.negate()),N&&(I=I.negate()),I=new p(t.mul(I.px,k.beta),I.py,I.pz),K.add(I)}multiply(S){u(S);let v=S,k,D;const{endo:C}=e;if(C){const{k1neg:N,k1:M,k2neg:K,k2:I}=C.splitScalar(v);let{p:U,f:R}=this.wNAF(M),{p:L,f:Q}=this.wNAF(I);U=w.constTimeNegate(N,U),L=w.constTimeNegate(K,L),L=new p(t.mul(L.px,C.beta),L.py,L.pz),k=U.add(L),D=R.add(Q)}else{const{p:N,f:M}=this.wNAF(v);k=N,D=M}return p.normalizeZ([k,D])[0]}multiplyAndAddUnsafe(S,v,k){const D=p.BASE,C=(M,K)=>K===qi||K===Er||!M.equals(D)?M.multiplyUnsafe(K):M.multiply(K),N=C(this,v).add(C(S,k));return N.is0()?void 0:N}toAffine(S){const{px:v,py:k,pz:D}=this,C=this.is0();S==null&&(S=C?t.ONE:t.inv(D));const N=t.mul(v,S),M=t.mul(k,S),K=t.mul(D,S);if(C)return{x:t.ZERO,y:t.ZERO};if(!t.eql(K,t.ONE))throw new Error("invZ was invalid");return{x:N,y:M}}isTorsionFree(){const{h:S,isTorsionFree:v}=e;if(S===Er)return!0;if(v)return v(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:v}=e;return S===Er?this:v?v(p,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return this.assertValidity(),n(p,this,S)}toHex(S=!0){return Uc(this.toRawBytes(S))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);const m=e.nBitLength,w=px(p,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:l}}function wx(r){const e=B7(r);return Ju(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ex(r){const e=wx(r),{Fp:t,n}=e,a=t.BYTES+1,o=2*t.BYTES+1;function l(H){return qi<H&&H<t.ORDER}function u(H){return Kn(H,n)}function f(H){return z6(H,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:m}=Ax({...e,toBytes(H,O,j){const ee=O.toAffine(),ne=t.toBytes(ee.x),P=Ru;return j?P(Uint8Array.from([O.hasEvenY()?2:3]),ne):P(Uint8Array.from([4]),ne,t.toBytes(ee.y))},fromBytes(H){const O=H.length,j=H[0],ee=H.subarray(1);if(O===a&&(j===2||j===3)){const ne=Zs(ee);if(!l(ne))throw new Error("Point is not on curve");const P=p(ne);let _=t.sqrt(P);const q=(_&Er)===Er;return(j&1)===1!==q&&(_=t.neg(_)),{x:ne,y:_}}else if(O===o&&j===4){const ne=t.fromBytes(ee.subarray(0,t.BYTES)),P=t.fromBytes(ee.subarray(t.BYTES,2*t.BYTES));return{x:ne,y:P}}else throw new Error(`Point of length ${O} was invalid. Expected ${a} compressed bytes or ${o} uncompressed bytes`)}}),w=H=>Uc(Ic(H,e.nByteLength));function E(H){const O=n>>Er;return H>O}function S(H){return E(H)?u(-H):H}const v=(H,O,j)=>Zs(H.slice(O,j));class k{constructor(O,j,ee){this.r=O,this.s=j,this.recovery=ee,this.assertValidity()}static fromCompact(O){const j=e.nByteLength;return O=Mr("compactSignature",O,j*2),new k(v(O,0,j),v(O,j,2*j))}static fromDER(O){const{r:j,s:ee}=_s.toSig(Mr("DER",O));return new k(j,ee)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new k(this.r,this.s,O)}recoverPublicKey(O){const{r:j,s:ee,recovery:ne}=this,P=I(Mr("msgHash",O));if(ne==null||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");const _=ne===2||ne===3?j+e.n:j;if(_>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(ne&1)===0?"02":"03",W=d.fromHex(q+w(_)),X=f(_),ce=u(-P*X),le=u(ee*X),ve=d.BASE.multiplyAndAddUnsafe(W,ce,le);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Dc(this.toDERHex())}toDERHex(){return _s.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Dc(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const D={isValidPrivateKey(H){try{return y(H),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const H=x7(e.n);return dx(e.randomBytes(H),e.n)},precompute(H=8,O=d.BASE){return O._setWindowSize(H),O.multiply(BigInt(3)),O}};function C(H,O=!0){return d.fromPrivateKey(H).toRawBytes(O)}function N(H){const O=H instanceof Uint8Array,j=typeof H=="string",ee=(O||j)&&H.length;return O?ee===a||ee===o:j?ee===2*a||ee===2*o:H instanceof d}function M(H,O,j=!0){if(N(H))throw new Error("first arg must be private key");if(!N(O))throw new Error("second arg must be public key");return d.fromHex(O).multiply(y(H)).toRawBytes(j)}const K=e.bits2int||function(H){const O=Zs(H),j=H.length*8-e.nBitLength;return j>0?O>>BigInt(j):O},I=e.bits2int_modN||function(H){return u(K(H))},U=W2(e.nBitLength);function R(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(qi<=H&&H<U))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ic(H,e.nByteLength)}function L(H,O,j=Q){if(["recovered","canonical"].some(Be=>Be in j))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:ne}=e;let{lowS:P,prehash:_,extraEntropy:q}=j;P==null&&(P=!0),H=Mr("msgHash",H),_&&(H=Mr("prehashed msgHash",ee(H)));const W=I(H),X=y(O),ce=[R(X),R(W)];if(q!=null){const Be=q===!0?ne(t.BYTES):q;ce.push(Mr("extraEntropy",Be))}const le=Ru(...ce),ve=W;function ye(Be){const Ie=K(Be);if(!m(Ie))return;const Me=f(Ie),Ue=d.BASE.multiply(Ie).toAffine(),qe=u(Ue.x);if(qe===qi)return;const Ye=u(Me*u(ve+qe*X));if(Ye===qi)return;let tt=(Ue.x===qe?0:2)|Number(Ue.y&Er),jr=Ye;return P&&E(Ye)&&(jr=S(Ye),tt^=1),new k(qe,jr,tt)}return{seed:le,k2sig:ye}}const Q={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function G(H,O,j=Q){const{seed:ee,k2sig:ne}=L(H,O,j),P=e;return v7(P.hash.outputLen,P.nByteLength,P.hmac)(ee,ne)}d.BASE._setWindowSize(8);function Z(H,O,j,ee=F){const ne=H;if(O=Mr("msgHash",O),j=Mr("publicKey",j),"strict"in ee)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:_}=ee;let q,W;try{if(typeof ne=="string"||ne instanceof Uint8Array)try{q=k.fromDER(ne)}catch(Ue){if(!(Ue instanceof _s.Err))throw Ue;q=k.fromCompact(ne)}else if(typeof ne=="object"&&typeof ne.r=="bigint"&&typeof ne.s=="bigint"){const{r:Ue,s:qe}=ne;q=new k(Ue,qe)}else throw new Error("PARSE");W=d.fromHex(j)}catch(Ue){if(Ue.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&q.hasHighS())return!1;_&&(O=e.hash(O));const{r:X,s:ce}=q,le=I(O),ve=f(ce),ye=u(le*ve),Be=u(X*ve),Ie=d.BASE.multiplyAndAddUnsafe(W,ye,Be)?.toAffine();return Ie?u(Ie.x)===X:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:M,sign:G,verify:Z,ProjectivePoint:d,Signature:k,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vx(r){return{hash:r,hmac:(e,...t)=>n7(r,e,lk(...t)),randomBytes:uk}}function Sx(r,e){const t=n=>Ex({...r,...vx(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C7=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),i4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kx=BigInt(1),G6=BigInt(2),a4=(r,e)=>(r+e/G6)/e;function xx(r){const e=C7,t=BigInt(3),n=BigInt(6),a=BigInt(11),o=BigInt(22),l=BigInt(23),u=BigInt(44),f=BigInt(88),d=r*r*r%e,y=d*d*r%e,p=Ar(y,t,e)*y%e,m=Ar(p,t,e)*y%e,w=Ar(m,G6,e)*d%e,E=Ar(w,a,e)*w%e,S=Ar(E,o,e)*E%e,v=Ar(S,u,e)*S%e,k=Ar(v,f,e)*v%e,D=Ar(k,u,e)*S%e,C=Ar(D,t,e)*y%e,N=Ar(C,l,e)*E%e,M=Ar(N,n,e)*d%e,K=Ar(M,G6,e);if(!F6.eql(F6.sqr(K),r))throw new Error("Cannot find square root");return K}const F6=hx(C7,void 0,void 0,{sqrt:xx}),Ya=Sx({a:BigInt(0),b:BigInt(7),Fp:F6,n:i4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=i4,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-kx*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,l=BigInt("0x100000000000000000000000000000000"),u=a4(o*r,e),f=a4(-n*r,e);let d=Kn(r-u*t-f*a,e),y=Kn(-u*n-f*o,e);const p=d>l,m=y>l;if(p&&(d=e-d),m&&(y=e-y),d>l||y>l)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:d,k2neg:m,k2:y}}}},i7);BigInt(0);Ya.ProjectivePoint;const Tu="0x0000000000000000000000000000000000000000",s4="0x0000000000000000000000000000000000000000000000000000000000000000",o4=BigInt(0),c4=BigInt(1),l4=BigInt(2),u4=BigInt(27),f4=BigInt(28),Tf=BigInt(35),ic={};function h4(r){return na(qt(r),32)}class Dt{#e;#t;#n;#r;get r(){return this.#e}set r(e){Y(wc(e)===32,"invalid r","value",e),this.#e=pe(e)}get s(){return Y(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){Y(wc(e)===32,"invalid s","value",e),this.#t=pe(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const t=Ke(e,"value");Y(t===27||t===28,"invalid v","v",e),this.#n=t}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:Dt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ne(this.s);return this.yParity&&(e[0]|=128),pe(e)}get compactSerialized(){return St([this.r,this.yParityAndS])}get serialized(){return St([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,a){F1(e,ic,"Signature"),this.#e=t,this.#t=n,this.#n=a,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Dt(ic,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=me(e,"v");return t==u4||t==f4?o4:(Y(t>=Tf,"invalid EIP-155 v","v",e),(t-Tf)/l4)}static getChainIdV(e,t){return me(e)*l4+BigInt(35+t-27)}static getNormalizedV(e){const t=me(e);return t===o4||t===u4?27:t===c4||t===f4?28:(Y(t>=Tf,"invalid v","v",e),t&c4?27:28)}static from(e){function t(d,y){Y(d,y,"signature",e)}if(e==null)return new Dt(ic,s4,s4,27);if(typeof e=="string"){const d=Ne(e,"signature");if(d.length===64){const y=pe(d.slice(0,32)),p=d.slice(32,64),m=p[0]&128?28:27;return p[0]&=127,new Dt(ic,y,pe(p),m)}if(d.length===65){const y=pe(d.slice(0,32)),p=pe(d.slice(32,64)),m=Dt.getNormalizedV(d[64]);return new Dt(ic,y,p,m)}t(!1,"invalid raw signature length")}if(e instanceof Dt)return e.clone();const n=e.r;t(n!=null,"missing r");const a=h4(n),o=(function(d,y){if(d!=null)return h4(d);if(y!=null){t(dt(y,32),"invalid yParityAndS");const p=Ne(y);return p[0]&=127,pe(p)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:l,v:u}=(function(d,y,p){if(d!=null){const m=me(d);return{networkV:m>=Tf?m:void 0,v:Dt.getNormalizedV(m)}}if(y!=null)return t(dt(y,32),"invalid yParityAndS"),{v:Ne(y)[0]&128?28:27};if(p!=null){switch(Ke(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),f=new Dt(ic,a,o,u);return l&&(f.#r=l),t(e.yParity==null||Ke(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}}class Yi{#e;constructor(e){Y(wc(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=pe(e)}get privateKey(){return this.#e}get publicKey(){return Yi.computePublicKey(this.#e)}get compressedPublicKey(){return Yi.computePublicKey(this.#e,!0)}sign(e){Y(wc(e)===32,"invalid digest length","digest",e);const t=Ya.sign(xn(e),xn(this.#e),{lowS:!0});return Dt.from({r:as(t.r,32),s:as(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Yi.computePublicKey(e);return pe(Ya.getSharedSecret(xn(this.#e),Ne(t),!1))}static computePublicKey(e,t){let n=Ne(e,"key");if(n.length===32){const o=Ya.getPublicKey(n,!!t);return pe(o)}if(n.length===64){const o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}const a=Ya.ProjectivePoint.fromHex(n);return pe(a.toRawBytes(t))}static recoverPublicKey(e,t){Y(wc(e)===32,"invalid digest length","digest",e);const n=Dt.from(t);let a=Ya.Signature.fromCompact(xn(St([n.r,n.s])));a=a.addRecoveryBit(n.yParity);const o=a.recoverPublicKey(xn(e));return Y(o!=null,"invalid signature for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,n){const a=Ya.ProjectivePoint.fromHex(Yi.computePublicKey(e).substring(2)),o=Ya.ProjectivePoint.fromHex(Yi.computePublicKey(t).substring(2));return"0x"+a.add(o).toHex(!!n)}}const Bx=BigInt(0),Cx=BigInt(36);function d4(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let a=0;a<40;a++)t[a]=e[a].charCodeAt(0);const n=Ne(Gt(t));for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&(e[a]=e[a].toUpperCase()),(n[a>>1]&15)>=8&&(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}const $2={};for(let r=0;r<10;r++)$2[String(r)]=String(r);for(let r=0;r<26;r++)$2[String.fromCharCode(65+r)]=String(10+r);const y4=15;function Ux(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>$2[n]).join("");for(;e.length>=y4;){let n=e.substring(0,y4);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Dx=(function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r})();function Ix(r){r=r.toLowerCase();let e=Bx;for(let t=0;t<r.length;t++)e=e*Cx+Dx[r[t]];return e}function Je(r){if(Y(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=d4(r);return Y(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Y(r.substring(2,4)===Ux(r),"bad icap checksum","address",r);let e=Ix(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return d4("0x"+e)}Y(!1,"invalid address","address",r)}function U7(r){const e=Je(r.from);let n=me(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Je(Ut(Gt(ss([e,n])),12))}function D7(r){return r&&typeof r.getAddress=="function"}async function Yd(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(he(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),Y(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Je(t)}function Cn(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Je(r):(he(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Yd(r,e.resolveName(r)));if(D7(r))return Yd(r,r.getAddress());if(r&&typeof r.then=="function")return Yd(r,r);Y(!1,"unsupported addressable value","target",r)}const Gi={};function ge(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new It(Gi,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Ve(r,e){return new It(Gi,`bytes${e||""}`,r,{size:e})}const p4=Symbol.for("_ethers_typed");class It{type;value;#e;_typedSymbol;constructor(e,t,n,a){a==null&&(a=null),F1(Gi,e,"Typed"),ke(this,{_typedSymbol:p4,type:t,value:n}),this.#e=a,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new It(Gi,e,t)}static uint8(e){return ge(e,8)}static uint16(e){return ge(e,16)}static uint24(e){return ge(e,24)}static uint32(e){return ge(e,32)}static uint40(e){return ge(e,40)}static uint48(e){return ge(e,48)}static uint56(e){return ge(e,56)}static uint64(e){return ge(e,64)}static uint72(e){return ge(e,72)}static uint80(e){return ge(e,80)}static uint88(e){return ge(e,88)}static uint96(e){return ge(e,96)}static uint104(e){return ge(e,104)}static uint112(e){return ge(e,112)}static uint120(e){return ge(e,120)}static uint128(e){return ge(e,128)}static uint136(e){return ge(e,136)}static uint144(e){return ge(e,144)}static uint152(e){return ge(e,152)}static uint160(e){return ge(e,160)}static uint168(e){return ge(e,168)}static uint176(e){return ge(e,176)}static uint184(e){return ge(e,184)}static uint192(e){return ge(e,192)}static uint200(e){return ge(e,200)}static uint208(e){return ge(e,208)}static uint216(e){return ge(e,216)}static uint224(e){return ge(e,224)}static uint232(e){return ge(e,232)}static uint240(e){return ge(e,240)}static uint248(e){return ge(e,248)}static uint256(e){return ge(e,256)}static uint(e){return ge(e,256)}static int8(e){return ge(e,-8)}static int16(e){return ge(e,-16)}static int24(e){return ge(e,-24)}static int32(e){return ge(e,-32)}static int40(e){return ge(e,-40)}static int48(e){return ge(e,-48)}static int56(e){return ge(e,-56)}static int64(e){return ge(e,-64)}static int72(e){return ge(e,-72)}static int80(e){return ge(e,-80)}static int88(e){return ge(e,-88)}static int96(e){return ge(e,-96)}static int104(e){return ge(e,-104)}static int112(e){return ge(e,-112)}static int120(e){return ge(e,-120)}static int128(e){return ge(e,-128)}static int136(e){return ge(e,-136)}static int144(e){return ge(e,-144)}static int152(e){return ge(e,-152)}static int160(e){return ge(e,-160)}static int168(e){return ge(e,-168)}static int176(e){return ge(e,-176)}static int184(e){return ge(e,-184)}static int192(e){return ge(e,-192)}static int200(e){return ge(e,-200)}static int208(e){return ge(e,-208)}static int216(e){return ge(e,-216)}static int224(e){return ge(e,-224)}static int232(e){return ge(e,-232)}static int240(e){return ge(e,-240)}static int248(e){return ge(e,-248)}static int256(e){return ge(e,-256)}static int(e){return ge(e,-256)}static bytes1(e){return Ve(e,1)}static bytes2(e){return Ve(e,2)}static bytes3(e){return Ve(e,3)}static bytes4(e){return Ve(e,4)}static bytes5(e){return Ve(e,5)}static bytes6(e){return Ve(e,6)}static bytes7(e){return Ve(e,7)}static bytes8(e){return Ve(e,8)}static bytes9(e){return Ve(e,9)}static bytes10(e){return Ve(e,10)}static bytes11(e){return Ve(e,11)}static bytes12(e){return Ve(e,12)}static bytes13(e){return Ve(e,13)}static bytes14(e){return Ve(e,14)}static bytes15(e){return Ve(e,15)}static bytes16(e){return Ve(e,16)}static bytes17(e){return Ve(e,17)}static bytes18(e){return Ve(e,18)}static bytes19(e){return Ve(e,19)}static bytes20(e){return Ve(e,20)}static bytes21(e){return Ve(e,21)}static bytes22(e){return Ve(e,22)}static bytes23(e){return Ve(e,23)}static bytes24(e){return Ve(e,24)}static bytes25(e){return Ve(e,25)}static bytes26(e){return Ve(e,26)}static bytes27(e){return Ve(e,27)}static bytes28(e){return Ve(e,28)}static bytes29(e){return Ve(e,29)}static bytes30(e){return Ve(e,30)}static bytes31(e){return Ve(e,31)}static bytes32(e){return Ve(e,32)}static address(e){return new It(Gi,"address",e)}static bool(e){return new It(Gi,"bool",!!e)}static bytes(e){return new It(Gi,"bytes",e)}static string(e){return new It(Gi,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new It(Gi,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===p4}static dereference(e,t){if(It.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class Rx extends oa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=It.dereference(t,"string");try{n=Je(n)}catch(a){return this._throwError(a.message,t)}return e.writeValue(n)}decode(e){return Je(as(e.readValue(),20))}}class Tx extends oa{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function I7(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let f={};n=e.map(d=>{const y=d.localName;return he(y,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:t}),he(!f[y],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:t}),f[y]=!0,t[y]})}else Y(!1,"invalid tuple value","tuple",t);Y(e.length===n.length,"types/value length mismatch","tuple",t);let a=new L6,o=new L6,l=[];e.forEach((f,d)=>{let y=n[d];if(f.dynamic){let p=o.length;f.encode(o,y);let m=a.writeUpdatableValue();l.push(w=>{m(w+p)})}else f.encode(a,y)}),l.forEach(f=>{f(a.length)});let u=r.appendWriter(a);return u+=r.appendWriter(o),u}function R7(r,e){let t=[],n=[],a=r.subReader(0);return e.forEach(o=>{let l=null;if(o.dynamic){let u=r.readIndex(),f=a.subReader(u);try{l=o.decode(f)}catch(d){if(un(d,"BUFFER_OVERRUN"))throw d;l=d,l.baseType=o.name,l.name=o.localName,l.type=o.type}}else try{l=o.decode(r)}catch(u){if(un(u,"BUFFER_OVERRUN"))throw u;l=u,l.baseType=o.name,l.name=o.localName,l.type=o.type}if(l==null)throw new Error("investigate");t.push(l),n.push(o.localName||null)}),Zi.fromItems(t,n)}class Nx extends oa{coder;length;constructor(e,t,n){const a=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",a,n,o),ke(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=It.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let a=this.length;a===-1&&(a=n.length,e.writeValue(n.length)),Hm(n.length,a,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let l=0;l<n.length;l++)o.push(this.coder);return I7(e,o,n)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),he(t*Bn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Bn,length:e.dataLength}));let n=[];for(let a=0;a<t;a++)n.push(new Tx(this.coder));return R7(e,n)}}class Ox extends oa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=It.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class T7 extends oa{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=xn(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Px extends T7{constructor(e){super("bytes",e)}decode(e){return pe(super.decode(e))}}class Kx extends oa{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),ke(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=xn(It.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return pe(e.readBytes(this.size))}}const Mx=new Uint8Array([]);class Lx extends oa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Mx)}decode(e){return e.readBytes(0),null}}const Qx=BigInt(0),Hx=BigInt(1),zx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Gx extends oa{size;signed;constructor(e,t,n){const a=(t?"int":"uint")+e*8;super(a,a,n,!1),ke(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=me(It.dereference(t,this.type)),a=fu(zx,Bn*8);if(this.signed){let o=fu(a,this.size*8-1);(n>o||n<-(o+Hx))&&this._throwError("value out-of-bounds",t),n=Fm(n,8*Bn)}else(n<Qx||n>fu(a,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=fu(e.readValue(),this.size*8);return this.signed&&(t=HS(t,this.size*8)),t}}class Fx extends T7{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Xi(It.dereference(t,"string")))}decode(e){return d1(super.decode(e))}}class Nf extends oa{coders;constructor(e,t){let n=!1;const a=[];e.forEach(l=>{l.dynamic&&(n=!0),a.push(l.type)});const o="tuple("+a.join(",")+")";super("tuple",o,t,n),ke(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,a)=>{const o=a.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,a)=>{let o=n.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[a]))}),Object.freeze(e)}encode(e,t){const n=It.dereference(t,"tuple");return I7(e,this.coders,n)}decode(e){return R7(e,this.coders)}}function Zd(r,e){return{address:Je(r),storageKeys:e.map((t,n)=>(Y(dt(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function uo(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(Y(t.length===2,"invalid slot set",`value[${n}]`,t),Zd(t[0],t[1])):(Y(t!=null&&typeof t=="object","invalid address-slot set","value",r),Zd(t.address,t.storageKeys)));Y(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((a,o)=>(a[o]=!0,a),{});return Zd(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function N7(r){return{address:Je(r.address),nonce:me(r.nonce!=null?r.nonce:0),chainId:me(r.chainId!=null?r.chainId:0),signature:Dt.from(r.signature)}}function _x(r){let e;return typeof r=="string"?e=Yi.computePublicKey(r,!1):e=r.publicKey,Je(Gt("0x"+e.substring(4)).substring(26))}function jx(r,e){return _x(Yi.recoverPublicKey(r,e))}const $t=BigInt(0),Vx=BigInt(2),qx=BigInt(27),Yx=BigInt(28),Zx=BigInt(35),Jx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Jd=4096*32;function Xx(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return Ne(r.blobToKzgCommitment(pe(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return Ne(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return Ne(r.blobToKZGCommitment(pe(n)));Y(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,a)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return Ne(r.computeBlobProof(pe(n),pe(a)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,a);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return Ne(r.computeBlobKZGProof(pe(n),pe(a)));Y(!1,"unsupported KZG library","kzg",r)}}}function g4(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=jc(e).substring(4),"0x"+t}function Vc(r){return r==="0x"?null:Je(r)}function Z1(r,e){try{return uo(r)}catch(t){Y(!1,t.message,e,r)}}function Wx(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<r.length;n++){const a=r[n];if(!Array.isArray(a))throw new Error(`authorization[${n}]: invalid array`);if(a.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!a[1])throw new Error(`authorization[${n}]: null address`);t.push({address:Vc(a[1]),nonce:at(a[2],"nonce"),chainId:at(a[0],"chainId"),signature:Dt.from({yParity:fo(a[3],"yParity"),r:na(a[4],32),s:na(a[5],32)})})}return t}catch(t){Y(!1,t.message,e,r)}}function fo(r,e){return r==="0x"?0:Ke(r,e)}function at(r,e){if(r==="0x")return $t;const t=me(r,e);return Y(t<=Jx,"value exceeds uint size",e,t),t}function ze(r,e){const t=me(r,"value"),n=qt(t);return Y(n.length<=32,"value too large",`tx.${e}`,t),n}function J1(r){return uo(r).map(e=>[e.address,e.storageKeys])}function $x(r){return r.map(e=>[ze(e.chainId,"chainId"),e.address,ze(e.nonce,"nonce"),ze(e.signature.yParity,"yParity"),qt(e.signature.r),qt(e.signature.s)])}function eB(r,e){Y(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)Y(dt(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function tB(r){const e=Zu(r);Y(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:fo(e[0],"nonce"),gasPrice:at(e[1],"gasPrice"),gasLimit:at(e[2],"gasLimit"),to:Vc(e[3]),value:at(e[4],"value"),data:pe(e[5]),chainId:$t};if(e.length===6)return t;const n=at(e[6],"v"),a=at(e[7],"r"),o=at(e[8],"s");if(a===$t&&o===$t)t.chainId=n;else{let l=(n-Zx)/Vx;l<$t&&(l=$t),t.chainId=l,Y(l!==$t||n===qx||n===Yx,"non-canonical legacy v","v",e[6]),t.signature=Dt.from({r:na(e[7],32),s:na(e[8],32),v:n})}return t}function nB(r,e){const t=[ze(r.nonce,"nonce"),ze(r.gasPrice||0,"gasPrice"),ze(r.gasLimit,"gasLimit"),r.to||"0x",ze(r.value,"value"),r.data];let n=$t;if(r.chainId!=$t)n=me(r.chainId,"tx.chainId"),Y(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const o=r.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==$t&&(t.push(qt(n)),t.push("0x"),t.push("0x")),ss(t);let a=BigInt(27+e.yParity);return n!==$t?a=Dt.getChainIdV(n,e.v):BigInt(e.v)!==a&&Y(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(qt(a)),t.push(qt(e.r)),t.push(qt(e.s)),ss(t)}function X1(r,e){let t;try{if(t=fo(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{Y(!1,"invalid yParity","yParity",e[0])}const n=na(e[1],32),a=na(e[2],32),o=Dt.from({r:n,s:a,yParity:t});r.signature=o}function rB(r){const e=Zu(Ne(r).slice(1));Y(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",pe(r));const t={type:2,chainId:at(e[0],"chainId"),nonce:fo(e[1],"nonce"),maxPriorityFeePerGas:at(e[2],"maxPriorityFeePerGas"),maxFeePerGas:at(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:at(e[4],"gasLimit"),to:Vc(e[5]),value:at(e[6],"value"),data:pe(e[7]),accessList:Z1(e[8],"accessList")};return e.length===9||X1(t,e.slice(9)),t}function iB(r,e){const t=[ze(r.chainId,"chainId"),ze(r.nonce,"nonce"),ze(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ze(r.maxFeePerGas||0,"maxFeePerGas"),ze(r.gasLimit,"gasLimit"),r.to||"0x",ze(r.value,"value"),r.data,J1(r.accessList||[])];return e&&(t.push(ze(e.yParity,"yParity")),t.push(qt(e.r)),t.push(qt(e.s))),St(["0x02",ss(t)])}function aB(r){const e=Zu(Ne(r).slice(1));Y(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",pe(r));const t={type:1,chainId:at(e[0],"chainId"),nonce:fo(e[1],"nonce"),gasPrice:at(e[2],"gasPrice"),gasLimit:at(e[3],"gasLimit"),to:Vc(e[4]),value:at(e[5],"value"),data:pe(e[6]),accessList:Z1(e[7],"accessList")};return e.length===8||X1(t,e.slice(8)),t}function sB(r,e){const t=[ze(r.chainId,"chainId"),ze(r.nonce,"nonce"),ze(r.gasPrice||0,"gasPrice"),ze(r.gasLimit,"gasLimit"),r.to||"0x",ze(r.value,"value"),r.data,J1(r.accessList||[])];return e&&(t.push(ze(e.yParity,"recoveryParam")),t.push(qt(e.r)),t.push(qt(e.s))),St(["0x01",ss(t)])}function oB(r){let e=Zu(Ne(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const o=e[1],l=e[2],u=e[3];Y(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),Y(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),Y(Array.isArray(u),"invalid network format: proofs not an array","fields[3]",u),Y(o.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),Y(o.length===u.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let f=0;f<e[1].length;f++)n.push({data:o[f],commitment:l[f],proof:u[f]});e=e[0]}Y(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",pe(r));const a={type:3,chainId:at(e[0],"chainId"),nonce:fo(e[1],"nonce"),maxPriorityFeePerGas:at(e[2],"maxPriorityFeePerGas"),maxFeePerGas:at(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:at(e[4],"gasLimit"),to:Vc(e[5]),value:at(e[6],"value"),data:pe(e[7]),accessList:Z1(e[8],"accessList"),maxFeePerBlobGas:at(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(a.blobs=n),Y(a.to!=null,`invalid address for transaction type: ${t}`,"data",r),Y(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let o=0;o<a.blobVersionedHashes.length;o++)Y(dt(a.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",r);return e.length===11||X1(a,e.slice(11)),a}function cB(r,e,t){const n=[ze(r.chainId,"chainId"),ze(r.nonce,"nonce"),ze(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ze(r.maxFeePerGas||0,"maxFeePerGas"),ze(r.gasLimit,"gasLimit"),r.to||Tu,ze(r.value,"value"),r.data,J1(r.accessList||[]),ze(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),eB(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(ze(e.yParity,"yParity")),n.push(qt(e.r)),n.push(qt(e.s)),t)?St(["0x03",ss([n,t.map(a=>a.data),t.map(a=>a.commitment),t.map(a=>a.proof)])]):St(["0x03",ss(n)])}function lB(r){const e=Zu(Ne(r).slice(1));Y(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",pe(r));const t={type:4,chainId:at(e[0],"chainId"),nonce:fo(e[1],"nonce"),maxPriorityFeePerGas:at(e[2],"maxPriorityFeePerGas"),maxFeePerGas:at(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:at(e[4],"gasLimit"),to:Vc(e[5]),value:at(e[6],"value"),data:pe(e[7]),accessList:Z1(e[8],"accessList"),authorizationList:Wx(e[9],"authorizationList")};return e.length===10||X1(t,e.slice(10)),t}function uB(r,e){const t=[ze(r.chainId,"chainId"),ze(r.nonce,"nonce"),ze(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ze(r.maxFeePerGas||0,"maxFeePerGas"),ze(r.gasLimit,"gasLimit"),r.to||"0x",ze(r.value,"value"),r.data,J1(r.accessList||[]),$x(r.authorizationList||[])];return e&&(t.push(ze(e.yParity,"yParity")),t.push(qt(e.r)),t.push(qt(e.s))),St(["0x04",ss(t)])}class Lr{#e;#t;#n;#r;#i;#s;#a;#o;#d;#l;#y;#p;#c;#u;#f;#h;#m;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:Y(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Tu:e}set to(e){this.#t=e==null?null:Je(e)}get nonce(){return this.#r}set nonce(e){this.#r=Ke(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=me(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?$t:e}set gasPrice(e){this.#s=e==null?null:me(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?$t:null)}set maxPriorityFeePerGas(e){this.#a=e==null?null:me(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?$t:null)}set maxFeePerGas(e){this.#o=e==null?null:me(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=pe(e)}get value(){return this.#d}set value(e){this.#d=me(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=me(e)}get signature(){return this.#y||null}set signature(e){this.#y=e==null?null:Dt.from(e)}get accessList(){const e=this.#p||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#p=e==null?null:uo(e)}get authorizationList(){const e=this.#m||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#m=e==null?null:e.map(t=>N7(t))}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?$t:e}set maxFeePerBlobGas(e){this.#c=e==null?null:me(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Y(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Y(dt(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}const t=[],n=[];for(let a=0;a<e.length;a++){const o=e[a];if(G2(o)){he(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let l=Ne(o);if(Y(l.length<=Jd,"blob is too large",`blobs[${a}]`,o),l.length!==Jd){const d=new Uint8Array(Jd);d.set(l),l=d}const u=this.#f.blobToKzgCommitment(l),f=pe(this.#f.computeBlobKzgProof(l,u));t.push({data:pe(l),commitment:pe(u),proof:f}),n.push(g4(1,u))}else{const l=pe(o.commitment);t.push({data:pe(o.data),commitment:l,proof:pe(o.proof)}),n.push(g4(1,l))}}this.#h=t,this.#u=n}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=Xx(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=$t,this.#s=null,this.#a=null,this.#o=null,this.#n="0x",this.#d=$t,this.#l=$t,this.#y=null,this.#p=null,this.#c=null,this.#u=null,this.#f=null,this.#h=null,this.#m=null}get hash(){return this.signature==null?null:Gt(this.#g(!0,!1))}get unsignedHash(){return Gt(this.unsignedSerialized)}get from(){return this.signature==null?null:jx(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Yi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,t){he(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return nB(this,n);case 1:return sB(this,n);case 2:return iB(this,n);case 3:return cB(this,n,t?this.blobs:null);case 4:return uB(this,n)}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,a=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&he(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),he(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),he(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):t?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(a&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Lr.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Lr;if(typeof e=="string"){const n=Ne(e);if(n[0]>=127)return Lr.from(tB(n));switch(n[0]){case 1:return Lr.from(aB(n));case 2:return Lr.from(rB(n));case 3:return Lr.from(oB(n));case 4:return Lr.from(lB(n))}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Lr;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Dt.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Y(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Y(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function eo(r){return Gt(Xi(r))}var fB="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const m4=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),b4=4;function hB(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),a=1,o=[0,1];for(let M=1;M<n;M++)o.push(a+=t());let l=t(),u=e;e+=l;let f=0,d=0;function y(){return f==0&&(d=d<<8|r[e++],f=8),d>>--f&1}const p=31,m=2**p,w=m>>>1,E=w>>1,S=m-1;let v=0;for(let M=0;M<p;M++)v=v<<1|y();let k=[],D=0,C=m;for(;;){let M=Math.floor(((v-D+1)*a-1)/C),K=0,I=n;for(;I-K>1;){let L=K+I>>>1;M<o[L]?I=L:K=L}if(K==0)break;k.push(K);let U=D+Math.floor(C*o[K]/a),R=D+Math.floor(C*o[K+1]/a)-1;for(;((U^R)&w)==0;)v=v<<1&S|y(),U=U<<1&S,R=R<<1&S|1;for(;U&~R&E;)v=v&w|v<<1&S>>>1|y(),U=U<<1^w,R=(R^w)<<1|w|1;D=U,C=1+R-U}let N=n-4;return k.map(M=>{switch(M-N){case 3:return N+65792+(r[u++]<<16|r[u++]<<8|r[u++]);case 2:return N+256+(r[u++]<<8|r[u++]);case 1:return N+r[u++];default:return M-1}})}function dB(r){let e=0;return()=>r[e++]}function O7(r){return dB(hB(yB(r)))}function yB(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,o)=>e[a.charCodeAt(0)]=o);let t=r.length,n=new Uint8Array(6*t>>3);for(let a=0,o=0,l=0,u=0;a<t;a++)u=u<<6|e[r.charCodeAt(a)],l+=6,l>=8&&(n[o++]=u>>(l-=8));return n}function pB(r){return r&1?~r>>1:r>>1}function gB(r,e){let t=Array(r);for(let n=0,a=0;n<r;n++)t[n]=a+=pB(e());return t}function Nu(r,e=0){let t=[];for(;;){let n=r(),a=r();if(!a)break;e+=n;for(let o=0;o<a;o++)t.push(e+o);e+=a+1}return t}function P7(r){return Ou(()=>{let e=Nu(r);if(e.length)return e})}function K7(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(mB(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(bB(t,r))}return e.flat()}function Ou(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function M7(r,e,t){let n=Array(r).fill().map(()=>[]);for(let a=0;a<e;a++)gB(r,t).forEach((o,l)=>n[l].push(o));return n}function mB(r,e){let t=1+e(),n=e(),a=Ou(e);return M7(a.length,1+r,e).flatMap((l,u)=>{let[f,...d]=l;return Array(a[u]).fill().map((y,p)=>{let m=p*n;return[f+p*t,d.map(w=>w+m)]})})}function bB(r,e){let t=1+e();return M7(t,1+r,e).map(a=>[a[0],a.slice(1)])}function AB(r){let e=[],t=Nu(r);return a(n([]),[]),e;function n(o){let l=r(),u=Ou(()=>{let f=Nu(r).map(d=>t[d]);if(f.length)return n(f)});return{S:l,B:u,Q:o}}function a({S:o,B:l},u,f){if(!(o&4&&f===u[u.length-1])){o&2&&(f=u[u.length-1]),o&1&&e.push(u);for(let d of l)for(let y of d.Q)a(d,[...u,y],f)}}}function wB(r){return r.toString(16).toUpperCase().padStart(2,"0")}function L7(r){return`{${wB(r)}}`}function EB(r){let e=[];for(let t=0,n=r.length;t<n;){let a=r.codePointAt(t);t+=a<65536?1:2,e.push(a)}return e}function Rc(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let a=0;a<t;)n.push(String.fromCodePoint(...r.slice(a,a+=4096)));return n.join("")}function vB(r,e){let t=r.length,n=t-e.length;for(let a=0;n==0&&a<t;a++)n=r[a]-e[a];return n}var SB="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Pu=44032,p1=4352,g1=4449,m1=4519,Q7=19,H7=21,Tc=28,b1=H7*Tc,kB=Q7*b1,xB=Pu+kB,BB=p1+Q7,CB=g1+H7,UB=m1+Tc;function hu(r){return r>>24&255}function z7(r){return r&16777215}let _6,A4,j6,Wf;function DB(){let r=O7(SB);_6=new Map(P7(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),A4=new Set(Nu(r)),j6=new Map,Wf=new Map;for(let[e,t]of K7(r)){if(!A4.has(e)&&t.length==2){let[n,a]=t,o=Wf.get(n);o||(o=new Map,Wf.set(n,o)),o.set(a,e)}j6.set(e,t.reverse())}}function G7(r){return r>=Pu&&r<xB}function IB(r,e){if(r>=p1&&r<BB&&e>=g1&&e<CB)return Pu+(r-p1)*b1+(e-g1)*Tc;if(G7(r)&&e>m1&&e<UB&&(r-Pu)%Tc==0)return r+(e-m1);{let t=Wf.get(r);return t&&(t=t.get(e),t)?t:-1}}function F7(r){_6||DB();let e=[],t=[],n=!1;function a(o){let l=_6.get(o);l&&(n=!0,o|=l),e.push(o)}for(let o of r)for(;;){if(o<128)e.push(o);else if(G7(o)){let l=o-Pu,u=l/b1|0,f=l%b1/Tc|0,d=l%Tc;a(p1+u),a(g1+f),d>0&&a(m1+d)}else{let l=j6.get(o);l?t.push(...l):a(o)}if(!t.length)break;o=t.pop()}if(n&&e.length>1){let o=hu(e[0]);for(let l=1;l<e.length;l++){let u=hu(e[l]);if(u==0||o<=u){o=u;continue}let f=l-1;for(;;){let d=e[f+1];if(e[f+1]=e[f],e[f]=d,!f||(o=hu(e[--f]),o<=u))break}o=hu(e[l])}}return e}function RB(r){let e=[],t=[],n=-1,a=0;for(let o of r){let l=hu(o),u=z7(o);if(n==-1)l==0?n=u:e.push(u);else if(a>0&&a>=l)l==0?(e.push(n,...t),t.length=0,n=u):t.push(u),a=l;else{let f=IB(n,u);f>=0?n=f:a==0&&l==0?(e.push(n),n=u):(t.push(u),a=l)}}return n>=0&&e.push(n,...t),e}function _7(r){return F7(r).map(z7)}function TB(r){return RB(F7(r))}const w4=45,j7=".",V7=65039,q7=1,A1=r=>Array.from(r);function Ku(r,e){return r.P.has(e)||r.Q.has(e)}class NB extends Array{get is_emoji(){return!0}}let V6,Y7,js,q6,Z7,Ec,Xd,hc,Qs,E4,Y6;function e3(){if(V6)return;let r=O7(fB);const e=()=>Nu(r),t=()=>new Set(e()),n=(y,p)=>p.forEach(m=>y.add(m));V6=new Map(K7(r)),Y7=t(),js=e(),q6=new Set(e().map(y=>js[y])),js=new Set(js),Z7=t(),t();let a=P7(r),o=r();const l=()=>{let y=new Set;return e().forEach(p=>n(y,a[p])),n(y,e()),y};Ec=Ou(y=>{let p=Ou(r).map(m=>m+96);if(p.length){let m=y>=o;p[0]-=32,p=Rc(p),m&&(p=`Restricted[${p}]`);let w=l(),E=l(),S=!r();return{N:p,P:w,Q:E,M:S,R:m}}}),Xd=t(),hc=new Map;let u=e().concat(A1(Xd)).sort((y,p)=>y-p);u.forEach((y,p)=>{let m=r(),w=u[p]=m?u[p-m]:{V:[],M:new Map};w.V.push(y),Xd.has(y)||hc.set(y,w)});for(let{V:y,M:p}of new Set(hc.values())){let m=[];for(let E of y){let S=Ec.filter(k=>Ku(k,E)),v=m.find(({G:k})=>S.some(D=>k.has(D)));v||(v={G:new Set,V:[]},m.push(v)),v.V.push(E),n(v.G,S)}let w=m.flatMap(E=>A1(E.G));for(let{G:E,V:S}of m){let v=new Set(w.filter(k=>!E.has(k)));for(let k of S)p.set(k,v)}}Qs=new Set;let f=new Set;const d=y=>Qs.has(y)?f.add(y):Qs.add(y);for(let y of Ec){for(let p of y.P)d(p);for(let p of y.Q)d(p)}for(let y of Qs)!hc.has(y)&&!f.has(y)&&hc.set(y,q7);n(Qs,_7(Qs)),E4=AB(r).map(y=>NB.from(y)).sort(vB),Y6=new Map;for(let y of E4){let p=[Y6];for(let m of y){let w=p.map(E=>{let S=E.get(m);return S||(S=new Map,E.set(m,S)),S});m===V7?p.push(...w):p=w}for(let m of p)m.V=y}}function t3(r){return(J7(r)?"":`${n3(W1([r]))} `)+L7(r)}function n3(r){return`"${r}"‎`}function OB(r){if(r.length>=4&&r[2]==w4&&r[3]==w4)throw new Error(`invalid label extension: "${Rc(r.slice(0,4))}"`)}function PB(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function KB(r){let e=r[0],t=m4.get(e);if(t)throw xu(`leading ${t}`);let n=r.length,a=-1;for(let o=1;o<n;o++){e=r[o];let l=m4.get(e);if(l){if(a==o)throw xu(`${t} + ${l}`);a=o+1,t=l}}if(a==n)throw xu(`trailing ${t}`)}function W1(r,e=1/0,t=L7){let n=[];MB(r[0])&&n.push("◌"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let a=0,o=r.length;for(let l=0;l<o;l++){let u=r[l];J7(u)&&(n.push(Rc(r.slice(a,l))),n.push(t(u)),a=l+1)}return n.push(Rc(r.slice(a,o))),n.join("")}function MB(r){return e3(),js.has(r)}function J7(r){return e3(),Z7.has(r)}function LB(r){return GB(QB(r,TB,jB))}function QB(r,e,t){if(!r)return[];e3();let n=0;return r.split(j7).map(a=>{let o=EB(a),l={input:o,offset:n};n+=o.length+1;try{let u=l.tokens=_B(o,e,t),f=u.length,d;if(!f)throw new Error("empty label");let y=l.output=u.flat();if(PB(y),!(l.emoji=f>1||u[0].is_emoji)&&y.every(m=>m<128))OB(y),d="ASCII";else{let m=u.flatMap(w=>w.is_emoji?[]:w);if(!m.length)d="Emoji";else{if(js.has(y[0]))throw xu("leading combining mark");for(let S=1;S<f;S++){let v=u[S];if(!v.is_emoji&&js.has(v[0]))throw xu(`emoji + combining mark: "${Rc(u[S-1])} + ${W1([v[0]])}"`)}KB(y);let w=A1(new Set(m)),[E]=zB(w);FB(E,m),HB(E,w),d=E.N}}l.type=d}catch(u){l.error=u}return l})}function HB(r,e){let t,n=[];for(let a of e){let o=hc.get(a);if(o===q7)return;if(o){let l=o.M.get(a);if(t=t?t.filter(u=>l.has(u)):A1(l),!t.length)return}else n.push(a)}if(t){for(let a of t)if(n.every(o=>Ku(a,o)))throw new Error(`whole-script confusable: ${r.N}/${a.N}`)}}function zB(r){let e=Ec;for(let t of r){let n=e.filter(a=>Ku(a,t));if(!n.length)throw Ec.some(a=>Ku(a,t))?W7(e[0],t):X7(t);if(e=n,n.length==1)break}return e}function GB(r){return r.map(({input:e,error:t,output:n})=>{if(t){let a=t.message;throw new Error(r.length==1?a:`Invalid label ${n3(W1(e,63))}: ${a}`)}return Rc(n)}).join(j7)}function X7(r){return new Error(`disallowed character: ${t3(r)}`)}function W7(r,e){let t=t3(e),n=Ec.find(a=>a.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function xu(r){return new Error(`illegal placement: ${r}`)}function FB(r,e){for(let t of e)if(!Ku(r,t))throw W7(r,t);if(r.M){let t=_7(e);for(let n=1,a=t.length;n<a;n++)if(q6.has(t[n])){let o=n+1;for(let l;o<a&&q6.has(l=t[o]);o++)for(let u=n;u<o;u++)if(t[u]==l)throw new Error(`duplicate non-spacing marks: ${t3(l)}`);if(o-n>b4)throw new Error(`excessive non-spacing marks: ${n3(W1(t.slice(n-1,o)))} (${o-n}/${b4})`);n=o}}}function _B(r,e,t){let n=[],a=[];for(r=r.slice().reverse();r.length;){let o=VB(r);if(o)a.length&&(n.push(e(a)),a=[]),n.push(t(o));else{let l=r.pop();if(Qs.has(l))a.push(l);else{let u=V6.get(l);if(u)a.push(...u);else if(!Y7.has(l))throw X7(l)}}}return a.length&&n.push(e(a)),n}function jB(r){return r.filter(e=>e!=V7)}function VB(r,e){let t=Y6,n,a=r.length;for(;a&&(t=t.get(r[--a]),!!t);){let{V:o}=t;o&&(n=o,r.length=a)}return n}const $7=new Uint8Array(32);$7.fill(0);function v4(r){return Y(r.length!==0,"invalid ENS name; empty component","comp",r),r}function eb(r){const e=Xi(qB(r)),t=[];if(r.length===0)return t;let n=0;for(let a=0;a<e.length;a++)e[a]===46&&(t.push(v4(e.slice(n,a))),n=a+1);return Y(n<e.length,"invalid ENS name; empty component","name",r),t.push(v4(e.slice(n))),t}function qB(r){try{if(r.length===0)throw new Error("empty label");return LB(r)}catch(e){Y(!1,`invalid ENS name (${e.message})`,"name",r)}}function Z6(r){Y(typeof r=="string","invalid ENS name; not a string","name",r),Y(r.length,"invalid ENS name (empty label)","name",r);let e=$7;const t=eb(r);for(;t.length;)e=Gt(St([e,Gt(t.pop())]));return pe(e)}function YB(r,e){const t=e;return Y(t<=255,"DNS encoded label cannot exceed 255","length",t),pe(St(eb(r).map(n=>{Y(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);const a=new Uint8Array(n.length+1);return a.set(n,1),a[0]=a.length-1,a})))+"00"}const tb=new Uint8Array(32);tb.fill(0);const ZB=BigInt(-1),nb=BigInt(0),rb=BigInt(1),JB=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function XB(r){const e=Ne(r),t=e.length%32;return t?St([e,tb.slice(t)]):pe(e)}const WB=as(rb,32),$B=as(nb,32),S4={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wd=["name","version","chainId","verifyingContract","salt"];function k4(r){return function(e){return Y(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const eC={name:k4("name"),version:k4("version"),chainId:function(r){const e=me(r,"domain.chainId");return Y(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Hr(e)},verifyingContract:function(r){try{return Je(r).toLowerCase()}catch{}Y(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=Ne(r,"domain.salt");return Y(e.length===32,'invalid domain value "salt"',"domain.salt",r),pe(e)}};function $d(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",n=parseInt(e[2]);Y(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);const a=fu(JB,t?n-1:n),o=t?(a+rb)*ZB:nb;return function(l){const u=me(l,"value");return Y(u>=o&&u<=a,`value out-of-bounds for ${r}`,"value",u),as(t?Fm(u,256):u,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Y(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const a=Ne(n);return Y(a.length===t,`invalid length for ${r}`,"value",n),XB(n)}}}switch(r){case"address":return function(e){return na(Je(e),32)};case"bool":return function(e){return e?WB:$B};case"bytes":return function(e){return Gt(e)};case"string":return function(e){return eo(e)}}return null}function x4(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function Of(r){const e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}class rr{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const t=new Map,n=new Map,a=new Map,o={};Object.keys(e).forEach(f=>{o[f]=e[f].map(({name:d,type:y})=>{let{base:p,index:m}=Of(y);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:d,type:p+(m||"")}}),t.set(f,new Set),n.set(f,[]),a.set(f,new Set)}),this.#e=JSON.stringify(o);for(const f in o){const d=new Set;for(const y of o[f]){Y(!d.has(y.name),`duplicate variable name ${JSON.stringify(y.name)} in ${JSON.stringify(f)}`,"types",e),d.add(y.name);const p=Of(y.type).base;Y(p!==f,`circular type reference to ${JSON.stringify(p)}`,"types",e),!$d(p)&&(Y(n.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),n.get(p).push(f),t.get(f).add(p))}}const l=Array.from(n.keys()).filter(f=>n.get(f).length===0);Y(l.length!==0,"missing primary type","types",e),Y(l.length===1,`ambiguous primary types or unused types: ${l.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),ke(this,{primaryType:l[0]});function u(f,d){Y(!d.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",e),d.add(f);for(const y of t.get(f))if(n.has(y)){u(y,d);for(const p of d)a.get(p).add(y)}d.delete(f)}u(this.primaryType,new Set);for(const[f,d]of a){const y=Array.from(d);y.sort(),this.#t.set(f,x4(f,o[f])+y.map(p=>x4(p,o[p])).join(""))}}getEncoder(e){let t=this.#n.get(e);return t||(t=this.#r(e),this.#n.set(e,t)),t}#r(e){{const a=$d(e);if(a)return a}const t=Of(e).array;if(t){const a=t.prefix,o=this.getEncoder(a);return l=>{Y(t.count===-1||t.count===l.length,`array length mismatch; expected length ${t.count}`,"value",l);let u=l.map(o);return this.#t.has(a)&&(u=u.map(Gt)),Gt(St(u))}}const n=this.types[e];if(n){const a=eo(this.#t.get(e));return o=>{const l=n.map(({name:u,type:f})=>{const d=this.getEncoder(f)(o[u]);return this.#t.has(f)?Gt(d):d});return l.unshift(a),St(l)}}Y(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return Y(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Gt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if($d(e))return n(e,t);const a=Of(e).array;if(a)return Y(a.count===-1||a.count===t.length,`array length mismatch; expected length ${a.count}`,"value",t),t.map(l=>this._visit(a.prefix,l,n));const o=this.types[e];if(o)return o.reduce((l,{name:u,type:f})=>(l[u]=this._visit(f,t[u],n),l),{});Y(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new rr(e)}static getPrimaryType(e){return rr.from(e).primaryType}static hashStruct(e,t,n){return rr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const a=S4[n];Y(a,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:a})}return t.sort((n,a)=>Wd.indexOf(n.name)-Wd.indexOf(a.name)),rr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return St(["0x1901",rr.hashDomain(e),rr.from(t).hash(n)])}static hash(e,t,n){return Gt(rr.encode(e,t,n))}static async resolveNames(e,t,n,a){e=Object.assign({},e);for(const u in e)e[u]==null&&delete e[u];const o={};e.verifyingContract&&!dt(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const l=rr.from(t);l.visit(n,(u,f)=>(u==="address"&&!dt(f,20)&&(o[f]="0x"),f));for(const u in o)o[u]=await a(u);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=l.visit(n,(u,f)=>u==="address"&&o[f]?o[f]:f),{domain:e,value:n}}static getPayload(e,t,n){rr.hashDomain(e);const a={},o=[];Wd.forEach(f=>{const d=e[f];d!=null&&(a[f]=eC[f](d),o.push({name:f,type:S4[f]}))});const l=rr.from(t);t=l.types;const u=Object.assign({},t);return Y(u.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),u.EIP712Domain=o,l.encode(n),{types:u,domain:a,primaryType:l.primaryType,message:l.visit(n,(f,d)=>{if(f.match(/^bytes(\d*)/))return pe(Ne(d));if(f.match(/^u?int/))return me(d).toString();switch(f){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return Y(typeof d=="string","invalid string","value",d),d}Y(!1,"unsupported type","type",f)})}}}function Un(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const tC="external public payable override",nC=Un(tC.split(" ")),ib="constant external internal payable private public pure view override",rC=Un(ib.split(" ")),ab="constructor error event fallback function receive struct",sb=Un(ab.split(" ")),ob="calldata memory storage payable indexed",iC=Un(ob.split(" ")),aC="tuple returns",sC=[ab,ob,aC,ib].join(" "),oC=Un(sC.split(" ")),cC={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},lC=new RegExp("^(\\s*)"),uC=new RegExp("^([0-9]+)"),fC=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cb=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),lb=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Cr{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Cr(this.#t)}reset(){this.#e=0}#n(e=0,t=0){return new Cr(this.#t.slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const n=this.peek().linkNext;t.push(this.#n(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const n=this.#t[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function us(r){const e=[],t=l=>{const u=o<r.length?JSON.stringify(r[o]):"$EOI";throw new Error(`invalid token ${u} at ${o}: ${l}`)};let n=[],a=[],o=0;for(;o<r.length;){let l=r.substring(o),u=l.match(lC);u&&(o+=u[1].length,l=r.substring(o));const f={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(f);let d=cC[l[0]]||"";if(d){if(f.type=d,f.text=l[0],o++,d==="OPEN_PAREN")n.push(e.length-1),a.push(e.length-1);else if(d=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),f.match=n.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=a.pop(),e[f.linkBack].linkNext=e.length-1;else if(d==="COMMA")f.linkBack=a.pop(),e[f.linkBack].linkNext=e.length-1,a.push(e.length-1);else if(d==="OPEN_BRACKET")f.type="BRACKET";else if(d==="CLOSE_BRACKET"){let y=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const p=e.pop().text;y=p+y,e[e.length-1].value=Ke(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=y}continue}if(u=l.match(fC),u){if(f.text=u[1],o+=f.text.length,oC.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(lb)){f.type="TYPE";continue}f.type="ID";continue}if(u=l.match(uC),u){f.text=u[1],f.type="NUMBER",o+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${o}`)}return new Cr(e.map(l=>Object.freeze(l)))}function B4(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function $1(r,e){if(e.peekKeyword(sb)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function ia(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function ub(r){let e=ia(r,rC);return B4(e,Un("constant payable nonpayable".split(" "))),B4(e,Un("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Wi(r,e){return r.popParams().map(t=>ft.from(t,e))}function fb(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return me(r.pop().text);throw new Error("invalid gas")}return null}function to(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const hC=new RegExp(/^(.*)\[([0-9]*)\]$/);function C4(r){const e=r.match(lb);if(Y(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);Y(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);Y(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const vt={},_n=Symbol.for("_ethers_internal"),U4="_ParamTypeInternal",D4="_ErrorInternal",I4="_EventInternal",R4="_ConstructorInternal",T4="_FallbackInternal",N4="_FunctionInternal",O4="_StructInternal";class ft{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,a,o,l,u,f){if(F1(e,vt,"ParamType"),Object.defineProperty(this,_n,{value:U4}),l&&(l=Object.freeze(l.slice())),a==="array"){if(u==null||f==null)throw new Error("")}else if(u!=null||f!=null)throw new Error("");if(a==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");ke(this,{name:t,type:n,baseType:a,indexed:o,components:l,arrayLength:u,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const a={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.isTuple()&&(a.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(a)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(a=>n.arrayChildren.walk(a,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((a,o)=>n.components[o].walk(a,t))}return t(this.type,e)}#e(e,t,n,a){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,u=t.slice();u.forEach((f,d)=>{l.#e(e,f,n,y=>{u[d]=y})}),a(u);return}if(this.isTuple()){const l=this.components;let u;if(Array.isArray(t))u=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");u=l.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in t))throw new Error(`missing value for component ${f.name}`);return t[f.name]})}if(u.length!==this.components.length)throw new Error("array is wrong length");u.forEach((f,d)=>{l[d].#e(e,f,n,y=>{u[d]=y})}),a(u);return}const o=n(this.type,t);o.then?e.push((async function(){a(await o)})()):a(o)}async walkAsync(e,t){const n=[],a=[e];return this.#e(n,e,t,o=>{a[0]=o}),n.length&&await Promise.all(n),a[0]}static from(e,t){if(ft.isParamType(e))return e;if(typeof e=="string")try{return ft.from(us(e),t)}catch{Y(!1,"invalid param type","obj",e)}else if(e instanceof Cr){let u="",f="",d=null;ia(e,Un(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",d=e.popParams().map(S=>ft.from(S)),u=`tuple(${d.map(S=>S.format()).join(",")})`):(u=C4(e.popType("TYPE")),f=u);let y=null,p=null;for(;e.length&&e.peekType("BRACKET");){const S=e.pop();y=new ft(vt,"",u,f,null,d,p,y),p=S.value,u+=S.text,f="array",d=null}let m=null;if(ia(e,iC).has("indexed")){if(!t)throw new Error("");m=!0}const E=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ft(vt,E,u,f,m,d,p,y)}const n=e.name;Y(!n||typeof n=="string"&&n.match(cb),"invalid name","obj.name",n);let a=e.indexed;a!=null&&(Y(t,"parameter cannot be indexed","obj.indexed",e.indexed),a=!!a);let o=e.type,l=o.match(hC);if(l){const u=parseInt(l[2]||"-1"),f=ft.from({type:l[1],components:e.components});return new ft(vt,n||"",o,"array",a,null,u,f)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const u=e.components!=null?e.components.map(d=>ft.from(d)):null;return new ft(vt,n||"",o,"tuple",a,u,null,null)}return o=C4(e.type),new ft(vt,n||"",o,o,a,null,null,null)}static isParamType(e){return e&&e[_n]===U4}}class no{type;inputs;constructor(e,t,n){F1(e,vt,"Fragment"),n=Object.freeze(n.slice()),ke(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{no.from(JSON.parse(e))}catch{}return no.from(us(e))}if(e instanceof Cr)switch(e.peekKeyword(sb)){case"constructor":return Ji.from(e);case"error":return Ln.from(e);case"event":return si.from(e);case"fallback":case"receive":return _i.from(e);case"function":return oi.from(e);case"struct":return Js.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ji.from(e);case"error":return Ln.from(e);case"event":return si.from(e);case"fallback":case"receive":return _i.from(e);case"function":return oi.from(e);case"struct":return Js.from(e)}he(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Y(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ji.isFragment(e)}static isError(e){return Ln.isFragment(e)}static isEvent(e){return si.isFragment(e)}static isFunction(e){return oi.isFragment(e)}static isStruct(e){return Js.isFragment(e)}}class eh extends no{name;constructor(e,t,n,a){super(e,t,a),Y(typeof n=="string"&&n.match(cb),"invalid identifier","name",n),a=Object.freeze(a.slice()),ke(this,{name:n})}}function Mu(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class Ln extends eh{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,_n,{value:D4})}get selector(){return eo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Mu(e,this.inputs)),t.join(" ")}static from(e){if(Ln.isFragment(e))return e;if(typeof e=="string")return Ln.from(us(e));if(e instanceof Cr){const t=$1("error",e),n=Wi(e);return to(e),new Ln(vt,t,n)}return new Ln(vt,e.name,e.inputs?e.inputs.map(ft.from):[])}static isFragment(e){return e&&e[_n]===D4}}class si extends eh{anonymous;constructor(e,t,n,a){super(e,"event",t,n),Object.defineProperty(this,_n,{value:I4}),ke(this,{anonymous:a})}get topicHash(){return eo(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+Mu(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(a=>ft.from(a)),new si(vt,e,t,!1).topicHash}static from(e){if(si.isFragment(e))return e;if(typeof e=="string")try{return si.from(us(e))}catch{Y(!1,"invalid event fragment","obj",e)}else if(e instanceof Cr){const t=$1("event",e),n=Wi(e,!0),a=!!ia(e,Un(["anonymous"])).has("anonymous");return to(e),new si(vt,t,n,a)}return new si(vt,e.name,e.inputs?e.inputs.map(t=>ft.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[_n]===I4}}class Ji extends no{payable;gas;constructor(e,t,n,a,o){super(e,t,n),Object.defineProperty(this,_n,{value:R4}),ke(this,{payable:a,gas:o})}format(e){if(he(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[`constructor${Mu(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Ji.isFragment(e))return e;if(typeof e=="string")try{return Ji.from(us(e))}catch{Y(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Cr){ia(e,Un(["constructor"]));const t=Wi(e),n=!!ia(e,nC).has("payable"),a=fb(e);return to(e),new Ji(vt,"constructor",t,n,a)}return new Ji(vt,"constructor",e.inputs?e.inputs.map(ft.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[_n]===R4}}class _i extends no{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,_n,{value:T4}),ke(this,{payable:n})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:n})}return`${t}()${this.payable?" payable":""}`}static from(e){if(_i.isFragment(e))return e;if(typeof e=="string")try{return _i.from(us(e))}catch{Y(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Cr){const t=e.toString(),n=e.peekKeyword(Un(["fallback","receive"]));if(Y(n,"type must be fallback or receive","obj",t),e.popKeyword(Un(["fallback","receive"]))==="receive"){const u=Wi(e);return Y(u.length===0,"receive cannot have arguments","obj.inputs",u),ia(e,Un(["payable"])),to(e),new _i(vt,[],!0)}let o=Wi(e);o.length?Y(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(u=>u.format("minimal")).join(", ")):o=[ft.from("bytes")];const l=ub(e);if(Y(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),ia(e,Un(["returns"])).has("returns")){const u=Wi(e);Y(u.length===1&&u[0].type==="bytes","invalid fallback outputs","obj.outputs",u.map(f=>f.format("minimal")).join(", "))}return to(e),new _i(vt,o,l==="payable")}if(e.type==="receive")return new _i(vt,[],!0);if(e.type==="fallback"){const t=[ft.from("bytes")],n=e.stateMutability==="payable";return new _i(vt,t,n)}Y(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[_n]===T4}}class oi extends eh{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,a,o,l){super(e,"function",t,a),Object.defineProperty(this,_n,{value:N4}),o=Object.freeze(o.slice()),ke(this,{constant:n==="view"||n==="pure",gas:l,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return eo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+Mu(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Mu(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(a=>ft.from(a)),new oi(vt,e,"view",t,[],null).selector}static from(e){if(oi.isFragment(e))return e;if(typeof e=="string")try{return oi.from(us(e))}catch{Y(!1,"invalid function fragment","obj",e)}else if(e instanceof Cr){const n=$1("function",e),a=Wi(e),o=ub(e);let l=[];ia(e,Un(["returns"])).has("returns")&&(l=Wi(e));const u=fb(e);return to(e),new oi(vt,n,o,a,l,u)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new oi(vt,e.name,t,e.inputs?e.inputs.map(ft.from):[],e.outputs?e.outputs.map(ft.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[_n]===N4}}class Js extends eh{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,_n,{value:O4})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Js.from(us(e))}catch{Y(!1,"invalid struct fragment","obj",e)}else if(e instanceof Cr){const t=$1("struct",e),n=Wi(e);return to(e),new Js(vt,t,n)}return new Js(vt,e.name,e.inputs?e.inputs.map(ft.from):[])}static isFragment(e){return e&&e[_n]===O4}}const _r=new Map;_r.set(0,"GENERIC_PANIC");_r.set(1,"ASSERT_FALSE");_r.set(17,"OVERFLOW");_r.set(18,"DIVIDE_BY_ZERO");_r.set(33,"ENUM_RANGE_ERROR");_r.set(34,"BAD_STORAGE_DATA");_r.set(49,"STACK_UNDERFLOW");_r.set(50,"ARRAY_RANGE_ERROR");_r.set(65,"OUT_OF_MEMORY");_r.set(81,"UNINITIALIZED_FUNCTION_CALL");const dC=new RegExp(/^bytes([0-9]*)$/),yC=new RegExp(/^(u?int)([0-9]*)$/);let e6=null,P4=1024;function pC(r,e,t,n){let a="missing revert data",o=null;const l=null;let u=null;if(t){a="execution reverted";const d=Ne(t);if(t=pe(t),d.length===0)a+=" (no data present; likely require(false) occurred",o="require(false)";else if(d.length%32!==4)a+=" (could not decode reason; invalid data length)";else if(pe(d.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],d.slice(4))[0],u={signature:"Error(string)",name:"Error",args:[o]},a+=`: ${JSON.stringify(o)}`}catch{a+=" (could not decode reason; invalid string data)"}else if(pe(d.slice(0,4))==="0x4e487b71")try{const y=Number(n.decode(["uint256"],d.slice(4))[0]);u={signature:"Panic(uint256)",name:"Panic",args:[y]},o=`Panic due to ${_r.get(y)||"UNKNOWN"}(${y})`,a+=`: ${o}`}catch{a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const f={to:e.to?Je(e.to):null,data:e.data||"0x"};return e.from&&(f.from=Je(e.from)),gt(a,"CALL_EXCEPTION",{action:r,data:t,reason:o,transaction:f,invocation:l,revert:u})}class Nc{#e(e){if(e.isArray())return new Nx(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Nf(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new Rx(e.name);case"bool":return new Ox(e.name);case"string":return new Fx(e.name);case"bytes":return new Px(e.name);case"":return new Lx(e.name)}let t=e.type.match(yC);if(t){let n=parseInt(t[2]||"256");return Y(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Gx(n/8,t[1]==="int",e.name)}if(t=e.type.match(dC),t){let n=parseInt(t[1]);return Y(n!==0&&n<=32,"invalid bytes length","param",e),new Kx(n,e.name)}Y(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(a=>this.#e(ft.from(a)));return new Nf(t,"_").defaultValue()}encode(e,t){Hm(t.length,e.length,"types/values length mismatch");const n=e.map(l=>this.#e(ft.from(l))),a=new Nf(n,"_"),o=new L6;return a.encode(o,t),o.data}decode(e,t,n){const a=e.map(l=>this.#e(ft.from(l)));return new Nf(a,"_").decode(new _2(t,n,P4))}static _setDefaultMaxInflation(e){Y(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),P4=e}static defaultAbiCoder(){return e6==null&&(e6=new Nc),e6}static getBuiltinCallException(e,t,n){return pC(e,t,n,Nc.defaultAbiCoder())}}class gC{fragment;name;signature;topic;args;constructor(e,t,n){const a=e.name,o=e.format();ke(this,{fragment:e,name:a,signature:o,topic:t,args:n})}}class mC{fragment;name;args;signature;selector;value;constructor(e,t,n,a){const o=e.name,l=e.format();ke(this,{fragment:e,name:o,args:n,signature:l,selector:t,value:a})}}class bC{fragment;name;args;signature;selector;constructor(e,t,n){const a=e.name,o=e.format();ke(this,{fragment:e,name:a,args:n,signature:o,selector:t})}}class K4{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){ke(this,{hash:e,_isIndexed:!0})}}const M4={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},L4={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&M4[r.toString()]&&(e=M4[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};class Xa{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const n=[];for(const l of t)try{n.push(no.from(l))}catch(u){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,u.message)}ke(this,{fragments:Object.freeze(n)});let a=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((l,u)=>{let f;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ke(this,{deploy:l});return;case"fallback":l.inputs.length===0?o=!0:(Y(!a||l.payable!==a.payable,"conflicting fallback fragments",`fragments[${u}]`,l),a=l,o=a.payable);return;case"function":f=this.#n;break;case"event":f=this.#t;break;case"error":f=this.#e;break;default:return}const d=l.format();f.has(d)||f.set(d,l)}),this.deploy||ke(this,{deploy:Ji.from("constructor()")}),ke(this,{fallback:a,receive:o})}format(e){const t=e?"minimal":"full";return this.fragments.map(a=>a.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Nc.defaultAbiCoder()}#i(e,t,n){if(dt(e)){const o=e.toLowerCase();for(const l of this.#n.values())if(o===l.selector)return l;return null}if(e.indexOf("(")===-1){const o=[];for(const[l,u]of this.#n)l.split("(")[0]===e&&o.push(u);if(t){const l=t.length>0?t[t.length-1]:null;let u=t.length,f=!0;It.isTyped(l)&&l.type==="overrides"&&(f=!1,u--);for(let d=o.length-1;d>=0;d--){const y=o[d].inputs.length;y!==u&&(!f||y!==u-1)&&o.splice(d,1)}for(let d=o.length-1;d>=0;d--){const y=o[d].inputs;for(let p=0;p<t.length;p++)if(It.isTyped(t[p])){if(p>=y.length){if(t[p].type==="overrides")continue;o.splice(d,1);break}if(t[p].type!==y[p].baseType){o.splice(d,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){const l=t[t.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){const l=o.map(u=>JSON.stringify(u.format())).join(", ");Y(!1,`ambiguous function description (i.e. matches ${l})`,"key",e)}return o[0]}const a=this.#n.get(oi.from(e).format());return a||null}getFunctionName(e){const t=this.#i(e,null,!1);return Y(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,t){return this.#i(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#n.keys());t.sort((n,a)=>n.localeCompare(a));for(let n=0;n<t.length;n++){const a=t[n];e(this.#n.get(a),n)}}#s(e,t,n){if(dt(e)){const o=e.toLowerCase();for(const l of this.#t.values())if(o===l.topicHash)return l;return null}if(e.indexOf("(")===-1){const o=[];for(const[l,u]of this.#t)l.split("(")[0]===e&&o.push(u);if(t){for(let l=o.length-1;l>=0;l--)o[l].inputs.length<t.length&&o.splice(l,1);for(let l=o.length-1;l>=0;l--){const u=o[l].inputs;for(let f=0;f<t.length;f++)if(It.isTyped(t[f])&&t[f].type!==u[f].baseType){o.splice(l,1);break}}}if(o.length===0)return null;if(o.length>1&&n){const l=o.map(u=>JSON.stringify(u.format())).join(", ");Y(!1,`ambiguous event description (i.e. matches ${l})`,"key",e)}return o[0]}const a=this.#t.get(si.from(e).format());return a||null}getEventName(e){const t=this.#s(e,null,!1);return Y(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,t){return this.#s(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((n,a)=>n.localeCompare(a));for(let n=0;n<t.length;n++){const a=t[n];e(this.#t.get(a),n)}}getError(e,t){if(dt(e)){const a=e.toLowerCase();if(L4[a])return Ln.from(L4[a].signature);for(const o of this.#e.values())if(a===o.selector)return o;return null}if(e.indexOf("(")===-1){const a=[];for(const[o,l]of this.#e)o.split("(")[0]===e&&a.push(l);if(a.length===0)return e==="Error"?Ln.from("error Error(string)"):e==="Panic"?Ln.from("error Panic(uint256)"):null;if(a.length>1){const o=a.map(l=>JSON.stringify(l.format())).join(", ");Y(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return a[0]}if(e=Ln.from(e).format(),e==="Error(string)")return Ln.from("error Error(string)");if(e==="Panic(uint256)")return Ln.from("error Panic(uint256)");const n=this.#e.get(e);return n||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((n,a)=>n.localeCompare(a));for(let n=0;n<t.length;n++){const a=t[n];e(this.#e.get(a),n)}}_decodeParams(e,t){return this.#r.decode(e,t)}_encodeParams(e,t){return this.#r.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);Y(n,"unknown error","fragment",e),e=n}return Y(Ut(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ut(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);Y(n,"unknown error","fragment",e),e=n}return St([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return Y(Ut(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ut(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return St([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const o=this.getFunction(e);Y(o,"unknown function","fragment",e),e=o}let n="invalid length for result data";const a=xn(t);if(a.length%32===0)try{return this.#r.decode(e.outputs,a)}catch{n="could not decode result data"}he(!1,n,"BAD_DATA",{value:pe(a),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=Ne(e,"data"),a=Nc.getBuiltinCallException("call",t,n);if(a.message.startsWith("execution reverted (unknown custom error)")){const u=pe(n.slice(0,4)),f=this.getError(u);if(f)try{const d=this.#r.decode(f.inputs,n.slice(4));a.revert={name:f.name,signature:f.format(),args:d},a.reason=a.revert.signature,a.message=`execution reverted: ${a.reason}`}catch{a.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(t);return l&&(a.invocation={method:l.name,signature:l.signature,args:l.args}),a}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return pe(this.#r.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const o=this.getEvent(e);Y(o,"unknown event","eventFragment",e),e=o}he(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const a=(o,l)=>o.type==="string"?eo(l):o.type==="bytes"?Gt(pe(l)):(o.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":o.type.match(/^u?int/)?l=as(l):o.type.match(/^bytes/)?l=QS(l,32):o.type==="address"&&this.#r.encode(["address"],[l]),na(pe(l),32));for(t.forEach((o,l)=>{const u=e.inputs[l];if(!u.indexed){Y(o==null,"cannot filter non-indexed parameters; must be null","contract."+u.name,o);return}o==null?n.push(null):u.baseType==="array"||u.baseType==="tuple"?Y(!1,"filtering with tuples or arrays not supported","contract."+u.name,o):Array.isArray(o)?n.push(o.map(f=>a(u,f))):n.push(a(u,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const l=this.getEvent(e);Y(l,"unknown event","eventFragment",e),e=l}const n=[],a=[],o=[];return e.anonymous||n.push(e.topicHash),Y(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((l,u)=>{const f=t[u];if(l.indexed)if(l.type==="string")n.push(eo(f));else if(l.type==="bytes")n.push(Gt(f));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");n.push(this.#r.encode([l.type],[f]))}else a.push(l),o.push(f)}),{data:this.#r.encode(a,o),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const w=this.getEvent(e);Y(w,"unknown event","eventFragment",e),e=w}if(n!=null&&!e.anonymous){const w=e.topicHash;Y(dt(n[0],32)&&n[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const a=[],o=[],l=[];e.inputs.forEach((w,E)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(a.push(ft.from({type:"bytes32",name:w.name})),l.push(!0)):(a.push(w),l.push(!1)):(o.push(w),l.push(!1))});const u=n!=null?this.#r.decode(a,St(n)):null,f=this.#r.decode(o,t,!0),d=[],y=[];let p=0,m=0;return e.inputs.forEach((w,E)=>{let S=null;if(w.indexed)if(u==null)S=new K4(null);else if(l[E])S=new K4(u[m++]);else try{S=u[m++]}catch(v){S=v}else try{S=f[p++]}catch(v){S=v}d.push(S),y.push(w.name||null)}),Zi.fromItems(d,y)}parseTransaction(e){const t=Ne(e.data,"tx.data"),n=me(e.value!=null?e.value:0,"tx.value"),a=this.getFunction(pe(t.slice(0,4)));if(!a)return null;const o=this.#r.decode(a.inputs,t.slice(4));return new mC(a,a.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new gC(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=pe(e),n=this.getError(Ut(t,0,4));if(!n)return null;const a=this.#r.decode(n.inputs,Ut(t,4));return new bC(n,n.selector,a)}static from(e){return e instanceof Xa?e:typeof e=="string"?new Xa(JSON.parse(e)):typeof e.formatJson=="function"?new Xa(e.formatJson()):typeof e.format=="function"?new Xa(e.format("json")):new Xa(e)}}const hb=BigInt(0);function vc(r){return r??null}function Pt(r){return r==null?null:r.toString()}class Q4{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){ke(this,{gasPrice:vc(e),maxFeePerGas:vc(t),maxPriorityFeePerGas:vc(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Pt(e),maxFeePerGas:Pt(t),maxPriorityFeePerGas:Pt(n)}}}function w1(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=pe(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of t)!(a in r)||r[a]==null||(e[a]=me(r[a],`request.${a}`));const n="type,nonce".split(/,/);for(const a of n)!(a in r)||r[a]==null||(e[a]=Ke(r[a],`request.${a}`));return r.accessList&&(e.accessList=uo(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(a=>G2(a)?pe(a):Object.assign({},a))),e}class AC{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(n=>typeof n!="string"?new Wu(n,t):n),ke(this,{provider:t,hash:vc(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:vc(e.prevRandao),extraData:e.extraData,baseFeePerGas:vc(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(he(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:a,gasUsed:o,hash:l,miner:u,prevRandao:f,nonce:d,number:y,parentHash:p,parentBeaconBlockRoot:m,stateRoot:w,receiptsRoot:E,timestamp:S,transactions:v}=this;return{_type:"Block",baseFeePerGas:Pt(e),difficulty:Pt(t),extraData:n,gasLimit:Pt(a),gasUsed:Pt(o),blobGasUsed:Pt(this.blobGasUsed),excessBlobGas:Pt(this.excessBlobGas),hash:l,miner:u,prevRandao:f,nonce:d,number:y,parentHash:p,timestamp:S,parentBeaconBlockRoot:m,stateRoot:w,receiptsRoot:E,transactions:v}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{const n=e.toLowerCase();for(const a of this.#e)if(typeof a=="string"){if(a!==n)continue;t=a;break}else{if(a.hash!==n)continue;t=a;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;Y(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return wC(this)}}class Xu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());ke(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:a,index:o,removed:l,topics:u,transactionHash:f,transactionIndex:d}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:a,index:o,removed:l,topics:u,transactionHash:f,transactionIndex:d}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return he(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return EC(this)}}class db{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(a=>new Xu(a,t)));let n=hb;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),ke(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:t,contractAddress:n,hash:a,index:o,blockHash:l,blockNumber:u,logsBloom:f,logs:d,status:y,root:p}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:u,contractAddress:n,cumulativeGasUsed:Pt(this.cumulativeGasUsed),from:t,gasPrice:Pt(this.gasPrice),blobGasUsed:Pt(this.blobGasUsed),blobGasPrice:Pt(this.blobGasPrice),gasUsed:Pt(this.gasUsed),hash:a,index:o,logs:d,logsBloom:f,root:p,status:y,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return pb(this)}reorderedEvent(e){return he(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),yb(this,e)}}class Wu{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:a,type:o,to:l,from:u,nonce:f,data:d,signature:y,accessList:p,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:m,chainId:Pt(this.chainId),data:d,from:u,gasLimit:Pt(this.gasLimit),gasPrice:Pt(this.gasPrice),hash:a,maxFeePerGas:Pt(this.maxFeePerGas),maxPriorityFeePerGas:Pt(this.maxPriorityFeePerGas),maxFeePerBlobGas:Pt(this.maxFeePerBlobGas),nonce:f,signature:y,to:l,index:n,type:o,value:Pt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await Sn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,a=t??0;let o=this.#e,l=-1,u=o===-1;const f=async()=>{if(u)return null;const{blockNumber:m,nonce:w}=await Sn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){o=m;return}if(u)return null;const E=await this.getTransaction();if(!(E&&E.blockNumber!=null))for(l===-1&&(l=o-3,l<this.#e&&(l=this.#e));l<=m;){if(u)return null;const S=await this.provider.getBlock(l,!0);if(S==null)return;for(const v of S)if(v===this.hash)return;for(let v=0;v<S.length;v++){const k=await S.getTransaction(v);if(k.from===this.from&&k.nonce===this.nonce){if(u)return null;const D=await this.provider.getTransactionReceipt(k.hash);if(D==null||m-D.blockNumber+1<n)return;let C="replaced";k.data===this.data&&k.to===this.to&&k.value===this.value?C="repriced":k.data==="0x"&&k.from===k.to&&k.value===hb&&(C="cancelled"),he(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:k.replaceableTransaction(o),hash:k.hash,receipt:D})}}l++}},d=m=>{if(m==null||m.status!==0)return m;he(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},y=await this.provider.getTransactionReceipt(this.hash);if(n===0)return d(y);if(y){if(n===1||await y.confirmations()>=n)return d(y)}else if(await f(),n===0)return null;return await new Promise((m,w)=>{const E=[],S=()=>{E.forEach(k=>k())};if(E.push(()=>{u=!0}),a>0){const k=setTimeout(()=>{S(),w(gt("wait for transaction timeout","TIMEOUT"))},a);E.push(()=>{clearTimeout(k)})}const v=async k=>{if(await k.confirmations()>=n){S();try{m(d(k))}catch(D){w(D)}}};if(E.push(()=>{this.provider.off(this.hash,v)}),this.provider.on(this.hash,v),o>=0){const k=async()=>{try{await f()}catch(D){if(un(D,"TRANSACTION_REPLACED")){S(),w(D);return}}u||this.provider.once("block",k)};E.push(()=>{this.provider.off("block",k)}),this.provider.once("block",k)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pb(this)}reorderedEvent(e){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),he(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yb(this,e)}replaceableTransaction(e){Y(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Wu(this,this.provider);return t.#e=e,t}}function wC(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function yb(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function pb(r){return{orphan:"drop-transaction",tx:r}}function EC(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class r3 extends Xu{interface;fragment;args;constructor(e,t,n){super(e,e.provider);const a=t.decodeEventLog(n,e.data,e.topics);ke(this,{args:a,fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class gb extends Xu{error;constructor(e,t){super(e,e.provider),ke(this,{error:t})}}class vC extends db{#e;constructor(e,t,n){super(n,t),this.#e=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new r3(e,this.#e,t)}catch(n){return new gb(e,n)}return e})}}class i3 extends Wu{#e;constructor(e,t,n){super(n,t),this.#e=e}async wait(e,t){const n=await super.wait(e,t);return n==null?null:new vC(this.#e,this.provider,n)}}class mb extends _m{log;constructor(e,t,n,a){super(e,t,n),ke(this,{log:a})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class SC extends mb{constructor(e,t,n,a,o){super(e,t,n,new r3(o,e.interface,a));const l=e.interface.decodeEventLog(a,this.log.data,this.log.topics);ke(this,{args:l,fragment:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const H4=BigInt(0);function bb(r){return r&&typeof r.call=="function"}function Ab(r){return r&&typeof r.estimateGas=="function"}function th(r){return r&&typeof r.resolveName=="function"}function wb(r){return r&&typeof r.sendTransaction=="function"}function Eb(r){if(r!=null){if(th(r))return r;if(r.provider)return r.provider}}class kC{#e;fragment;constructor(e,t,n){if(ke(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const a=ro(e.runner,"resolveName"),o=th(a)?a:null;this.#e=(async function(){const l=await Promise.all(t.inputs.map((u,f)=>n[f]==null?null:u.walkAsync(n[f],(y,p)=>y==="address"?Array.isArray(p)?Promise.all(p.map(m=>Cn(m,o))):Cn(p,o):p)));return e.interface.encodeFilterTopics(t,l)})()}getTopicFilter(){return this.#e}}function ro(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function Vs(r){return r==null?null:r.provider||null}async function a3(r,e){const t=It.dereference(r,"overrides");Y(typeof t=="object","invalid overrides parameter","overrides",r);const n=w1(t);return Y(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Y(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function vb(r,e,t){const n=ro(r,"resolveName"),a=th(n)?n:null;return await Promise.all(e.map((o,l)=>o.walkAsync(t[l],(u,f)=>(f=It.dereference(f,u),u==="address"?Cn(f,a):f))))}function xC(r){const e=async function(l){const u=await a3(l,["data"]);u.to=await r.getAddress(),u.from&&(u.from=await Cn(u.from,Eb(r.runner)));const f=r.interface,d=me(u.value||H4,"overrides.value")===H4,y=(u.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!y&&!d&&Y(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),Y(f.fallback||y,"cannot send data to receive-only contract","overrides.data",u.data);const p=f.receive||f.fallback&&f.fallback.payable;return Y(p||d,"cannot send value to non-payable fallback","overrides.value",u.value),Y(f.fallback||y,"cannot send data to receive-only contract","overrides.data",u.data),u},t=async function(l){const u=ro(r.runner,"call");he(bb(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(l);try{return await u.call(f)}catch(d){throw z2(d)&&d.data?r.interface.makeError(d.data,f):d}},n=async function(l){const u=r.runner;he(wb(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await e(l)),d=Vs(r.runner);return new i3(r.interface,d,f)},a=async function(l){const u=ro(r.runner,"estimateGas");return he(Ab(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await e(l))},o=async l=>await n(l);return ke(o,{_contract:r,estimateGas:a,populateTransaction:e,send:n,staticCall:t}),o}function BC(r,e){const t=function(...d){const y=r.interface.getFunction(e,d);return he(y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:d}}),y},n=async function(...d){const y=t(...d);let p={};if(y.inputs.length+1===d.length&&(p=await a3(d.pop()),p.from&&(p.from=await Cn(p.from,Eb(r.runner)))),y.inputs.length!==d.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await vb(r.runner,y.inputs,d);return Object.assign({},p,await Sn({to:r.getAddress(),data:r.interface.encodeFunctionData(y,m)}))},a=async function(...d){const y=await u(...d);return y.length===1?y[0]:y},o=async function(...d){const y=r.runner;he(wb(y),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await y.sendTransaction(await n(...d)),m=Vs(r.runner);return new i3(r.interface,m,p)},l=async function(...d){const y=ro(r.runner,"estimateGas");return he(Ab(y),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await y.estimateGas(await n(...d))},u=async function(...d){const y=ro(r.runner,"call");he(bb(y),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await n(...d);let m="0x";try{m=await y.call(p)}catch(E){throw z2(E)&&E.data?r.interface.makeError(E.data,p):E}const w=t(...d);return r.interface.decodeFunctionResult(w,m)},f=async(...d)=>t(...d).constant?await a(...d):await o(...d);return ke(f,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:l,populateTransaction:n,send:o,staticCall:a,staticCallResult:u}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const d=r.interface.getFunction(e);return he(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),d}}),f}function CC(r,e){const t=function(...a){const o=r.interface.getEvent(e,a);return he(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:a}}),o},n=function(...a){return new kC(r,t(...a),a)};return ke(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const a=r.interface.getEvent(e);return he(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),a}}),n}const E1=Symbol.for("_ethersInternal_contract"),Sb=new WeakMap;function UC(r,e){Sb.set(r[E1],e)}function ir(r){return Sb.get(r[E1])}function DC(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function s3(r,e){let t,n=null;if(Array.isArray(e)){const o=function(l){if(dt(l,32))return l;const u=r.interface.getEvent(l);return Y(u,"unknown fragment","name",l),u.topicHash};t=e.map(l=>l==null?null:Array.isArray(l)?l.map(o):o(l))}else e==="*"?t=[null]:typeof e=="string"?dt(e,32)?t=[e]:(n=r.interface.getEvent(e),Y(n,"unknown fragment","event",e),t=[n.topicHash]):DC(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):Y(!1,"unknown event name","event",e);t=t.map(o=>{if(o==null)return null;if(Array.isArray(o)){const l=Array.from(new Set(o.map(u=>u.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return o.toLowerCase()});const a=t.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:a,topics:t}}async function du(r,e){const{subs:t}=ir(r);return t.get((await s3(r,e)).tag)||null}async function z4(r,e,t){const n=Vs(r.runner);he(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:o,topics:l}=await s3(r,t),{addr:u,subs:f}=ir(r);let d=f.get(o);if(!d){const p={address:u||r,topics:l},m=v=>{let k=a;if(k==null)try{k=r.interface.getEvent(v.topics[0])}catch{}if(k){const D=k,C=a?r.interface.decodeEventLog(a,v.data,v.topics):[];X6(r,t,C,N=>new SC(r,N,t,D,v))}else X6(r,t,[],D=>new mb(r,D,t,v))};let w=[];d={tag:o,listeners:[],start:()=>{w.length||w.push(n.on(p,m))},stop:async()=>{if(w.length==0)return;let v=w;w=[],await Promise.all(v),n.off(p,m)}},f.set(o,d)}return d}let J6=Promise.resolve();async function IC(r,e,t,n){await J6;const a=await du(r,e);if(!a)return!1;const o=a.listeners.length;return a.listeners=a.listeners.filter(({listener:l,once:u})=>{const f=Array.from(t);n&&f.push(n(u?null:l));try{l.call(r,...f)}catch{}return!u}),a.listeners.length===0&&(a.stop(),ir(r).subs.delete(a.tag)),o>0}async function X6(r,e,t,n){try{await J6}catch{}const a=IC(r,e,t,n);return J6=a,await a}const Pf=["then"];class Xs{target;interface;runner;filters;[E1];fallback;constructor(e,t,n,a){Y(typeof e=="string"||D7(e),"invalid value for Contract target","target",e),n==null&&(n=null);const o=Xa.from(t);ke(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,E1,{value:{}});let l,u=null,f=null;if(a){const p=Vs(n);f=new i3(this.interface,p,a)}let d=new Map;if(typeof e=="string")if(dt(e))u=e,l=Promise.resolve(e);else{const p=ro(n,"resolveName");if(!th(p))throw gt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=p.resolveName(e).then(m=>{if(m==null)throw gt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ir(this).addr=m,m})}else l=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return ir(this).addr=p,p});UC(this,{addrPromise:l,addr:u,deployTx:f,subs:d});const y=new Proxy({},{get:(p,m,w)=>{if(typeof m=="symbol"||Pf.indexOf(m)>=0)return Reflect.get(p,m,w);try{return this.getEvent(m)}catch(E){if(!un(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(p,m)=>Pf.indexOf(m)>=0?Reflect.has(p,m):Reflect.has(p,m)||this.interface.hasEvent(String(m))});return ke(this,{filters:y}),ke(this,{fallback:o.receive||o.fallback?xC(this):null}),new Proxy(this,{get:(p,m,w)=>{if(typeof m=="symbol"||m in p||Pf.indexOf(m)>=0)return Reflect.get(p,m,w);try{return p.getFunction(m)}catch(E){if(!un(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(p,m)=>typeof m=="symbol"||m in p||Pf.indexOf(m)>=0?Reflect.has(p,m):p.interface.hasFunction(m)})}connect(e){return new Xs(this.target,this.interface,e)}attach(e){return new Xs(e,this.interface,this.runner)}async getAddress(){return await ir(this).addrPromise}async getDeployedCode(){const e=Vs(this.runner);he(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Vs(this.runner);return he(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,o)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return a(this);n.once("block",l)}catch(u){o(u)}};l()})}deploymentTransaction(){return ir(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),BC(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),CC(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:a,addrPromise:o}=ir(this),l=a||await o,{fragment:u,topics:f}=await s3(this,e),d={address:l,topics:f,fromBlock:t,toBlock:n},y=Vs(this.runner);return he(y,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await y.getLogs(d)).map(p=>{let m=u;if(m==null)try{m=this.interface.getEvent(p.topics[0])}catch{}if(m)try{return new r3(p,this.interface,m)}catch(w){return new gb(p,w)}return new Xu(p,y)})}async on(e,t){const n=await z4(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await z4(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await X6(this,e,t,null)}async listenerCount(e){if(e){const a=await du(this,e);return a?a.listeners.length:0}const{subs:t}=ir(this);let n=0;for(const{listeners:a}of t.values())n+=a.length;return n}async listeners(e){if(e){const a=await du(this,e);return a?a.listeners.map(({listener:o})=>o):[]}const{subs:t}=ir(this);let n=[];for(const{listeners:a}of t.values())n=n.concat(a.map(({listener:o})=>o));return n}async off(e,t){const n=await du(this,e);if(!n)return this;if(t){const a=n.listeners.map(({listener:o})=>o).indexOf(t);a>=0&&n.listeners.splice(a,1)}return(t==null||n.listeners.length===0)&&(n.stop(),ir(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await du(this,e);if(!t)return this;t.stop(),ir(this).subs.delete(t.tag)}else{const{subs:t}=ir(this);for(const{tag:n,stop:a}of t.values())a(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends Xs{constructor(a,o=null){super(a,e,o)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}}function RC(){return Xs}class ci extends RC(){}class o3{interface;bytecode;runner;constructor(e,t,n){const a=Xa.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=pe(Ne(t)),ke(this,{bytecode:t,interface:a,runner:n||null})}attach(e){return new Xs(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await a3(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const a=await vb(this.runner,n.inputs,e),o=St([this.bytecode,this.interface.encodeDeploy(a)]);return Object.assign({},t,{data:o})}async deploy(...e){const t=await this.getDeployTransaction(...e);he(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await this.runner.sendTransaction(t),a=U7(n);return new Xs(a,this.interface,this.runner,n)}connect(e){return new o3(this.interface,this.bytecode,e)}static fromSolidity(e,t){Y(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let a="";return e.bytecode?a=e.bytecode:e.evm&&e.evm.bytecode&&(a=e.evm.bytecode),new this(n,a,t)}}function t6(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Y(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class TC{name;constructor(e){ke(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const kb=new RegExp("^(ipfs)://(.*)$","i"),G4=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),kb,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Sc{provider;address;name;#e;#t;constructor(e,t,n){ke(this,{provider:e,address:t,name:n}),this.#e=null,this.#t=new ci(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(un(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,t){t=(t||[]).slice();const n=this.#t.interface;t.unshift(Z6(this.name));let a=null;await this.supportsWildcard()&&(a=n.getFunction(e),he(a,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[YB(this.name,255),n.encodeFunctionData(a,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const o=await this.#t[e](...t);return a?n.decodeFunctionResult(a,o)[0]:o}catch(o){if(!un(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Tu?null:o}catch(o){if(un(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const l=await this.#n("addr(bytes32,uint)",[o]);if(dt(l,20))return Je(l)}let t=null;for(const o of this.provider.plugins)if(o instanceof TC&&o.supportsCoinType(e)){t=o;break}if(t==null)return null;const n=await this.#n("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const a=await t.decodeAddress(e,n);if(a!=null)return a;he(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#n("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const a=t[1]==="e3010170"?"ipfs":"ipns",o=parseInt(t[4],16);if(t[5].length===o*2)return`${a}://${GS("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;he(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<G4.length;n++){const a=t.match(G4[n]);if(a==null)continue;const o=a[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const l=t6(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:l}),{linkage:e,url:l}}case"erc721":case"erc1155":{const l=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:t});const u=await this.getAddress();if(u==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(a[2]||"").split("/");if(f.length!==2)return e.push({type:`!${o}caip`,value:a[2]||""}),{url:null,linkage:e};const d=f[1],y=new ci(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const S=await y.ownerOf(d);if(u!==S)return e.push({type:"!owner",value:S}),{url:null,linkage:e};e.push({type:"owner",value:S})}else if(o==="erc1155"){const S=await y.balanceOf(u,d);if(!S)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:S.toString()})}let p=await y[l](d);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),o==="erc1155"&&(p=p.replace("{id}",as(d,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=t6(p)),e.push({type:"metadata-url",value:p});let m={};const w=await new ra(p).send();w.assertOk();try{m=w.bodyJson}catch{try{e.push({type:"!metadata",value:w.bodyText})}catch{const k=w.body;return k&&e.push({type:"!metadata",value:pe(k)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!m)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(m)});let E=m.image;if(typeof E!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!E.match(/^(https:\/\/|data:)/i)){if(E.match(kb)==null)return e.push({type:"!imageUrl-ipfs",value:E}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:E}),E=t6(E)}return e.push({type:"url",value:E}),{linkage:e,url:E}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return he(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#r(e,t){const n=await Sc.getEnsAddress(e);try{const o=await new ci(n,["function resolver(bytes32) view returns (address)"],e).resolver(Z6(t),{enableCcipRead:!0});return o===Tu?null:o}catch(a){throw a}return null}static async fromName(e,t){let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const a=await Sc.#r(e,n);if(a!=null){const o=new Sc(e,a,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}}const F4=BigInt(0);function He(r,e){return(function(t){return t==null?e:r(t)})}function Lu(r,e){return(t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))})}function $u(r,e){return(t=>{const n={};for(const a in r){let o=a;if(e&&a in e&&!(o in t)){for(const l of e[a])if(l in t){o=l;break}}try{const l=r[a](t[o]);l!==void 0&&(n[a]=l)}catch(l){const u=l instanceof Error?l.message:"not-an-error";he(!1,`invalid value for value.${a} (${u})`,"BAD_DATA",{value:t})}}return n})}function NC(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}Y(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Oc(r){return Y(dt(r,!0),"invalid data","value",r),r}function ln(r){return Y(dt(r,32),"invalid hash","value",r),r}const OC=$u({address:Je,blockHash:ln,blockNumber:Ke,data:Oc,index:Ke,removed:He(NC,!1),topics:Lu(ln),transactionHash:ln,transactionIndex:Ke},{index:["logIndex"]});function PC(r){return OC(r)}const KC=$u({hash:He(ln),parentHash:ln,parentBeaconBlockRoot:He(ln,null),number:Ke,timestamp:Ke,nonce:He(Oc),difficulty:me,gasLimit:me,gasUsed:me,stateRoot:He(ln,null),receiptsRoot:He(ln,null),blobGasUsed:He(me,null),excessBlobGas:He(me,null),miner:He(Je),prevRandao:He(ln,null),extraData:Oc,baseFeePerGas:He(me)},{prevRandao:["mixHash"]});function MC(r){const e=KC(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:xb(t)),e}const LC=$u({transactionIndex:Ke,blockNumber:Ke,transactionHash:ln,address:Je,topics:Lu(ln),data:Oc,index:Ke,blockHash:ln},{index:["logIndex"]});function QC(r){return LC(r)}const HC=$u({to:He(Je,null),from:He(Je,null),contractAddress:He(Je,null),index:Ke,root:He(pe),gasUsed:me,blobGasUsed:He(me,null),logsBloom:He(Oc),blockHash:ln,hash:ln,logs:Lu(QC),blockNumber:Ke,cumulativeGasUsed:me,effectiveGasPrice:He(me),blobGasPrice:He(me,null),status:He(Ke),type:He(Ke,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function zC(r){return HC(r)}function xb(r){r.to&&me(r.to)===F4&&(r.to="0x0000000000000000000000000000000000000000");const e=$u({hash:ln,index:He(Ke,void 0),type:t=>t==="0x"||t==null?0:Ke(t),accessList:He(uo,null),blobVersionedHashes:He(Lu(ln,!0),null),authorizationList:He(Lu(t=>{let n;if(t.signature)n=t.signature;else{let a=t.yParity;a==="0x1b"?a=0:a==="0x1c"&&(a=1),n=Object.assign({},t,{yParity:a})}return{address:Je(t.address),chainId:me(t.chainId),nonce:me(t.nonce),signature:Dt.from(n)}},!1),null),blockHash:He(ln,null),blockNumber:He(Ke,null),transactionIndex:He(Ke,null),from:Je,gasPrice:He(me),maxPriorityFeePerGas:He(me),maxFeePerGas:He(me),maxFeePerBlobGas:He(me,null),gasLimit:me,to:He(Je,null),value:me,nonce:Ke,data:Oc,creates:He(Je,null),chainId:He(me,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=U7(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=Dt.from(r.signature):e.signature=Dt.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&me(e.blockHash)===F4&&(e.blockHash=null),e}const GC="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class e0{name;constructor(e){ke(this,{name:e})}clone(){return new e0(this.name)}}class nh extends e0{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function a(o,l){let u=(t||{})[o];u==null&&(u=l),Y(typeof u=="number",`invalud value for ${o}`,"costs",t),n[o]=u}a("txBase",21e3),a("txCreate",32e3),a("txDataZero",4),a("txDataNonzero",16),a("txAccessListStorageKey",1900),a("txAccessListAddress",2400),ke(this,n)}clone(){return new nh(this.effectiveBlock,this)}}class rh extends e0{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),ke(this,{address:e||GC,targetNetwork:t??1})}clone(){return new rh(this.address,this.targetNetwork)}}class FC extends e0{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const n6=new Map;class or{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=me(t),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=me(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===me(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===me(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===me(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new or(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new nh;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let a=2;a<e.data.length;a+=2)e.data.substring(a,a+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const a=uo(e.accessList);for(const o in a)n+=t.txAccessListAddress+t.txAccessListStorageKey*a[o].storageKeys.length}return n}static from(e){if(_C(),e==null)return or.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=n6.get(e);if(t)return t();if(typeof e=="bigint")return new or("unknown",e);Y(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Y(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new or(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new rh(e.ensAddress,e.ensNetwork)),t}Y(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=n6.get(e);n&&Y(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),n6.set(e,t)}}function _4(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let a=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||a++,n[1]=a.toString()}return BigInt(n[0]+n[1])}function j4(r){return new FC(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let a;try{const[o,l]=await Promise.all([n.send(),e()]);a=o;const u=a.bodyJson.standard;return{gasPrice:l.gasPrice,maxFeePerGas:_4(u.maxFee,9),maxPriorityFeePerGas:_4(u.maxPriorityFee,9)}}catch(o){he(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:a,error:o})}})}let V4=!1;function _C(){if(V4)return;V4=!0;function r(e,t,n){const a=function(){const o=new or(e,t);return n.ensNetwork!=null&&o.attachPlugin(new rh(null,n.ensNetwork)),o.attachPlugin(new nh),(n.plugins||[]).forEach(l=>{o.attachPlugin(l)}),o};or.register(e,a),or.register(t,a),n.altNames&&n.altNames.forEach(o=>{or.register(o,a)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[j4("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[j4("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function W6(r){return JSON.parse(JSON.stringify(r))}class jC{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let t=this.#r+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class c3{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class VC extends c3{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(t.emit(this.#e,n.number),this.#t=n.number))}}class qC extends c3{#e;constructor(e,t){super(e),this.#e=W6(t)}async _poll(e,t){throw new Error("@TODO")}}class YC extends c3{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#e);n&&t.emit(this.#e,n)}}class l3{#e;#t;#n;#r;#i;constructor(e,t){this.#e=e,this.#t=W6(t),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const t=W6(this.#t);t.fromBlock=this.#i+1,t.toBlock=e;const n=await this.#e.getLogs(t);if(n.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const a of n)this.#e.emit(this.#t,a),this.#i=a.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const ZC=BigInt(2),JC=10;function Kf(r){return r&&typeof r.then=="function"}function $f(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const a=Object.keys(n);return a.sort(),a.reduce((o,l)=>(o[l]=n[l],o),{})}return n})}class Bb{name;constructor(e){ke(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function XC(r){return JSON.parse(JSON.stringify(r))}function $6(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function r6(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(dt(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:$f("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:$f("orphan",t),filter:XC(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(a=>a==null?null:Array.isArray(a)?$6(a.map(o=>o.toLowerCase())):a.toLowerCase())};if(t.address){const a=[],o=[],l=u=>{dt(u)?a.push(u):o.push((async()=>{a.push(await Cn(u,e))})())};Array.isArray(t.address)?t.address.forEach(l):l(t.address),o.length&&await Promise.all(o),n.address=$6(a.map(u=>u.toLowerCase()))}return{filter:n,tag:$f("event",n),type:"event"}}Y(!1,"unknown ProviderEvent","event",r)}function i6(){return new Date().getTime()}const WC={cacheTimeout:250,pollingInterval:4e3};class $C{#e;#t;#n;#r;#i;#s;#a;#o;#d;#l;#y;#p;constructor(e,t){if(this.#p=Object.assign({},WC,t||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const n=or.from(e);this.#s=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#s=!1,this.#i=null;this.#o=-1,this.#a=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#d=1,this.#l=new Map,this.#y=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#y}set disableCcipRead(e){this.#y=!!e}async#c(e){const t=this.#p.cacheTimeout;if(t<0)return await this._perform(e);const n=$f(e.method,e);let a=this.#a.get(n);return a||(a=this._perform(e),this.#a.set(n,a),setTimeout(()=>{this.#a.get(n)===a&&this.#a.delete(n)},t)),await a}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const a=e.to.toLowerCase(),o=t.toLowerCase(),l=[];for(let u=0;u<n.length;u++){const f=n[u],d=f.replace("{sender}",a).replace("{data}",o),y=new ra(d);f.indexOf("{data}")===-1&&(y.body={data:o,sender:a}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:y,index:u,urls:n});let p="unknown error",m;try{m=await y.send()}catch(w){l.push(w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:y,result:{error:w}});continue}try{const w=m.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:y,result:w}),w.data;w.message&&(p=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:y,result:w})}catch{}he(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:p}}),l.push(p)}he(!1,`error encountered during CCIP fetch: ${l.map(u=>JSON.stringify(u)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:l}})}_wrapBlock(e,t){return new AC(MC(e),this)}_wrapLog(e,t){return new Xu(PC(e),this)}_wrapTransactionReceipt(e,t){return new db(zC(e),this)}_wrapTransactionResponse(e,t){return new Wu(xb(e),this)}_detectNetwork(){he(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){he(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ke(await this.#c({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=e),e}_getAddress(e){return Cn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(dt(e))return dt(e,32)?e:Hr(e);if(typeof e=="bigint"&&(e=Ke(e,"blockTag")),typeof e=="number")return e>=0?Hr(e):this.#o>=0?Hr(this.#o+e):this.getBlockNumber().then(t=>Hr(t+e));Y(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?$6(f.map(d=>d.toLowerCase())):f.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,a=(f,d,y)=>{let p;switch(f.length){case 0:break;case 1:p=f[0];break;default:f.sort(),p=f}if(n&&(d!=null||y!=null))throw new Error("invalid filter");const m={};return p&&(m.address=p),t.length&&(m.topics=t),d&&(m.fromBlock=d),y&&(m.toBlock=y),n&&(m.blockHash=n),m};let o=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)o.push(this._getAddress(f));else o.push(this._getAddress(e.address));let l;"fromBlock"in e&&(l=this._getBlockTag(e.fromBlock));let u;return"toBlock"in e&&(u=this._getBlockTag(e.toBlock)),o.filter(f=>typeof f!="string").length||l!=null&&typeof l!="string"||u!=null&&typeof u!="string"?Promise.all([Promise.all(o),l,u]).then(f=>a(f[0],f[1],f[2])):a(o,l,u)}_getTransactionRequest(e){const t=w1(e),n=[];if(["to","from"].forEach(a=>{if(t[a]==null)return;const o=Cn(t[a],this);Kf(o)?n.push((async function(){t[a]=await o})()):t[a]=o}),t.blockTag!=null){const a=this._getBlockTag(t.blockTag);Kf(a)?n.push((async function(){t.blockTag=await a})()):t.blockTag=a}return n.length?(async function(){return await Promise.all(n),t})():t}async getNetwork(){if(this.#i==null){const a=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===a&&(this.#i=null),o}})();return this.#i=a,(await a).clone()}const e=this.#i,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#s?(this.emit("network",n,t),this.#i===e&&(this.#i=Promise.resolve(n))):he(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:a,gasPrice:o,priorityFee:l}=await Sn({_block:this.#m("latest",!1),gasPrice:(async()=>{try{const y=await this.#c({method:"getGasPrice"});return me(y,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const y=await this.#c({method:"getPriorityFee"});return me(y,"%response")}catch{}return null})()});let u=null,f=null;const d=this._wrapBlock(a,e);return d&&d.baseFeePerGas&&(f=l??BigInt("1000000000"),u=d.baseFeePerGas*ZC+f),new Q4(o,u,f)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const a=new ra(n.url),o=await n.processFunc(t,this,a);return new Q4(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Kf(t)&&(t=await t),me(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,n){he(n<JC,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const a=w1(e);try{return pe(await this._perform({method:"call",transaction:a,blockTag:t}))}catch(o){if(!this.disableCcipRead&&z2(o)&&o.data&&n>=0&&t==="latest"&&a.to!=null&&Ut(o.data,0,4)==="0x556f1830"){const l=o.data,u=await Cn(a.to,this);let f;try{f=iU(Ut(o.data,4))}catch(p){he(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:l}})}he(f.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const d=await this.ccipReadFetch(a,f.calldata,f.urls);he(d!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:o.data,errorArgs:f.errorArgs}});const y={to:u,data:St([f.selector,rU([d,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:y});try{const p=await this.#u(y,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},y),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},y),error:p}),p}}throw o}}async#f(e){const{value:t}=await Sn({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await Sn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#u(t,n,e.enableCcipRead?0:-1))}async#h(e,t,n){let a=this._getAddress(t),o=this._getBlockTag(n);return(typeof a!="string"||typeof o!="string")&&([a,o]=await Promise.all([a,o])),await this.#f(this.#c(Object.assign(e,{address:a,blockTag:o})))}async getBalance(e,t){return me(await this.#h({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Ke(await this.#h({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return pe(await this.#h({method:"getCode"},e,t))}async getStorage(e,t,n){const a=me(t,"position");return pe(await this.#h({method:"getStorage",position:a},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:a}=await Sn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Lr.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,a).replaceableTransaction(t)}async#m(e,t){if(dt(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:a}=await Sn({network:this.getNetwork(),params:this.#m(e,!!t)});return a==null?null:this._wrapBlock(a,n)}async getTransaction(e){const{network:t,params:n}=await Sn({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Sn({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const a=await this.#c({method:"getTransaction",hash:e});if(a==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Sn({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:pe(t)}async getLogs(e){let t=this._getFilter(e);Kf(t)&&(t=await t);const{network:n,params:a}=await Sn({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return a.map(o=>this._wrapLog(o,n))}_getProvider(e){he(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Sc.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Je(e);const t=Z6(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Sc.getEnsAddress(this),o=await new ci(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(o==null||o===Tu)return null;const u=await new ci(o,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(u)!==e?null:u}catch(n){if(un(n,"BAD_DATA")&&n.value==="0x"||un(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const a=t??1;return a===0?this.getTransactionReceipt(e):new Promise(async(o,l)=>{let u=null;const f=(async d=>{try{const y=await this.getTransactionReceipt(e);if(y!=null&&d-y.blockNumber+1>=a){o(y),u&&(clearTimeout(u),u=null);return}}catch(y){console.log("EEE",y)}this.once("block",f)});n!=null&&(u=setTimeout(()=>{u!=null&&(u=null,this.off("block",f),l(gt("timeout","TIMEOUT",{reason:"timeout"})))},n)),f(await this.getBlockNumber())})}async waitForBlock(e){he(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=this.#d++,a=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:a,time:t});else{const o=setTimeout(a,t);this.#l.set(n,{timer:o,func:a,time:i6()})}return n}_forEachSubscriber(e){for(const t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Bb(e.type);case"block":{const t=new jC(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new VC(this,e.type);case"event":return new l3(this,e.filter);case"transaction":return new YC(this,e.hash);case"orphan":return new qC(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),this.#n!=null&&t.pause(this.#n);break}}async#g(e,t){let n=await r6(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await r6({orphan:"drop-log",log:t[0]},this)),this.#e.get(n.tag)||null}async#b(e){const t=await r6(e,this),n=t.tag;let a=this.#e.get(n);return a||(a={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,a)),a}async on(e,t){const n=await this.#b(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#n!=null&&n.subscriber.pause(this.#n)),this}async once(e,t){const n=await this.#b(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#n!=null&&n.subscriber.pause(this.#n)),this}async emit(e,...t){const n=await this.#g(e,t);if(!n||n.listeners.length===0)return!1;const a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:l})=>{const u=new _m(this,l?null:o,e);try{o.call(this,...t,u)}catch{}return!l}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),a>0}async listenerCount(e){if(e){const n=await this.#g(e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of this.#e.values())t+=n.length;return t}async listeners(e){if(e){const n=await this.#g(e);return n?n.listeners.map(({listener:a})=>a):[]}let t=[];for(const{listeners:n}of this.#e.values())t=t.concat(n.map(({listener:a})=>a));return t}async off(e,t){const n=await this.#g(e);if(!n)return this;if(t){const a=n.listeners.map(({listener:o})=>o).indexOf(t);a>=0&&n.listeners.splice(a,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:a}=await this.#b(e);n&&a.stop(),this.#e.delete(t)}else for(const[t,{started:n,subscriber:a}]of this.#e)n&&a.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#o=-1,this.#n!=null){if(this.#n==!!e)return;he(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#n=!!e;for(const t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=i6()-t.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=i6(),setTimeout(e.func,t)}}}}function eU(r,e){try{const t=e2(r,e);if(t)return d1(t)}catch{}return null}function e2(r,e){if(r==="0x")return null;try{const t=Ke(Ut(r,e,e+32)),n=Ke(Ut(r,t,t+32));return Ut(r,t+32,t+32+n)}catch{}return null}function q4(r){const e=qt(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function tU(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const nU=new Uint8Array([]);function rU(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(nU),t+=32;for(let n=0;n<r.length;n++){const a=Ne(r[n]);e[n]=q4(t),e.push(q4(a.length)),e.push(tU(a)),t+=32+Math.ceil(a.length/32)*32}return St(e)}const Y4="0x0000000000000000000000000000000000000000000000000000000000000000";function iU(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};he(wc(r)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Ut(r,0,32);he(Ut(t,0,12)===Ut(Y4,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ut(t,12);try{const n=[],a=Ke(Ut(r,32,64)),o=Ke(Ut(r,a,a+32)),l=Ut(r,a+32);for(let u=0;u<o;u++){const f=eU(l,u*32);if(f==null)throw new Error("abort");n.push(f)}e.urls=n}catch{he(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=e2(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{he(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}he(Ut(r,100,128)===Ut(Y4,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ut(r,96,100);try{const n=e2(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{he(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Rs(r,e){if(r.provider)return r.provider;he(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Z4(r,e){let t=w1(e);if(t.to!=null&&(t.to=Cn(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),Cn(n,r)]).then(([a,o])=>(Y(a.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),a))}else t.from=r.getAddress();return await Sn(t)}class aU{provider;constructor(e){ke(this,{provider:e||null})}async getNonce(e){return Rs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Z4(this,e)}async populateTransaction(e){const t=Rs(this,"populateTransaction"),n=await Z4(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const a=await this.provider.getNetwork();if(n.chainId!=null){const l=me(n.chainId);Y(l===a.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=a.chainId;const o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?Y(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&Y(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const l=await t.getFeeData();he(l.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=l.gasPrice)}else{const l=await t.getFeeData();if(n.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const u=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=u,n.maxPriorityFeePerGas=u}else n.maxFeePerGas==null&&(n.maxFeePerGas=l.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(he(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=l.gasPrice),n.type=0):he(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=l.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return await Sn(n)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Rs(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Rs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Rs(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Rs(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Rs(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const a=Lr.from(n);return await t.broadcastTransaction(await this.signTransaction(a))}authorize(e){he(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function sU(r){return JSON.parse(JSON.stringify(r))}class Cb{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#a.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#a(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(o){if(!un(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const n=await this.#e.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#s)return;const a=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,a)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#n)}#o(){const e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#r||(this.#r=!0,this.#a(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#o(),this.#e.off("block",this.#n))}pause(e){e&&this.#o(),this.#e.off("block",this.#n)}resume(){this.start()}}class oU extends Cb{#e;constructor(e,t){super(e),this.#e=sU(t)}_recover(e){return new l3(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(const n of t)e.emit(this.#e,e._wrapLog(n,e._network))}}class cU extends Cb{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const lU="bigint,boolean,function,number,string,symbol".split(/,/g);function e1(r){if(r==null||lU.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(e1);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function uU(r){return new Promise(e=>{setTimeout(e,r)})}function ac(r){return r&&r.toLowerCase()}function J4(r){return r&&typeof r.pollingInterval=="number"}const Ub={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class a6 extends aU{address;constructor(e,t){super(e),t=Je(t),ke(this,{address:t})}connect(e){he(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=e1(e),n=[];if(t.from){const o=t.from;n.push((async()=>{const l=await Cn(o,this.provider);Y(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=l})())}else t.from=this.address;if(t.gasLimit==null&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const o=t.to;n.push((async()=>{t.to=await Cn(o,this.provider)})())}n.length&&await Promise.all(n);const a=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[a])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((a,o)=>{const l=[1e3,100];let u=0;const f=async()=>{try{const d=await this.provider.getTransaction(n);if(d!=null){a(d.replaceableTransaction(t));return}}catch(d){if(un(d,"CANCELLED")||un(d,"BAD_DATA")||un(d,"NETWORK_ERROR")||un(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=n,o(d);return}if(un(d,"INVALID_ARGUMENT")&&(u++,d.info==null&&(d.info={}),d.info.sendTransactionHash=n,u>10)){o(d);return}this.provider.emit("error",gt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{f()},l.pop()||4e3)};f()})}async signTransaction(e){const t=e1(e);if(t.from){const a=await Cn(t.from,this.provider);Y(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=a}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t=typeof e=="string"?Xi(e):e;return await this.provider.send("personal_sign",[pe(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const a=e1(n),o=await rr.resolveNames(e,t,a,async l=>{const u=await Cn(l);return Y(u!=null,"TypedData does not support null address","value",l),u});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(rr.getPayload(o.domain,t,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?Xi(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),pe(t)])}}class fU extends $C{#e;#t;#n;#r;#i;#s;#a;#o(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const t=this.#n;for(this.#n=[];t.length;){const n=[t.shift()];for(;t.length&&n.length!==this.#e.batchMaxCount;)if(n.push(t.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#e.batchMaxSize){t.unshift(n.pop());break}(async()=>{const a=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{const o=await this._send(a);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:l,reject:u,payload:f}of n){if(this.destroyed){u(gt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}const d=o.filter(y=>y.id===f.id)[0];if(d==null){const y=gt("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",y),u(y);continue}if("error"in d){u(this.getRpcError(f,d));continue}l(d.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:l}of n)l(o)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},Ub,t||{}),this.#n=[],this.#r=null,this.#s=null,this.#a=null;{let a=null;const o=new Promise(l=>{a=l});this.#i={promise:o,resolve:a}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(Y(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),n&&e!=null&&(this.#s=or.from(e))):n&&(Y(e==null||n.matches(e),"staticNetwork MUST match network object","options",t),this.#s=n)}_getOption(e){return this.#e[e]}get _network(){return he(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&me(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const a=await this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#a?await this.#a:this.ready?(this.#a=(async()=>{try{const t=or.from(me(await this.send("eth_chainId",[])));return this.#a=null,t}catch(t){throw this.#a=null,t}})(),await this.#a):(this.#a=(async()=>{const t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let n;try{n=(await this._send(t))[0],this.#a=null}catch(a){throw this.#a=null,this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return or.from(me(n.result));throw this.getRpcError(t,n)})(),await this.#a)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",gt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await uU(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new cU(this):e.type==="event"?this._getOption("polling")?new l3(this,e.filter):new oU(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Bb("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let a=n;n==="gasLimit"&&(a="gas"),t[a]=Hr(me(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(t[n]=pe(e[n]))}),e.accessList&&(t.accessList=uo(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(n=>{const a=N7(n);return{address:a.address,nonce:Hr(a.nonce),chainId:Hr(a.chainId),yParity:Hr(a.signature.yParity),r:Hr(a.signature.r),s:Hr(a.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ac(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ac(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[ac(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ac(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(ac):e.filter.address=ac(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:a}=t;if(n==="eth_estimateGas"&&a.message){const u=a.message;if(!u.match(/revert/i)&&u.match(/insufficient funds/i))return gt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:a}});if(u.match(/nonce/i)&&u.match(/too low/i))return gt("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:a}})}if(n==="eth_call"||n==="eth_estimateGas"){const u=t2(a),f=Nc.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],u?u.data:null);return f.info={error:a,payload:e},f}const o=JSON.stringify(dU(a));if(typeof a.message=="string"&&a.message.match(/user denied|ethers-user-denied/i))return gt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:a}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const u=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return gt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:a}});if(o.match(/nonce/i)&&o.match(/too low/i))return gt("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:a}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return gt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:a}});if(o.match(/only replay-protected/i))return gt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:u,info:{error:a}}})}let l=!!o.match(/the method .* does not exist/i);return l||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(l=!0),l?gt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:a,payload:e}}):gt("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(gt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#t++,a=new Promise((o,l)=>{this.#n.push({resolve:o,reject:l,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})});return this.#o(),a}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const a=await t;if(e>=a.length)throw new Error("no such account");return new a6(this,a[e])}const{accounts:n}=await Sn({network:this.getNetwork(),accounts:t});e=Je(e);for(const a of n)if(Je(a)===e)return new a6(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new a6(this,t))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:t}of this.#n)t(gt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class hU extends fU{#e;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");n==null&&(n=Ub.pollingInterval),this.#e=n}_getSubscriber(e){const t=super._getSubscriber(e);return J4(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{J4(t)&&(t.pollingInterval=this.#e)})}}function t2(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&dt(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=t2(r[e]);if(t)return t}return null}if(typeof r=="string")try{return t2(JSON.parse(r))}catch{}return null}function n2(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)n2(r[t],e);if(typeof r=="string")try{return n2(JSON.parse(r),e)}catch{}}}function dU(r){const e=[];return n2(r,e),e}class Fs extends hU{#e;#t;constructor(e,t,n){const a=Object.assign({},n??{},{batchMaxCount:1});Y(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,a),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(o,l)=>{const u={method:o,params:l};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const f=await e.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){const d=new Error(f.message);throw d.code=f.code,d.data=f.data,d.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Y(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){const n=t.payload;throw this.getRpcError(n,{id:n.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Fs(e.provider);const t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Fs(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const a=e.timeout?e.timeout:300;return a===0?null:await new Promise((o,l)=>{let u=[];const f=p=>{u.push(p.detail),n&&d()},d=()=>{if(clearTimeout(y),u.length)if(e&&e.filter){const p=e.filter(u.map(m=>Object.assign({},m.info)));if(p==null)o(null);else if(p instanceof Fs)o(p);else{let m=null;if(p.uuid&&(m=u.filter(E=>p.uuid===E.info.uuid)[0]),m){const{provider:w,info:E}=m;o(new Fs(w,void 0,{providerInfo:E}))}else l(gt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:p}))}}else{const{provider:p,info:m}=u[0];o(new Fs(p,void 0,{providerInfo:m}))}else o(null);t.removeEventListener("eip6963:announceProvider",f)},y=setTimeout(()=>{d()},a);t.addEventListener("eip6963:announceProvider",f),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}async function yU(){if(!window.ethereum)throw new Error("No wallet found. Please install MetaMask.");const r=new Fs(window.ethereum);await r.send("eth_requestAccounts",[]);const e=await r.getSigner();return{provider:r,signer:e}}const Db=se.createContext();function pU({children:r}){const[e,t]=se.useState(null),[n,a]=se.useState(null);async function o(){try{const{provider:u,signer:f}=await yU();t(u),a(f)}catch(u){console.error(u.message)}}async function l(){t(null),a(null),window.location.reload()}return ae.jsx(Db.Provider,{value:{provider:e,signer:n,connect:o,disconnect:l},children:r})}function u3(){return se.useContext(Db)}function gU(){const{provider:r,signer:e,connect:t,disconnect:n}=u3(),a=!!e,o={header:{display:"flex",justifyContent:"space-between",alignItems:"center"},title:{marginLeft:".5em",textDecoration:"underline dotted"},button:{padding:"1em"}};return ae.jsxs("header",{style:o.header,children:[ae.jsx("h1",{style:o.title,children:"3mail"}),ae.jsx("button",{style:o.button,onClick:a?n:t,children:a?"Disconnect":"Connect"})]})}function mU(){const r={footer:{position:"fixed",bottom:"0",width:"100%",textAlign:"center"}};return ae.jsxs("footer",{style:r.footer,children:["3mail © ",new Date().getFullYear(),"  | ",ae.jsx("a",{href:"https://github.com/robertjmapes/3mail",children:"About"})]})}function bU(r,e="data.json"){const n=JSON.stringify(r,(u,f)=>typeof f=="bigint"?f.toString():typeof f=="string"?f.replace(/\\n/g,`
`):f,2),a=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=e,l.click(),URL.revokeObjectURL(o)}function X4(r,e="key.asc"){const t=r.privateKey+`
`+r.revocationCertificate,n=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=e,o.click(),URL.revokeObjectURL(a)}/*! OpenPGP.js v6.2.0 - 2025-07-17 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */const An=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AU(r,e){return e.forEach((function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if(n!=="default"&&!(n in r)){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(r)}const pc=Symbol("doneWritingPromise"),Ib=Symbol("doneWritingResolve"),Rb=Symbol("doneWritingReject"),$l=Symbol("readingIndex");class kr extends Array{constructor(){super(),Object.setPrototypeOf(this,kr.prototype),this[pc]=new Promise(((e,t)=>{this[Ib]=e,this[Rb]=t})),this[pc].catch((()=>{}))}}function Lt(r){return r&&r.getReader&&Array.isArray(r)}function yu(r){if(!Lt(r)){const e=r.getWriter(),t=e.releaseLock;return e.releaseLock=()=>{e.closed.catch((function(){})),t.call(e)},e}this.stream=r}function jn(r){if(Lt(r))return"array";if(An.ReadableStream&&An.ReadableStream.prototype.isPrototypeOf(r))return"web";if(r&&!(An.ReadableStream&&r instanceof An.ReadableStream)&&typeof r._read=="function"&&typeof r._readableState=="object")throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!(!r||!r.getReader)&&"web-like"}function ih(r){return Uint8Array.prototype.isPrototypeOf(r)}function Tb(r){if(r.length===1)return r[0];let e=0;for(let a=0;a<r.length;a++){if(!ih(r[a]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=r[a].length}const t=new Uint8Array(e);let n=0;return r.forEach((function(a){t.set(a,n),n+=a.length})),t}kr.prototype.getReader=function(){return this[$l]===void 0&&(this[$l]=0),{read:async()=>(await this[pc],this[$l]===this.length?{value:void 0,done:!0}:{value:this[this[$l]++],done:!1})}},kr.prototype.readToEnd=async function(r){await this[pc];const e=r(this.slice(this[$l]));return this.length=0,e},kr.prototype.clone=function(){const r=new kr;return r[pc]=this[pc].then((()=>{r.push(...this)})),r},yu.prototype.write=async function(r){this.stream.push(r)},yu.prototype.close=async function(){this.stream[Ib]()},yu.prototype.abort=async function(r){return this.stream[Rb](r),r},yu.prototype.releaseLock=function(){},typeof An.process=="object"&&An.process.versions;const W4=new WeakSet,ut=Symbol("externalBuffer");function ei(r){if(this.stream=r,r[ut]&&(this[ut]=r[ut].slice()),Lt(r)){const t=r.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}if(jn(r)){const t=r.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let e=!1;this._read=async()=>e||W4.has(r)?{value:void 0,done:!0}:(e=!0,{value:r,done:!1}),this._releaseLock=()=>{if(e)try{W4.add(r)}catch{}}}function f3(r){return jn(r)?r:new ReadableStream({start(e){e.enqueue(r),e.close()}})}function Nb(r){if(jn(r))return r;const e=new kr;return(async()=>{const t=lr(e);await t.write(r),await t.close()})(),e}function Qn(r){return r.some((e=>jn(e)&&!Lt(e)))?(function(e){e=e.map(f3);const t=Pb((async function(o){await Promise.all(a.map((l=>r2(l,o))))}));let n=Promise.resolve();const a=e.map(((o,l)=>fs(o,((u,f)=>(n=n.then((()=>io(u,t.writable,{preventClose:l!==e.length-1}))),n)))));return t.readable})(r):r.some((e=>Lt(e)))?(function(e){const t=new kr;let n=Promise.resolve();return e.forEach(((a,o)=>(n=n.then((()=>io(a,t,{preventClose:o!==e.length-1}))),n))),t})(r):typeof r[0]=="string"?r.join(""):Tb(r)}async function io(r,e,{preventClose:t=!1,preventAbort:n=!1,preventCancel:a=!1}={}){if(jn(r)&&!Lt(r)){r=f3(r);try{if(r[ut]){const u=lr(e);for(let f=0;f<r[ut].length;f++)await u.ready,await u.write(r[ut][f]);u.releaseLock()}await r.pipeTo(e,{preventClose:t,preventAbort:n,preventCancel:a})}catch{}return}const o=aa(r=Nb(r)),l=lr(e);try{for(;;){await l.ready;const{done:u,value:f}=await o.read();if(u){t||await l.close();break}await l.write(f)}}catch(u){n||await l.abort(u)}finally{o.releaseLock(),l.releaseLock()}}function Ob(r,e){const t=new TransformStream(e);return io(r,t.writable),t.readable}function Pb(r){let e,t,n,a=!1,o=!1;return{readable:new ReadableStream({start(l){n=l},pull(){e?e():a=!0},async cancel(l){o=!0,r&&await r(l),t&&t(l)}},{highWaterMark:0}),writable:new WritableStream({write:async function(l){if(o)throw Error("Stream is cancelled");n.enqueue(l),a?a=!1:(await new Promise(((u,f)=>{e=u,t=f})),e=null,t=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function Rt(r,e=()=>{},t=()=>{}){if(Lt(r)){const o=new kr;return(async()=>{const l=lr(o);try{const u=await Ft(r),f=e(u),d=t();let y;y=f!==void 0&&d!==void 0?Qn([f,d]):f!==void 0?f:d,await l.write(y),await l.close()}catch(u){await l.abort(u)}})(),o}if(jn(r))return Ob(r,{async transform(o,l){try{const u=await e(o);u!==void 0&&l.enqueue(u)}catch(u){l.error(u)}},async flush(o){try{const l=await t();l!==void 0&&o.enqueue(l)}catch(l){o.error(l)}}});const n=e(r),a=t();return n!==void 0&&a!==void 0?Qn([n,a]):n!==void 0?n:a}function fs(r,e){if(jn(r)&&!Lt(r)){let n;const a=new TransformStream({start(u){n=u}}),o=io(r,a.writable),l=Pb((async function(u){n.error(u),await o,await new Promise(setTimeout)}));return e(a.readable,l.writable),l.readable}r=Nb(r);const t=new kr;return e(r,t),t}function ah(r,e){let t;const n=fs(r,((a,o)=>{const l=aa(a);l.remainder=()=>(l.releaseLock(),io(a,o),n),t=e(l)}));return t}function ao(r){if(Lt(r))return r.clone();if(jn(r)){const e=(function(t){if(Lt(t))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(jn(t)){const n=f3(t).tee();return n[0][ut]=n[1][ut]=t[ut],n}return[fn(t),fn(t)]})(r);return Kb(r,e[0]),e[1]}return fn(r)}function Bu(r){return Lt(r)?ao(r):jn(r)?new ReadableStream({start(e){const t=fs(r,(async(n,a)=>{const o=aa(n),l=lr(a);try{for(;;){await l.ready;const{done:u,value:f}=await o.read();if(u){try{e.close()}catch{}return void await l.close()}try{e.enqueue(f)}catch{}await l.write(f)}}catch(u){e.error(u),await l.abort(u)}}));Kb(r,t)}}):fn(r)}function Kb(r,e){Object.entries(Object.getOwnPropertyDescriptors(r.constructor.prototype)).forEach((([t,n])=>{t!=="constructor"&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(r,t,n))}))}function fn(r,e=0,t=1/0){if(Lt(r))throw Error("Not implemented");if(jn(r)){if(e>=0&&t>=0){let n=0;return Ob(r,{transform(a,o){n<t?(n+a.length>=e&&o.enqueue(fn(a,Math.max(e-n,0),t-n)),n+=a.length):o.terminate()}})}if(e<0&&(t<0||t===1/0)){let n=[];return Rt(r,(a=>{a.length>=-e?n=[a]:n.push(a)}),(()=>fn(Qn(n),e,t)))}if(e===0&&t<0){let n;return Rt(r,(a=>{const o=n?Qn([n,a]):a;if(o.length>=-t)return n=fn(o,t),fn(o,e,t);n=o}))}return console.warn(`stream.slice(input, ${e}, ${t}) not implemented efficiently.`),hs((async()=>fn(await Ft(r),e,t)))}return r[ut]&&(r=Qn(r[ut].concat([r]))),ih(r)?r.subarray(e,t===1/0?r.length:t):r.slice(e,t)}async function Ft(r,e=Qn){return Lt(r)?r.readToEnd(e):jn(r)?aa(r).readToEnd(e):r}async function r2(r,e){if(jn(r)){if(r.cancel){const t=await r.cancel(e);return await new Promise(setTimeout),t}if(r.destroy)return r.destroy(e),await new Promise(setTimeout),e}}function hs(r){const e=new kr;return(async()=>{const t=lr(e);try{await t.write(await r()),await t.close()}catch(n){await t.abort(n)}})(),e}function aa(r){return new ei(r)}function lr(r){return new yu(r)}ei.prototype.read=async function(){return this[ut]&&this[ut].length?{done:!1,value:this[ut].shift()}:this._read()},ei.prototype.releaseLock=function(){this[ut]&&(this.stream[ut]=this[ut]),this._releaseLock()},ei.prototype.cancel=function(r){return this._cancel(r)},ei.prototype.readLine=async function(){let r,e=[];for(;!r;){let{done:t,value:n}=await this.read();if(n+="",t)return e.length?Qn(e):void 0;const a=n.indexOf(`
`)+1;a&&(r=Qn(e.concat(n.substr(0,a))),e=[]),a!==n.length&&e.push(n.substr(a))}return this.unshift(...e),r},ei.prototype.readByte=async function(){const{done:r,value:e}=await this.read();if(r)return;const t=e[0];return this.unshift(fn(e,1)),t},ei.prototype.readBytes=async function(r){const e=[];let t=0;for(;;){const{done:n,value:a}=await this.read();if(n)return e.length?Qn(e):void 0;if(e.push(a),t+=a.length,t>=r){const o=Qn(e);return this.unshift(fn(o,r)),fn(o,0,r)}}},ei.prototype.peekBytes=async function(r){const e=await this.readBytes(r);return this.unshift(e),e},ei.prototype.unshift=function(...r){this[ut]||(this[ut]=[]),r.length===1&&ih(r[0])&&this[ut].length&&r[0].length&&this[ut][0].byteOffset>=r[0].length?this[ut][0]=new Uint8Array(this[ut][0].buffer,this[ut][0].byteOffset-r[0].length,this[ut][0].byteLength+r[0].length):this[ut].unshift(...r.filter((e=>e&&e.length)))},ei.prototype.readToEnd=async function(r=Qn){const e=[];for(;;){const{done:t,value:n}=await this.read();if(t)break;e.push(n)}return r(e)};const eu=Symbol("byValue");var A={curve:{nistP256:"nistP256",p256:"nistP256",nistP384:"nistP384",p384:"nistP384",nistP521:"nistP521",p521:"nistP521",secp256k1:"secp256k1",ed25519Legacy:"ed25519Legacy",ed25519:"ed25519Legacy",curve25519Legacy:"curve25519Legacy",curve25519:"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(r,e){if(typeof e=="number"&&(e=this.read(r,e)),r[e]!==void 0)return r[e];throw Error("Invalid enum value.")},read:function(r,e){if(r[eu]||(r[eu]=[],Object.entries(r).forEach((([t,n])=>{r[eu][n]=t}))),r[eu][e]!==void 0)return r[eu][e];throw Error("Invalid enum value.")}},de={preferredHashAlgorithm:A.hash.sha512,preferredSymmetricAlgorithm:A.symmetric.aes256,preferredCompressionAlgorithm:A.compression.uncompressed,aeadProtect:!1,parseAEADEncryptedV4KeysAsLegacy:!1,preferredAEADAlgorithm:A.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,enableParsingV5Entities:!1,s2kType:A.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,minRSABits:2047,passwordCollisionCheck:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([A.symmetric.aes128,A.symmetric.aes192,A.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,enforceGrammar:!0,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.2.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],nonDeterministicSignaturesViaNotation:!0,useEllipticFallback:!0,rejectHashAlgorithms:new Set([A.hash.md5,A.hash.ripemd]),rejectMessageHashAlgorithms:new Set([A.hash.md5,A.hash.ripemd,A.hash.sha1]),rejectPublicKeyAlgorithms:new Set([A.publicKey.elgamal,A.publicKey.dsa]),rejectCurves:new Set([A.curve.secp256k1])};const $4=(()=>{try{return!1}catch{}return!1})(),B={isString:function(r){return typeof r=="string"||r instanceof String},nodeRequire:()=>{},isArray:function(r){return r instanceof Array},isUint8Array:ih,isStream:jn,getNobleCurve:async(r,e)=>{if(!de.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");const{nobleCurves:t}=await Promise.resolve().then((function(){return BR}));switch(r){case A.publicKey.ecdh:case A.publicKey.ecdsa:{const n=t.get(e);if(!n)throw Error("Unsupported curve");return n}case A.publicKey.x448:return t.get("x448");case A.publicKey.ed448:return t.get("ed448");default:throw Error("Unsupported curve")}},readNumber:function(r){let e=0;for(let t=0;t<r.length;t++)e+=256**t*r[r.length-1-t];return e},writeNumber:function(r,e){const t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=r>>8*(e-n-1)&255;return t},readDate:function(r){const e=B.readNumber(r);return new Date(1e3*e)},writeDate:function(r){const e=Math.floor(r.getTime()/1e3);return B.writeNumber(e,4)},normalizeDate:function(r=Date.now()){return r===null||r===1/0?r:new Date(1e3*Math.floor(+r/1e3))},readMPI:function(r){const e=(r[0]<<8|r[1])+7>>>3;return B.readExactSubarray(r,2,2+e)},readExactSubarray:function(r,e,t){if(r.length<t-e)throw Error("Input array too short");return r.subarray(e,t)},leftPad(r,e){if(r.length>e)throw Error("Input array too long");const t=new Uint8Array(e),n=e-r.length;return t.set(r,n),t},uint8ArrayToMPI:function(r){const e=B.uint8ArrayBitLength(r);if(e===0)throw Error("Zero MPI");const t=r.subarray(r.length-Math.ceil(e/8)),n=new Uint8Array([(65280&e)>>8,255&e]);return B.concatUint8Array([n,t])},uint8ArrayBitLength:function(r){let e;for(e=0;e<r.length&&r[e]===0;e++);if(e===r.length)return 0;const t=r.subarray(e);return 8*(t.length-1)+B.nbits(t[0])},hexToUint8Array:function(r){const e=new Uint8Array(r.length>>1);for(let t=0;t<r.length>>1;t++)e[t]=parseInt(r.substr(t<<1,2),16);return e},uint8ArrayToHex:function(r){const e="0123456789abcdef";let t="";return r.forEach((n=>{t+=e[n>>4]+e[15&n]})),t},stringToUint8Array:function(r){return Rt(r,(e=>{if(!B.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}))},uint8ArrayToString:function(r){const e=[],n=(r=new Uint8Array(r)).length;for(let a=0;a<n;a+=16384)e.push(String.fromCharCode.apply(String,r.subarray(a,a+16384<n?a+16384:n)));return e.join("")},encodeUTF8:function(r){const e=new TextEncoder("utf-8");function t(n,a=!1){return e.encode(n,{stream:!a})}return Rt(r,t,(()=>t("",!0)))},decodeUTF8:function(r){const e=new TextDecoder("utf-8");function t(n,a=!1){return e.decode(n,{stream:!a})}return Rt(r,t,(()=>t(new Uint8Array,!0)))},concat:Qn,concatUint8Array:Tb,equalsUint8Array:function(r,e){if(!B.isUint8Array(r)||!B.isUint8Array(e))throw Error("Data must be in the form of a Uint8Array");if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},findLastIndex:function(r,e){for(let t=r.length;t>=0;t--)if(e(r[t],t,r))return t;return-1},writeChecksum:function(r){let e=0;for(let t=0;t<r.length;t++)e=e+r[t]&65535;return B.writeNumber(e,2)},printDebug:function(r){$4&&console.log("[OpenPGP.js debug]",r)},printDebugError:function(r){$4&&console.error("[OpenPGP.js debug]",r)},nbits:function(r){let e=1,t=r>>>16;return t!==0&&(r=t,e+=16),t=r>>8,t!==0&&(r=t,e+=8),t=r>>4,t!==0&&(r=t,e+=4),t=r>>2,t!==0&&(r=t,e+=2),t=r>>1,t!==0&&(r=t,e+=1),e},double:function(r){const e=new Uint8Array(r.length),t=r.length-1;for(let n=0;n<t;n++)e[n]=r[n]<<1^r[n+1]>>7;return e[t]=r[t]<<1^135*(r[0]>>7),e},shiftRight:function(r,e){if(e)for(let t=r.length-1;t>=0;t--)r[t]>>=e,t>0&&(r[t]|=r[t-1]<<8-e);return r},getWebCrypto:function(){const r=An!==void 0&&An.crypto&&An.crypto.subtle||this.getNodeCrypto()?.webcrypto.subtle;if(!r)throw Error("The WebCrypto API is not available");return r},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(r){return B.isString(r)?/^[^\p{C}\p{Z}@<>\\]+@[^\p{C}\p{Z}@<>\\]+[^\p{C}\p{Z}\p{P}]$/u.test(r):!1},canonicalizeEOL:function(r){let e=!1;return Rt(r,(t=>{let n;e&&(t=B.concatUint8Array([new Uint8Array([13]),t])),t[t.length-1]===13?(e=!0,t=t.subarray(0,-1)):e=!1;const a=[];for(let u=0;n=t.indexOf(10,u)+1,n;u=n)t[n-2]!==13&&a.push(n);if(!a.length)return t;const o=new Uint8Array(t.length+a.length);let l=0;for(let u=0;u<a.length;u++){const f=t.subarray(a[u-1]||0,a[u]);o.set(f,l),l+=f.length,o[l-1]=13,o[l]=10,l++}return o.set(t.subarray(a[a.length-1]||0),l),o}),(()=>e?new Uint8Array([13]):void 0))},nativeEOL:function(r){let e=!1;return Rt(r,(t=>{let n;(t=e&&t[0]!==10?B.concatUint8Array([new Uint8Array([13]),t]):new Uint8Array(t))[t.length-1]===13?(e=!0,t=t.subarray(0,-1)):e=!1;let a=0;for(let o=0;o!==t.length;o=n){n=t.indexOf(13,o)+1,n||(n=t.length);const l=n-(t[n]===10?1:0);o&&t.copyWithin(a,o,l),a+=l-o}return t.subarray(0,a)}),(()=>e?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(r){return r.split(`
`).map((e=>{let t=e.length-1;for(;t>=0&&(e[t]===" "||e[t]==="	"||e[t]==="\r");t--);return e.substr(0,t+1)})).join(`
`)},wrapError:function(r,e){if(!e)return r instanceof Error?r:Error(r);if(r instanceof Error){try{r.message+=": "+e.message,r.cause=e}catch{}return r}return Error(r+": "+e.message,{cause:e})},constructAllowedPackets:function(r){const e={};return r.forEach((t=>{if(!t.tag)throw Error("Invalid input: expected a packet class");e[t.tag]=t})),e},anyPromise:function(r){return new Promise((async(e,t)=>{let n;await Promise.all(r.map((async a=>{try{e(await a)}catch(o){n=o}}))),t(n)}))},selectUint8Array:function(r,e,t){const n=Math.max(e.length,t.length),a=new Uint8Array(n);let o=0;for(let l=0;l<a.length;l++)a[l]=e[l]&256-r|t[l]&255+r,o+=r&l<e.length|1-r&l<t.length;return a.subarray(0,o)},selectUint8:function(r,e,t){return e&256-r|t&255+r},isAES:function(r){return r===A.symmetric.aes128||r===A.symmetric.aes192||r===A.symmetric.aes256}},s6=B.getNodeBuffer();let v1,S1;function Fi(r){let e=new Uint8Array;return Rt(r,(t=>{e=B.concatUint8Array([e,t]);const n=[],a=Math.floor(e.length/45),o=45*a,l=v1(e.subarray(0,o));for(let u=0;u<a;u++)n.push(l.substr(60*u,60)),n.push(`
`);return e=e.subarray(o),n.join("")}),(()=>e.length?v1(e)+`
`:""))}function Mb(r){let e="";return Rt(r,(t=>{e+=t;let n=0;const a=[" ","	","\r",`
`];for(let u=0;u<a.length;u++){const f=a[u];for(let d=e.indexOf(f);d!==-1;d=e.indexOf(f,d+1))n++}let o=e.length;for(;o>0&&(o-n)%4!=0;o--)a.includes(e[o])&&n--;const l=S1(e.substr(0,o));return e=e.substr(o),l}),(()=>S1(e)))}function Hn(r){return Mb(r.replace(/-/g,"+").replace(/_/g,"/"))}function cn(r,e){let t=Fi(r).replace(/[\r\n]/g,"");return t=t.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,""),t}function wU(r){const e=r.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!e)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(e[1])?A.armor.multipartSection:/MESSAGE, PART \d+/.test(e[1])?A.armor.multipartLast:/SIGNED MESSAGE/.test(e[1])?A.armor.signed:/MESSAGE/.test(e[1])?A.armor.message:/PUBLIC KEY BLOCK/.test(e[1])?A.armor.publicKey:/PRIVATE KEY BLOCK/.test(e[1])?A.armor.privateKey:/SIGNATURE/.test(e[1])?A.armor.signature:void 0}function Ts(r,e){let t="";return e.showVersion&&(t+="Version: "+e.versionString+`
`),e.showComment&&(t+="Comment: "+e.commentString+`
`),r&&(t+="Comment: "+r+`
`),t+=`
`,t}function Ns(r){const e=(function(t){let n=13501623;return Rt(t,(a=>{const o=EU?Math.floor(a.length/4):0,l=new Uint32Array(a.buffer,a.byteOffset,o);for(let u=0;u<o;u++)n^=l[u],n=en[0][n>>24&255]^en[1][n>>16&255]^en[2][n>>8&255]^en[3][255&n];for(let u=4*o;u<a.length;u++)n=n>>8^en[0][255&n^a[u]]}),(()=>new Uint8Array([n,n>>8,n>>16])))})(r);return Fi(e)}s6?(v1=r=>s6.from(r).toString("base64"),S1=r=>{const e=s6.from(r,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(v1=r=>btoa(B.uint8ArrayToString(r)),S1=r=>B.stringToUint8Array(atob(r)));const en=[Array(255),Array(255),Array(255),Array(255)];for(let r=0;r<=255;r++){let e=r<<16;for(let t=0;t<8;t++)e=e<<1^(8388608&e?8801531:0);en[0][r]=(16711680&e)>>16|65280&e|(255&e)<<16}for(let r=0;r<=255;r++)en[1][r]=en[0][r]>>8^en[0][255&en[0][r]];for(let r=0;r<=255;r++)en[2][r]=en[1][r]>>8^en[0][255&en[1][r]];for(let r=0;r<=255;r++)en[3][r]=en[2][r]>>8^en[0][255&en[2][r]];const EU=(function(){const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,255,!0),new Int16Array(r)[0]===255})();function e9(r){for(let e=0;e<r.length;e++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(r[e])||B.printDebugError(Error("Improperly formatted armor header: "+r[e])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(r[e])||B.printDebugError(Error("Unknown header: "+r[e]))}function vU(r){let e=r;const t=r.lastIndexOf("=");return t>=0&&t!==r.length-1&&(e=r.slice(0,t)),e}function t0(r){return new Promise((async(e,t)=>{try{const n=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let o;const l=[];let u,f,d=l,y=[];const p=Mb(fs(r,(async(m,w)=>{const E=aa(m);try{for(;;){let v=await E.readLine();if(v===void 0)throw Error("Misformed armored text");if(v=B.removeTrailingSpaces(v.replace(/[\r\n]/g,"")),o)if(u)f||o!==A.armor.signed||(n.test(v)?(y=y.join(`\r
`),f=!0,e9(d),d=[],u=!1):y.push(v.replace(/^- /,"")));else if(n.test(v)&&t(Error("Mandatory blank line missing between armor headers and armor data")),a.test(v)){if(e9(d),u=!0,f||o!==A.armor.signed){e({text:y,data:p,headers:l,type:o});break}}else d.push(v);else n.test(v)&&(o=wU(v))}}catch(v){return void t(v)}const S=lr(w);try{for(;;){await S.ready;const{done:v,value:k}=await E.read();if(v)throw Error("Misformed armored text");const D=k+"";if(D.indexOf("=")!==-1||D.indexOf("-")!==-1){let C=await E.readToEnd();C.length||(C=""),C=D+C,C=B.removeTrailingSpaces(C.replace(/\r/g,""));const N=C.split(n);if(N.length===1)throw Error("Misformed armored text");const M=vU(N[0].slice(0,-1));await S.write(M);break}await S.write(D)}await S.ready,await S.close()}catch(v){await S.abort(v)}})))}catch(n){t(n)}})).then((async e=>(Lt(e.data)&&(e.data=await Ft(e.data)),e)))}function n0(r,e,t,n,a,o=!1,l=de){let u,f;r===A.armor.signed&&(u=e.text,f=e.hash,e=e.data);const d=o&&Bu(e),y=[];switch(r){case A.armor.multipartSection:y.push("-----BEGIN PGP MESSAGE, PART "+t+"/"+n+`-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push("-----END PGP MESSAGE, PART "+t+"/"+n+`-----
`);break;case A.armor.multipartLast:y.push("-----BEGIN PGP MESSAGE, PART "+t+`-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push("-----END PGP MESSAGE, PART "+t+`-----
`);break;case A.armor.signed:y.push(`-----BEGIN PGP SIGNED MESSAGE-----
`),y.push(f?`Hash: ${f}

`:`
`),y.push(u.replace(/^-/gm,"- -")),y.push(`
-----BEGIN PGP SIGNATURE-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push(`-----END PGP SIGNATURE-----
`);break;case A.armor.message:y.push(`-----BEGIN PGP MESSAGE-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push(`-----END PGP MESSAGE-----
`);break;case A.armor.publicKey:y.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case A.armor.privateKey:y.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case A.armor.signature:y.push(`-----BEGIN PGP SIGNATURE-----
`),y.push(Ts(a,l)),y.push(Fi(e)),d&&y.push("=",Ns(d)),y.push(`-----END PGP SIGNATURE-----
`)}return B.concat(y)}const Gn=BigInt(0),kc=BigInt(1);function Ee(r){const e="0123456789ABCDEF";let t="";return r.forEach((n=>{t+=e[n>>4]+e[15&n]})),BigInt("0x0"+t)}function Ge(r,e){const t=r%e;return t<Gn?t+e:t}function nn(r,e,t){if(t===Gn)throw Error("Modulo cannot be zero");if(t===kc)return BigInt(0);if(e<Gn)throw Error("Unsopported negative exponent");let n=e,a=r;a%=t;let o=BigInt(1);for(;n>Gn;){const l=n&kc;n>>=kc,o=l?o*a%t:o,a=a*a%t}return o}function t9(r){return r>=Gn?r:-r}function Pc(r,e){const{gcd:t,x:n}=(function(a,o){let l=BigInt(0),u=BigInt(1),f=BigInt(1),d=BigInt(0),y=t9(a),p=t9(o);const m=a<Gn,w=o<Gn;for(;p!==Gn;){const E=y/p;let S=l;l=f-E*l,f=S,S=u,u=d-E*u,d=S,S=p,p=y%p,y=S}return{x:m?-f:f,y:w?-d:d,gcd:y}})(r,e);if(t!==kc)throw Error("Inverse does not exist");return Ge(n+e,e)}function i2(r){const e=Number(r);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}function SU(r,e){return(r>>BigInt(e)&kc)===Gn?0:1}function xc(r){const e=r<Gn?BigInt(-1):Gn;let t=1,n=r;for(;(n>>=kc)!==e;)t++;return t}function Fn(r){const e=r<Gn?BigInt(-1):Gn,t=BigInt(8);let n=1,a=r;for(;(a>>=t)!==e;)n++;return n}function Kt(r,e="be",t){let n=r.toString(16);n.length%2==1&&(n="0"+n);const a=n.length/2,o=new Uint8Array(t||a),l=t?t-a:0;let u=0;for(;u<a;)o[u+l]=parseInt(n.slice(2*u,2*u+2),16),u++;return e!=="be"&&o.reverse(),o}const kU=B.getNodeCrypto();function rn(r){const e=typeof crypto<"u"?crypto:kU?.webcrypto;if(e?.getRandomValues){const t=new Uint8Array(r);return e.getRandomValues(t)}throw Error("No secure random number generator available.")}function is(r,e){if(e<r)throw Error("Illegal parameter value: max <= min");const t=e-r;return Ge(Ee(rn(Fn(t)+8)),t)+r}const ri=BigInt(1);function n9(r,e,t){const n=BigInt(30),a=ri<<BigInt(r-1),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2];let l=is(a,a<<ri),u=i2(Ge(l,n));do l+=BigInt(o[u]),u=(u+o[u])%o.length,xc(l)>r&&(l=Ge(l,a<<ri),l+=a,u=i2(Ge(l,n)));while(!Lb(l,e,t));return l}function Lb(r,e,t){return(!e||(function(n,a){let o=n,l=a;for(;l!==Gn;){const u=l;l=o%l,o=u}return o})(r-ri,e)===ri)&&!!(function(n){const a=BigInt(0);return xU.every((o=>Ge(n,o)!==a))})(r)&&!!(function(n,a=BigInt(2)){return nn(a,n-ri,n)===ri})(r)&&!!(function(n,a){const o=xc(n);a||(a=Math.max(1,o/48|0));const l=n-ri;let u=0;for(;!SU(l,u);)u++;const f=n>>BigInt(u);for(;a>0;a--){let d,y=nn(is(BigInt(2),l),f,n);if(y!==ri&&y!==l){for(d=1;d<u;d++){if(y=Ge(y*y,n),y===ri)return!1;if(y===l)break}if(d===u)return!1}}return!0})(r,t)}const xU=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999].map((r=>BigInt(r))),r9=B.getWebCrypto(),k1=B.getNodeCrypto(),BU=k1&&k1.getHashes();function ca(r){if(k1&&BU.includes(r))return async function(e){const t=k1.createHash(r);return Rt(e,(n=>{t.update(n)}),(()=>new Uint8Array(t.digest())))}}function la(r,e){const t=async()=>{const{nobleHashes:n}=await Promise.resolve().then((function(){return zR})),a=n.get(r);if(!a)throw Error("Unsupported hash");return a};return async function(n){if(Lt(n)&&(n=await Ft(n)),B.isStream(n)){const a=(await t()).create();return Rt(n,(o=>{a.update(o)}),(()=>a.digest()))}return r9&&e?new Uint8Array(await r9.digest(e,n)):(await t())(n)}}const CU=ca("md5")||la("md5"),UU=ca("sha1")||la("sha1","SHA-1"),DU=ca("sha224")||la("sha224"),IU=ca("sha256")||la("sha256","SHA-256"),RU=ca("sha384")||la("sha384","SHA-384"),TU=ca("sha512")||la("sha512","SHA-512"),NU=ca("ripemd160")||la("ripemd160"),OU=ca("sha3-256")||la("sha3_256"),PU=ca("sha3-512")||la("sha3_512");function Ai(r,e){switch(r){case A.hash.md5:return CU(e);case A.hash.sha1:return UU(e);case A.hash.ripemd:return NU(e);case A.hash.sha256:return IU(e);case A.hash.sha384:return RU(e);case A.hash.sha512:return TU(e);case A.hash.sha224:return DU(e);case A.hash.sha3_256:return OU(e);case A.hash.sha3_512:return PU(e);default:throw Error("Unsupported hash function")}}function Vt(r){switch(r){case A.hash.md5:return 16;case A.hash.sha1:case A.hash.ripemd:return 20;case A.hash.sha256:return 32;case A.hash.sha384:return 48;case A.hash.sha512:return 64;case A.hash.sha224:return 28;case A.hash.sha3_256:return 32;case A.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}}const ii=[];function Qb(r,e){const t=r.length;if(t>e-11)throw Error("Message too long");const n=(function(o){const l=new Uint8Array(o);let u=0;for(;u<o;){const f=rn(o-u);for(let d=0;d<f.length;d++)f[d]!==0&&(l[u++]=f[d])}return l})(e-t-3),a=new Uint8Array(e);return a[1]=2,a.set(n,2),a.set(r,e-t),a}function Hb(r,e){let t=2,n=1;for(let u=t;u<r.length;u++)n&=r[u]!==0,t+=n;const a=t-2,o=r.subarray(t+1),l=r[0]===0&r[1]===2&a>=8&!n;if(e)return B.selectUint8Array(l,o,e);if(l)return o;throw Error("Decryption error")}function zb(r,e,t){let n;if(e.length!==Vt(r))throw Error("Invalid hash length");const a=new Uint8Array(ii[r].length);for(n=0;n<ii[r].length;n++)a[n]=ii[r][n];const o=a.length+e.length;if(t<o+11)throw Error("Intended encoded message length too short");const l=new Uint8Array(t-o-3).fill(255),u=new Uint8Array(t);return u[1]=1,u.set(l,2),u.set(a,t-o),u.set(e,t-e.length),u}ii[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],ii[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],ii[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],ii[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],ii[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],ii[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],ii[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];const Kc=B.getWebCrypto(),so=B.getNodeCrypto(),os=BigInt(1);async function KU(r,e,t,n,a,o,l,u,f){if(Vt(r)>=t.length)throw Error("Digest size cannot exceed key modulus size");if(e&&!B.isStream(e)){if(B.getWebCrypto())try{return await(async function(d,y,p,m,w,E,S,v){const k=await a2(p,m,w,E,S,v),D={name:"RSASSA-PKCS1-v1_5",hash:{name:d}},C=await Kc.importKey("jwk",k,D,!1,["sign"]);return new Uint8Array(await Kc.sign("RSASSA-PKCS1-v1_5",C,y))})(A.read(A.webHash,r),e,t,n,a,o,l,u)}catch(d){B.printDebugError(d)}else if(B.getNodeCrypto())return(async function(d,y,p,m,w,E,S,v){const k=so.createSign(A.read(A.hash,d));k.write(y),k.end();const D=await a2(p,m,w,E,S,v);return new Uint8Array(k.sign({key:D,format:"jwk",type:"pkcs1"}))})(r,e,t,n,a,o,l,u)}return(async function(d,y,p,m){y=Ee(y);const w=Ee(zb(d,m,Fn(y)));return p=Ee(p),Kt(nn(w,p,y),"be",Fn(y))})(r,t,a,f)}async function MU(r,e,t,n,a,o){if(e&&!B.isStream(e)){if(B.getWebCrypto())try{return await(async function(l,u,f,d,y){const p=s2(d,y),m=await Kc.importKey("jwk",p,{name:"RSASSA-PKCS1-v1_5",hash:{name:l}},!1,["verify"]);return Kc.verify("RSASSA-PKCS1-v1_5",m,f,u)})(A.read(A.webHash,r),e,t,n,a)}catch(l){B.printDebugError(l)}else if(B.getNodeCrypto())return(async function(l,u,f,d,y){const p=s2(d,y),m={key:p,format:"jwk",type:"pkcs1"},w=so.createVerify(A.read(A.hash,l));w.write(u),w.end();try{return w.verify(m,f)}catch{return!1}})(r,e,t,n,a)}return(async function(l,u,f,d,y){if(f=Ee(f),u=Ee(u),d=Ee(d),u>=f)throw Error("Signature size cannot exceed modulus size");const p=Kt(nn(u,d,f),"be",Fn(f)),m=zb(l,y,Fn(f));return B.equalsUint8Array(p,m)})(r,t,n,a,o)}async function LU(r,e,t){return B.getNodeCrypto()?(async function(n,a,o){const l=s2(a,o),u={key:l,format:"jwk",type:"pkcs1",padding:so.constants.RSA_PKCS1_PADDING};return new Uint8Array(so.publicEncrypt(u,n))})(r,e,t):(async function(n,a,o){if(a=Ee(a),n=Ee(Qb(n,Fn(a))),o=Ee(o),n>=a)throw Error("Message size cannot exceed modulus size");return Kt(nn(n,o,a),"be",Fn(a))})(r,e,t)}async function QU(r,e,t,n,a,o,l,u){if(B.getNodeCrypto()&&!u)try{return await(async function(f,d,y,p,m,w,E){const S=await a2(d,y,p,m,w,E),v={key:S,format:"jwk",type:"pkcs1",padding:so.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(so.privateDecrypt(v,f))}catch{throw Error("Decryption error")}})(r,e,t,n,a,o,l)}catch(f){B.printDebugError(f)}return(async function(f,d,y,p,m,w,E,S){if(f=Ee(f),d=Ee(d),y=Ee(y),p=Ee(p),m=Ee(m),w=Ee(w),E=Ee(E),f>=d)throw Error("Data too large.");const v=Ge(p,w-os),k=Ge(p,m-os),D=is(BigInt(2),d),C=nn(Pc(D,d),y,d);f=Ge(f*C,d);const N=nn(f,k,m),M=nn(f,v,w);let I=Ge(E*(M-N),w)*m+N;return I=Ge(I*D,d),Hb(Kt(I,"be",Fn(d)),S)})(r,e,t,n,a,o,l,u)}async function a2(r,e,t,n,a,o){const l=Ee(n),u=Ee(a),f=Ee(t);let d=Ge(f,u-os),y=Ge(f,l-os);return y=Kt(y),d=Kt(d),{kty:"RSA",n:cn(r),e:cn(e),d:cn(t),p:cn(a),q:cn(n),dp:cn(d),dq:cn(y),qi:cn(o),ext:!0}}function s2(r,e){return{kty:"RSA",n:cn(r),e:cn(e),ext:!0}}function i9(r,e){return{n:Hn(r.n),e:Kt(e),d:Hn(r.d),p:Hn(r.q),q:Hn(r.p),u:Hn(r.qi)}}const Za=BigInt(1),o6=typeof An=="object"&&"crypto"in An?An.crypto:void 0,mt={};var we=function(r){var e,t=new Float64Array(16);if(r)for(e=0;e<r.length;e++)t[e]=r[e];return t},o2=function(){throw Error("no PRNG")},Gb=new Uint8Array(32);Gb[0]=9;var c2=we(),x1=we([1]),HU=we([56129,1]),zU=we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),GU=we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),a9=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),s9=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),FU=we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o9(r,e,t,n){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=255&t,r[e+4]=n>>24&255,r[e+5]=n>>16&255,r[e+6]=n>>8&255,r[e+7]=255&n}function Fb(r,e,t,n){return(function(a,o,l,u,f){var d,y=0;for(d=0;d<f;d++)y|=a[o+d]^l[u+d];return(1&y-1>>>8)-1})(r,e,t,n,32)}function Wa(r,e){var t;for(t=0;t<16;t++)r[t]=0|e[t]}function c6(r){var e,t,n=1;for(e=0;e<16;e++)t=r[e]+n+65535,n=Math.floor(t/65536),r[e]=t-65536*n;r[0]+=n-1+37*(n-1)}function gc(r,e,t){for(var n,a=~(t-1),o=0;o<16;o++)n=a&(r[o]^e[o]),r[o]^=n,e[o]^=n}function Qu(r,e){var t,n,a,o=we(),l=we();for(t=0;t<16;t++)l[t]=e[t];for(c6(l),c6(l),c6(l),n=0;n<2;n++){for(o[0]=l[0]-65517,t=1;t<15;t++)o[t]=l[t]-65535-(o[t-1]>>16&1),o[t-1]&=65535;o[15]=l[15]-32767-(o[14]>>16&1),a=o[15]>>16&1,o[14]&=65535,gc(l,o,1-a)}for(t=0;t<16;t++)r[2*t]=255&l[t],r[2*t+1]=l[t]>>8}function c9(r,e){var t=new Uint8Array(32),n=new Uint8Array(32);return Qu(t,r),Qu(n,e),Fb(t,0,n,0)}function _b(r){var e=new Uint8Array(32);return Qu(e,r),1&e[0]}function jb(r,e){var t;for(t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function li(r,e,t){for(var n=0;n<16;n++)r[n]=e[n]+t[n]}function hi(r,e,t){for(var n=0;n<16;n++)r[n]=e[n]-t[n]}function _e(r,e,t){var n,a,o=0,l=0,u=0,f=0,d=0,y=0,p=0,m=0,w=0,E=0,S=0,v=0,k=0,D=0,C=0,N=0,M=0,K=0,I=0,U=0,R=0,L=0,Q=0,F=0,G=0,Z=0,H=0,O=0,j=0,ee=0,ne=0,P=t[0],_=t[1],q=t[2],W=t[3],X=t[4],ce=t[5],le=t[6],ve=t[7],ye=t[8],Be=t[9],Ie=t[10],Me=t[11],Ue=t[12],qe=t[13],Ye=t[14],tt=t[15];o+=(n=e[0])*P,l+=n*_,u+=n*q,f+=n*W,d+=n*X,y+=n*ce,p+=n*le,m+=n*ve,w+=n*ye,E+=n*Be,S+=n*Ie,v+=n*Me,k+=n*Ue,D+=n*qe,C+=n*Ye,N+=n*tt,l+=(n=e[1])*P,u+=n*_,f+=n*q,d+=n*W,y+=n*X,p+=n*ce,m+=n*le,w+=n*ve,E+=n*ye,S+=n*Be,v+=n*Ie,k+=n*Me,D+=n*Ue,C+=n*qe,N+=n*Ye,M+=n*tt,u+=(n=e[2])*P,f+=n*_,d+=n*q,y+=n*W,p+=n*X,m+=n*ce,w+=n*le,E+=n*ve,S+=n*ye,v+=n*Be,k+=n*Ie,D+=n*Me,C+=n*Ue,N+=n*qe,M+=n*Ye,K+=n*tt,f+=(n=e[3])*P,d+=n*_,y+=n*q,p+=n*W,m+=n*X,w+=n*ce,E+=n*le,S+=n*ve,v+=n*ye,k+=n*Be,D+=n*Ie,C+=n*Me,N+=n*Ue,M+=n*qe,K+=n*Ye,I+=n*tt,d+=(n=e[4])*P,y+=n*_,p+=n*q,m+=n*W,w+=n*X,E+=n*ce,S+=n*le,v+=n*ve,k+=n*ye,D+=n*Be,C+=n*Ie,N+=n*Me,M+=n*Ue,K+=n*qe,I+=n*Ye,U+=n*tt,y+=(n=e[5])*P,p+=n*_,m+=n*q,w+=n*W,E+=n*X,S+=n*ce,v+=n*le,k+=n*ve,D+=n*ye,C+=n*Be,N+=n*Ie,M+=n*Me,K+=n*Ue,I+=n*qe,U+=n*Ye,R+=n*tt,p+=(n=e[6])*P,m+=n*_,w+=n*q,E+=n*W,S+=n*X,v+=n*ce,k+=n*le,D+=n*ve,C+=n*ye,N+=n*Be,M+=n*Ie,K+=n*Me,I+=n*Ue,U+=n*qe,R+=n*Ye,L+=n*tt,m+=(n=e[7])*P,w+=n*_,E+=n*q,S+=n*W,v+=n*X,k+=n*ce,D+=n*le,C+=n*ve,N+=n*ye,M+=n*Be,K+=n*Ie,I+=n*Me,U+=n*Ue,R+=n*qe,L+=n*Ye,Q+=n*tt,w+=(n=e[8])*P,E+=n*_,S+=n*q,v+=n*W,k+=n*X,D+=n*ce,C+=n*le,N+=n*ve,M+=n*ye,K+=n*Be,I+=n*Ie,U+=n*Me,R+=n*Ue,L+=n*qe,Q+=n*Ye,F+=n*tt,E+=(n=e[9])*P,S+=n*_,v+=n*q,k+=n*W,D+=n*X,C+=n*ce,N+=n*le,M+=n*ve,K+=n*ye,I+=n*Be,U+=n*Ie,R+=n*Me,L+=n*Ue,Q+=n*qe,F+=n*Ye,G+=n*tt,S+=(n=e[10])*P,v+=n*_,k+=n*q,D+=n*W,C+=n*X,N+=n*ce,M+=n*le,K+=n*ve,I+=n*ye,U+=n*Be,R+=n*Ie,L+=n*Me,Q+=n*Ue,F+=n*qe,G+=n*Ye,Z+=n*tt,v+=(n=e[11])*P,k+=n*_,D+=n*q,C+=n*W,N+=n*X,M+=n*ce,K+=n*le,I+=n*ve,U+=n*ye,R+=n*Be,L+=n*Ie,Q+=n*Me,F+=n*Ue,G+=n*qe,Z+=n*Ye,H+=n*tt,k+=(n=e[12])*P,D+=n*_,C+=n*q,N+=n*W,M+=n*X,K+=n*ce,I+=n*le,U+=n*ve,R+=n*ye,L+=n*Be,Q+=n*Ie,F+=n*Me,G+=n*Ue,Z+=n*qe,H+=n*Ye,O+=n*tt,D+=(n=e[13])*P,C+=n*_,N+=n*q,M+=n*W,K+=n*X,I+=n*ce,U+=n*le,R+=n*ve,L+=n*ye,Q+=n*Be,F+=n*Ie,G+=n*Me,Z+=n*Ue,H+=n*qe,O+=n*Ye,j+=n*tt,C+=(n=e[14])*P,N+=n*_,M+=n*q,K+=n*W,I+=n*X,U+=n*ce,R+=n*le,L+=n*ve,Q+=n*ye,F+=n*Be,G+=n*Ie,Z+=n*Me,H+=n*Ue,O+=n*qe,j+=n*Ye,ee+=n*tt,N+=(n=e[15])*P,l+=38*(K+=n*q),u+=38*(I+=n*W),f+=38*(U+=n*X),d+=38*(R+=n*ce),y+=38*(L+=n*le),p+=38*(Q+=n*ve),m+=38*(F+=n*ye),w+=38*(G+=n*Be),E+=38*(Z+=n*Ie),S+=38*(H+=n*Me),v+=38*(O+=n*Ue),k+=38*(j+=n*qe),D+=38*(ee+=n*Ye),C+=38*(ne+=n*tt),o=(n=(o+=38*(M+=n*_))+(a=1)+65535)-65536*(a=Math.floor(n/65536)),l=(n=l+a+65535)-65536*(a=Math.floor(n/65536)),u=(n=u+a+65535)-65536*(a=Math.floor(n/65536)),f=(n=f+a+65535)-65536*(a=Math.floor(n/65536)),d=(n=d+a+65535)-65536*(a=Math.floor(n/65536)),y=(n=y+a+65535)-65536*(a=Math.floor(n/65536)),p=(n=p+a+65535)-65536*(a=Math.floor(n/65536)),m=(n=m+a+65535)-65536*(a=Math.floor(n/65536)),w=(n=w+a+65535)-65536*(a=Math.floor(n/65536)),E=(n=E+a+65535)-65536*(a=Math.floor(n/65536)),S=(n=S+a+65535)-65536*(a=Math.floor(n/65536)),v=(n=v+a+65535)-65536*(a=Math.floor(n/65536)),k=(n=k+a+65535)-65536*(a=Math.floor(n/65536)),D=(n=D+a+65535)-65536*(a=Math.floor(n/65536)),C=(n=C+a+65535)-65536*(a=Math.floor(n/65536)),N=(n=N+a+65535)-65536*(a=Math.floor(n/65536)),o=(n=(o+=a-1+37*(a-1))+(a=1)+65535)-65536*(a=Math.floor(n/65536)),l=(n=l+a+65535)-65536*(a=Math.floor(n/65536)),u=(n=u+a+65535)-65536*(a=Math.floor(n/65536)),f=(n=f+a+65535)-65536*(a=Math.floor(n/65536)),d=(n=d+a+65535)-65536*(a=Math.floor(n/65536)),y=(n=y+a+65535)-65536*(a=Math.floor(n/65536)),p=(n=p+a+65535)-65536*(a=Math.floor(n/65536)),m=(n=m+a+65535)-65536*(a=Math.floor(n/65536)),w=(n=w+a+65535)-65536*(a=Math.floor(n/65536)),E=(n=E+a+65535)-65536*(a=Math.floor(n/65536)),S=(n=S+a+65535)-65536*(a=Math.floor(n/65536)),v=(n=v+a+65535)-65536*(a=Math.floor(n/65536)),k=(n=k+a+65535)-65536*(a=Math.floor(n/65536)),D=(n=D+a+65535)-65536*(a=Math.floor(n/65536)),C=(n=C+a+65535)-65536*(a=Math.floor(n/65536)),N=(n=N+a+65535)-65536*(a=Math.floor(n/65536)),o+=a-1+37*(a-1),r[0]=o,r[1]=l,r[2]=u,r[3]=f,r[4]=d,r[5]=y,r[6]=p,r[7]=m,r[8]=w,r[9]=E,r[10]=S,r[11]=v,r[12]=k,r[13]=D,r[14]=C,r[15]=N}function zr(r,e){_e(r,e,e)}function Vb(r,e){var t,n=we();for(t=0;t<16;t++)n[t]=e[t];for(t=253;t>=0;t--)zr(n,n),t!==2&&t!==4&&_e(n,n,e);for(t=0;t<16;t++)r[t]=n[t]}function qb(r,e,t){var n,a,o=new Uint8Array(32),l=new Float64Array(80),u=we(),f=we(),d=we(),y=we(),p=we(),m=we();for(a=0;a<31;a++)o[a]=e[a];for(o[31]=127&e[31]|64,o[0]&=248,jb(l,t),a=0;a<16;a++)f[a]=l[a],y[a]=u[a]=d[a]=0;for(u[0]=y[0]=1,a=254;a>=0;--a)gc(u,f,n=o[a>>>3]>>>(7&a)&1),gc(d,y,n),li(p,u,d),hi(u,u,d),li(d,f,y),hi(f,f,y),zr(y,p),zr(m,u),_e(u,d,u),_e(d,f,p),li(p,u,d),hi(u,u,d),zr(f,u),hi(d,y,m),_e(u,d,HU),li(u,u,y),_e(d,d,u),_e(u,y,m),_e(y,f,l),zr(f,p),gc(u,f,n),gc(d,y,n);for(a=0;a<16;a++)l[a+16]=u[a],l[a+32]=d[a],l[a+48]=f[a],l[a+64]=y[a];var w=l.subarray(32),E=l.subarray(16);return Vb(w,w),_e(E,E,w),Qu(r,E),0}function l9(r,e){return qb(r,e,Gb)}var u9=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function f9(r,e,t,n){for(var a,o,l,u,f,d,y,p,m,w,E,S,v,k,D,C,N,M,K,I,U,R,L,Q,F,G,Z=new Int32Array(16),H=new Int32Array(16),O=r[0],j=r[1],ee=r[2],ne=r[3],P=r[4],_=r[5],q=r[6],W=r[7],X=e[0],ce=e[1],le=e[2],ve=e[3],ye=e[4],Be=e[5],Ie=e[6],Me=e[7],Ue=0;n>=128;){for(K=0;K<16;K++)I=8*K+Ue,Z[K]=t[I+0]<<24|t[I+1]<<16|t[I+2]<<8|t[I+3],H[K]=t[I+4]<<24|t[I+5]<<16|t[I+6]<<8|t[I+7];for(K=0;K<80;K++)if(a=O,o=j,l=ee,u=ne,f=P,d=_,y=q,m=X,w=ce,E=le,S=ve,v=ye,k=Be,D=Ie,L=65535&(R=Me),Q=R>>>16,F=65535&(U=W),G=U>>>16,L+=65535&(R=(ye>>>14|P<<18)^(ye>>>18|P<<14)^(P>>>9|ye<<23)),Q+=R>>>16,F+=65535&(U=(P>>>14|ye<<18)^(P>>>18|ye<<14)^(ye>>>9|P<<23)),G+=U>>>16,L+=65535&(R=ye&Be^~ye&Ie),Q+=R>>>16,F+=65535&(U=P&_^~P&q),G+=U>>>16,L+=65535&(R=u9[2*K+1]),Q+=R>>>16,F+=65535&(U=u9[2*K]),G+=U>>>16,U=Z[K%16],Q+=(R=H[K%16])>>>16,F+=65535&U,G+=U>>>16,F+=(Q+=(L+=65535&R)>>>16)>>>16,L=65535&(R=M=65535&L|Q<<16),Q=R>>>16,F=65535&(U=N=65535&F|(G+=F>>>16)<<16),G=U>>>16,L+=65535&(R=(X>>>28|O<<4)^(O>>>2|X<<30)^(O>>>7|X<<25)),Q+=R>>>16,F+=65535&(U=(O>>>28|X<<4)^(X>>>2|O<<30)^(X>>>7|O<<25)),G+=U>>>16,Q+=(R=X&ce^X&le^ce&le)>>>16,F+=65535&(U=O&j^O&ee^j&ee),G+=U>>>16,p=65535&(F+=(Q+=(L+=65535&R)>>>16)>>>16)|(G+=F>>>16)<<16,C=65535&L|Q<<16,L=65535&(R=S),Q=R>>>16,F=65535&(U=u),G=U>>>16,Q+=(R=M)>>>16,F+=65535&(U=N),G+=U>>>16,j=a,ee=o,ne=l,P=u=65535&(F+=(Q+=(L+=65535&R)>>>16)>>>16)|(G+=F>>>16)<<16,_=f,q=d,W=y,O=p,ce=m,le=w,ve=E,ye=S=65535&L|Q<<16,Be=v,Ie=k,Me=D,X=C,K%16==15)for(I=0;I<16;I++)U=Z[I],L=65535&(R=H[I]),Q=R>>>16,F=65535&U,G=U>>>16,U=Z[(I+9)%16],L+=65535&(R=H[(I+9)%16]),Q+=R>>>16,F+=65535&U,G+=U>>>16,N=Z[(I+1)%16],L+=65535&(R=((M=H[(I+1)%16])>>>1|N<<31)^(M>>>8|N<<24)^(M>>>7|N<<25)),Q+=R>>>16,F+=65535&(U=(N>>>1|M<<31)^(N>>>8|M<<24)^N>>>7),G+=U>>>16,N=Z[(I+14)%16],Q+=(R=((M=H[(I+14)%16])>>>19|N<<13)^(N>>>29|M<<3)^(M>>>6|N<<26))>>>16,F+=65535&(U=(N>>>19|M<<13)^(M>>>29|N<<3)^N>>>6),G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,Z[I]=65535&F|G<<16,H[I]=65535&L|Q<<16;L=65535&(R=X),Q=R>>>16,F=65535&(U=O),G=U>>>16,U=r[0],Q+=(R=e[0])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[0]=O=65535&F|G<<16,e[0]=X=65535&L|Q<<16,L=65535&(R=ce),Q=R>>>16,F=65535&(U=j),G=U>>>16,U=r[1],Q+=(R=e[1])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[1]=j=65535&F|G<<16,e[1]=ce=65535&L|Q<<16,L=65535&(R=le),Q=R>>>16,F=65535&(U=ee),G=U>>>16,U=r[2],Q+=(R=e[2])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[2]=ee=65535&F|G<<16,e[2]=le=65535&L|Q<<16,L=65535&(R=ve),Q=R>>>16,F=65535&(U=ne),G=U>>>16,U=r[3],Q+=(R=e[3])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[3]=ne=65535&F|G<<16,e[3]=ve=65535&L|Q<<16,L=65535&(R=ye),Q=R>>>16,F=65535&(U=P),G=U>>>16,U=r[4],Q+=(R=e[4])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[4]=P=65535&F|G<<16,e[4]=ye=65535&L|Q<<16,L=65535&(R=Be),Q=R>>>16,F=65535&(U=_),G=U>>>16,U=r[5],Q+=(R=e[5])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[5]=_=65535&F|G<<16,e[5]=Be=65535&L|Q<<16,L=65535&(R=Ie),Q=R>>>16,F=65535&(U=q),G=U>>>16,U=r[6],Q+=(R=e[6])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[6]=q=65535&F|G<<16,e[6]=Ie=65535&L|Q<<16,L=65535&(R=Me),Q=R>>>16,F=65535&(U=W),G=U>>>16,U=r[7],Q+=(R=e[7])>>>16,F+=65535&U,G+=U>>>16,G+=(F+=(Q+=(L+=65535&R)>>>16)>>>16)>>>16,r[7]=W=65535&F|G<<16,e[7]=Me=65535&L|Q<<16,Ue+=128,n-=128}return n}function pu(r,e,t){var n,a=new Int32Array(8),o=new Int32Array(8),l=new Uint8Array(256),u=t;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,f9(a,o,e,t),t%=128,n=0;n<t;n++)l[n]=e[u-t+n];for(l[t]=128,l[(t=256-128*(t<112?1:0))-9]=0,o9(l,t-8,u/536870912|0,u<<3),f9(a,o,l,t),n=0;n<8;n++)o9(r,8*n,a[n],o[n]);return 0}function l2(r,e){var t=we(),n=we(),a=we(),o=we(),l=we(),u=we(),f=we(),d=we(),y=we();hi(t,r[1],r[0]),hi(y,e[1],e[0]),_e(t,t,y),li(n,r[0],r[1]),li(y,e[0],e[1]),_e(n,n,y),_e(a,r[3],e[3]),_e(a,a,GU),_e(o,r[2],e[2]),li(o,o,o),hi(l,n,t),hi(u,o,a),li(f,o,a),li(d,n,t),_e(r[0],l,u),_e(r[1],d,f),_e(r[2],f,u),_e(r[3],l,d)}function h9(r,e,t){var n;for(n=0;n<4;n++)gc(r[n],e[n],t)}function u2(r,e){var t=we(),n=we(),a=we();Vb(a,e[2]),_e(t,e[0],a),_e(n,e[1],a),Qu(r,n),r[31]^=_b(t)<<7}function Yb(r,e,t){var n,a;for(Wa(r[0],c2),Wa(r[1],x1),Wa(r[2],x1),Wa(r[3],c2),a=255;a>=0;--a)h9(r,e,n=t[a/8|0]>>(7&a)&1),l2(e,r),l2(r,r),h9(r,e,n)}function f2(r,e){var t=[we(),we(),we(),we()];Wa(t[0],a9),Wa(t[1],s9),Wa(t[2],x1),_e(t[3],a9,s9),Yb(r,t,e)}function d9(r,e,t){var n,a=new Uint8Array(64),o=[we(),we(),we(),we()];for(t||o2(e,32),pu(a,e,32),a[0]&=248,a[31]&=127,a[31]|=64,f2(o,a),u2(r,o),n=0;n<32;n++)e[n+32]=r[n];return 0}var l6=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Zb(r,e){var t,n,a,o;for(n=63;n>=32;--n){for(t=0,a=n-32,o=n-12;a<o;++a)e[a]+=t-16*e[n]*l6[a-(n-32)],t=Math.floor((e[a]+128)/256),e[a]-=256*t;e[a]+=t,e[n]=0}for(t=0,a=0;a<32;a++)e[a]+=t-(e[31]>>4)*l6[a],t=e[a]>>8,e[a]&=255;for(a=0;a<32;a++)e[a]-=t*l6[a];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,r[n]=255&e[n]}function u6(r){var e,t=new Float64Array(64);for(e=0;e<64;e++)t[e]=r[e];for(e=0;e<64;e++)r[e]=0;Zb(r,t)}function _U(r,e){var t=we(),n=we(),a=we(),o=we(),l=we(),u=we(),f=we();return Wa(r[2],x1),jb(r[1],e),zr(a,r[1]),_e(o,a,zU),hi(a,a,r[2]),li(o,r[2],o),zr(l,o),zr(u,l),_e(f,u,l),_e(t,f,a),_e(t,t,o),(function(d,y){var p,m=we();for(p=0;p<16;p++)m[p]=y[p];for(p=250;p>=0;p--)zr(m,m),p!==1&&_e(m,m,y);for(p=0;p<16;p++)d[p]=m[p]})(t,t),_e(t,t,a),_e(t,t,o),_e(t,t,o),_e(r[0],t,o),zr(n,r[0]),_e(n,n,o),c9(n,a)&&_e(r[0],r[0],FU),zr(n,r[0]),_e(n,n,o),c9(n,a)?-1:(_b(r[0])===e[31]>>7&&hi(r[0],c2,r[0]),_e(r[3],r[0],r[1]),0)}var Os=64;function sc(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}mt.scalarMult=function(r,e){if(sc(r,e),r.length!==32)throw Error("bad n size");if(e.length!==32)throw Error("bad p size");var t=new Uint8Array(32);return qb(t,r,e),t},mt.box={},mt.box.keyPair=function(){var r=new Uint8Array(32),e=new Uint8Array(32);return(function(t,n){o2(n,32),l9(t,n)})(r,e),{publicKey:r,secretKey:e}},mt.box.keyPair.fromSecretKey=function(r){if(sc(r),r.length!==32)throw Error("bad secret key size");var e=new Uint8Array(32);return l9(e,r),{publicKey:e,secretKey:new Uint8Array(r)}},mt.sign=function(r,e){if(sc(r,e),e.length!==64)throw Error("bad secret key size");var t=new Uint8Array(Os+r.length);return(function(n,a,o,l){var u,f,d=new Uint8Array(64),y=new Uint8Array(64),p=new Uint8Array(64),m=new Float64Array(64),w=[we(),we(),we(),we()];for(pu(d,l,32),d[0]&=248,d[31]&=127,d[31]|=64,u=0;u<o;u++)n[64+u]=a[u];for(u=0;u<32;u++)n[32+u]=d[32+u];for(pu(p,n.subarray(32),o+32),u6(p),f2(w,p),u2(n,w),u=32;u<64;u++)n[u]=l[u];for(pu(y,n,o+64),u6(y),u=0;u<64;u++)m[u]=0;for(u=0;u<32;u++)m[u]=p[u];for(u=0;u<32;u++)for(f=0;f<32;f++)m[u+f]+=y[u]*d[f];Zb(n.subarray(32),m)})(t,r,r.length,e),t},mt.sign.detached=function(r,e){for(var t=mt.sign(r,e),n=new Uint8Array(Os),a=0;a<n.length;a++)n[a]=t[a];return n},mt.sign.detached.verify=function(r,e,t){if(sc(r,e,t),e.length!==Os)throw Error("bad signature size");if(t.length!==32)throw Error("bad public key size");var n,a=new Uint8Array(Os+r.length),o=new Uint8Array(Os+r.length);for(n=0;n<Os;n++)a[n]=e[n];for(n=0;n<r.length;n++)a[n+Os]=r[n];return(function(l,u,f,d){var y,p=new Uint8Array(32),m=new Uint8Array(64),w=[we(),we(),we(),we()],E=[we(),we(),we(),we()];if(f<64||_U(E,d))return-1;for(y=0;y<f;y++)l[y]=u[y];for(y=0;y<32;y++)l[y+32]=d[y];if(pu(m,l,f),u6(m),Yb(w,E,m),f2(E,u.subarray(32)),l2(w,E),u2(p,w),f-=64,Fb(u,0,p,0)){for(y=0;y<f;y++)l[y]=0;return-1}for(y=0;y<f;y++)l[y]=u[y+64];return f})(o,a,a.length,t)>=0},mt.sign.keyPair=function(){var r=new Uint8Array(32),e=new Uint8Array(64);return d9(r,e),{publicKey:r,secretKey:e}},mt.sign.keyPair.fromSecretKey=function(r){if(sc(r),r.length!==64)throw Error("bad secret key size");for(var e=new Uint8Array(32),t=0;t<e.length;t++)e[t]=r[32+t];return{publicKey:e,secretKey:new Uint8Array(r)}},mt.sign.keyPair.fromSeed=function(r){if(sc(r),r.length!==32)throw Error("bad seed size");for(var e=new Uint8Array(32),t=new Uint8Array(64),n=0;n<32;n++)t[n]=r[n];return d9(e,t,!0),{publicKey:e,secretKey:t}},mt.setPRNG=function(r){o2=r},(function(){o6&&o6.getRandomValues&&mt.setPRNG((function(r,e){var t,n=new Uint8Array(e);for(t=0;t<e;t+=65536)o6.getRandomValues(n.subarray(t,t+Math.min(e-t,65536)));for(t=0;t<e;t++)r[t]=n[t];(function(a){for(var o=0;o<a.length;o++)a[o]=0})(n)}))})();const jU={"2a8648ce3d030107":A.curve.nistP256,"2b81040022":A.curve.nistP384,"2b81040023":A.curve.nistP521,"2b8104000a":A.curve.secp256k1,"2b06010401da470f01":A.curve.ed25519Legacy,"2b060104019755010501":A.curve.curve25519Legacy,"2b2403030208010107":A.curve.brainpoolP256r1,"2b240303020801010b":A.curve.brainpoolP384r1,"2b240303020801010d":A.curve.brainpoolP512r1};class $i{constructor(e){if(e instanceof $i)this.oid=e.oid;else if(B.isArray(e)||B.isUint8Array(e)){if((e=new Uint8Array(e))[0]===6){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return B.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return B.uint8ArrayToHex(this.oid)}getName(){const e=jU[this.toHex()];if(!e)throw Error("Unknown curve object identifier.");return e}}function Jb(r){let e,t=0;const n=r[0];return n<192?([t]=r,e=1):n<255?(t=(r[0]-192<<8)+r[1]+192,e=2):n===255&&(t=B.readNumber(r.subarray(1,5)),e=5),{len:t,offset:e}}function sh(r){return r<192?new Uint8Array([r]):r>191&&r<8384?new Uint8Array([192+(r-192>>8),r-192&255]):B.concatUint8Array([new Uint8Array([255]),B.writeNumber(r,4)])}function VU(r){if(r<0||r>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+r])}function B1(r){return new Uint8Array([192|r])}function y9(r,e){return B.concatUint8Array([B1(r),sh(e)])}function t1(r){return[A.packet.literalData,A.packet.compressedData,A.packet.symmetricallyEncryptedData,A.packet.symEncryptedIntegrityProtectedData,A.packet.aeadEncryptedData].includes(r)}async function qU(r,e,t){let n,a;try{const o=await r.peekBytes(2);if(!o||o.length<2||!(128&o[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const l=await r.readByte();let u,f,d=-1,y=-1;y=0,64&l&&(y=1),y?d=63&l:(d=(63&l)>>2,f=3&l);const p=t1(d);let m,w=null;if(e&&p){if(e==="array"){const E=new kr;n=lr(E),w=E}else{const E=new TransformStream;n=lr(E.writable),w=E.readable}a=t({tag:d,packet:w})}else w=[];do{if(y){const E=await r.readByte();if(m=!1,E<192)u=E;else if(E>=192&&E<224)u=(E-192<<8)+await r.readByte()+192;else if(E>223&&E<255){if(u=1<<(31&E),m=!0,!p)throw new TypeError("This packet type does not support partial lengths.")}else u=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(f){case 0:u=await r.readByte();break;case 1:u=await r.readByte()<<8|await r.readByte();break;case 2:u=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:u=1/0}if(u>0){let E=0;for(;;){n&&await n.ready;const{done:S,value:v}=await r.read();if(S){if(u===1/0)break;throw Error("Unexpected end of packet")}const k=u===1/0?v:v.subarray(0,u-E);if(n?await n.write(k):w.push(k),E+=v.length,E>=u){r.unshift(v.subarray(u-E+v.length));break}}}}while(m);n?(await n.ready,await n.close()):(w=B.concatUint8Array(w),await t({tag:d,packet:w}))}catch(o){if(n)return await n.abort(o),!0;throw o}finally{n&&await a}}class Xe extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,Xe),this.name="UnsupportedError"}}class n1 extends Xe{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,Xe),this.name="UnknownPacketError"}}class f6 extends Xe{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,Xe),this.name="MalformedPacketError"}}class h2{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}async function h3(r){switch(r){case A.publicKey.ed25519:try{const e=B.getWebCrypto(),t=await e.generateKey("Ed25519",!0,["sign","verify"]).catch((o=>{if(o.name==="OperationError"){const l=Error("Unexpected key generation issue");throw l.name="NotSupportedError",l}throw o})),n=await e.exportKey("jwk",t.privateKey),a=await e.exportKey("jwk",t.publicKey);return{A:new Uint8Array(Hn(a.x)),seed:Hn(n.d)}}catch(e){if(e.name!=="NotSupportedError")throw e;const t=rn(oh(r)),{publicKey:n}=mt.sign.keyPair.fromSeed(t);return{A:n,seed:t}}case A.publicKey.ed448:{const e=await B.getNobleCurve(A.publicKey.ed448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),seed:t}}default:throw Error("Unsupported EdDSA algorithm")}}async function d3(r,e,t,n,a,o){if(Vt(e)<Vt(ch(r)))throw Error("Hash algorithm too weak for EdDSA.");switch(r){case A.publicKey.ed25519:try{const l=B.getWebCrypto(),u=YU(r,n,a),f=await l.importKey("jwk",u,"Ed25519",!1,["sign"]);return{RS:new Uint8Array(await l.sign("Ed25519",f,o))}}catch(l){if(l.name!=="NotSupportedError")throw l;const u=B.concatUint8Array([a,n]);return{RS:mt.sign.detached(o,u)}}case A.publicKey.ed448:return{RS:(await B.getNobleCurve(A.publicKey.ed448)).sign(o,a)};default:throw Error("Unsupported EdDSA algorithm")}}async function y3(r,e,{RS:t},n,a,o){if(Vt(e)<Vt(ch(r)))throw Error("Hash algorithm too weak for EdDSA.");switch(r){case A.publicKey.ed25519:try{const l=B.getWebCrypto(),u=Wb(r,a),f=await l.importKey("jwk",u,"Ed25519",!1,["verify"]);return await l.verify("Ed25519",f,t,o)}catch(l){if(l.name!=="NotSupportedError")throw l;return mt.sign.detached.verify(o,t,a)}case A.publicKey.ed448:return(await B.getNobleCurve(A.publicKey.ed448)).verify(t,o,a);default:throw Error("Unsupported EdDSA algorithm")}}async function Xb(r,e,t){switch(r){case A.publicKey.ed25519:{const{publicKey:n}=mt.sign.keyPair.fromSeed(t);return B.equalsUint8Array(e,n)}case A.publicKey.ed448:{const n=(await B.getNobleCurve(A.publicKey.ed448)).getPublicKey(t);return B.equalsUint8Array(e,n)}default:return!1}}function oh(r){switch(r){case A.publicKey.ed25519:return 32;case A.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function ch(r){switch(r){case A.publicKey.ed25519:return A.hash.sha256;case A.publicKey.ed448:return A.hash.sha512;default:throw Error("Unknown EdDSA algo")}}const Wb=(r,e)=>{if(r===A.publicKey.ed25519)return{kty:"OKP",crv:"Ed25519",x:cn(e),ext:!0};throw Error("Unsupported EdDSA algorithm")},YU=(r,e,t)=>{if(r===A.publicKey.ed25519){const n=Wb(r,e);return n.d=cn(t),n}throw Error("Unsupported EdDSA algorithm")};var ZU=Object.freeze({__proto__:null,generate:h3,getPayloadSize:oh,getPreferredHashAlgo:ch,sign:d3,validateParams:Xb,verify:y3});/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function $b(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function At(r,...e){if(!$b(r))throw Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw Error("Uint8Array expected of length "+e+", got length="+r.length)}function C1(r,e=!0){if(r.destroyed)throw Error("Hash instance has been destroyed");if(e&&r.finished)throw Error("Hash#digest() has already been called")}function eA(r,e){At(r);const t=e.outputLen;if(r.length<t)throw Error("digestInto() expects output buffer of length at least "+t)}function p3(r){return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function ht(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function wn(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function lh(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}const JU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Hu(r){if(typeof r=="string")r=(function(e){if(typeof e!="string")throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))})(r);else{if(!$b(r))throw Error("Uint8Array expected, got "+typeof r);r=zn(r)}return r}function tA(r,e){return r.buffer===e.buffer&&r.byteOffset<e.byteOffset+e.byteLength&&e.byteOffset<r.byteOffset+r.byteLength}function d2(r,e){if(tA(r,e)&&r.byteOffset<e.byteOffset)throw Error("complex overlap of input and output is not supported")}function nA(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}const r0=(r,e)=>{function t(n,...a){if(At(n),!JU)throw Error("Non little-endian hardware is not yet supported");if(r.nonceLength!==void 0){const d=a[0];if(!d)throw Error("nonce / iv required");r.varSizeNonce?At(d):At(d,r.nonceLength)}const o=r.tagLength;o&&a[1]!==void 0&&At(a[1]);const l=e(n,...a),u=(d,y)=>{if(y!==void 0){if(d!==2)throw Error("cipher output not supported");At(y)}};let f=!1;return{encrypt(d,y){if(f)throw Error("cannot encrypt() twice with same key + nonce");return f=!0,At(d),u(l.encrypt.length,y),l.encrypt(d,y)},decrypt(d,y){if(At(d),o&&d.length<o)throw Error("invalid ciphertext length: smaller than tagLength="+o);return u(l.decrypt.length,y),l.decrypt(d,y)}}}return Object.assign(t,r),t};function zu(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!xr(e))throw Error("invalid output, must be aligned");return e}function y2(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const a=BigInt(32),o=BigInt(4294967295),l=Number(t>>a&o),u=Number(t&o);r.setUint32(e+0,l,n),r.setUint32(e+4,u,n)}function xr(r){return r.byteOffset%4==0}function zn(r){return Uint8Array.from(r)}const ji=16,g3=new Uint8Array(16),ui=ht(g3),vr=r=>(r>>>0&255)<<24|(r>>>8&255)<<16|(r>>>16&255)<<8|r>>>24&255;class rA{constructor(e,t){this.blockLen=ji,this.outputLen=ji,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,At(e=Hu(e),16);const n=lh(e);let a=n.getUint32(0,!1),o=n.getUint32(4,!1),l=n.getUint32(8,!1),u=n.getUint32(12,!1);const f=[];for(let D=0;D<128;D++)f.push({s0:vr(a),s1:vr(o),s2:vr(l),s3:vr(u)}),{s0:a,s1:o,s2:l,s3:u}={s3:(p=l)<<31|(m=u)>>>1,s2:(y=o)<<31|p>>>1,s1:(d=a)<<31|y>>>1,s0:d>>>1^225<<24&-(1&m)};var d,y,p,m;const w=(E=t||1024)>65536?8:E>1024?4:2;var E;if(![1,2,4,8].includes(w))throw Error("ghash: invalid window size, expected 2, 4 or 8");this.W=w;const S=128/w,v=this.windowSize=2**w,k=[];for(let D=0;D<S;D++)for(let C=0;C<v;C++){let N=0,M=0,K=0,I=0;for(let U=0;U<w;U++){if(!(C>>>w-U-1&1))continue;const{s0:R,s1:L,s2:Q,s3:F}=f[w*D+U];N^=R,M^=L,K^=Q,I^=F}k.push({s0:N,s1:M,s2:K,s3:I})}this.t=k}_updateBlock(e,t,n,a){e^=this.s0,t^=this.s1,n^=this.s2,a^=this.s3;const{W:o,t:l,windowSize:u}=this;let f=0,d=0,y=0,p=0;const m=(1<<o)-1;let w=0;for(const E of[e,t,n,a])for(let S=0;S<4;S++){const v=E>>>8*S&255;for(let k=8/o-1;k>=0;k--){const D=v>>>o*k&m,{s0:C,s1:N,s2:M,s3:K}=l[w*u+D];f^=C,d^=N,y^=M,p^=K,w+=1}}this.s0=f,this.s1=d,this.s2=y,this.s3=p}update(e){C1(this),At(e=Hu(e));const t=ht(e),n=Math.floor(e.length/ji),a=e.length%ji;for(let o=0;o<n;o++)this._updateBlock(t[4*o+0],t[4*o+1],t[4*o+2],t[4*o+3]);return a&&(g3.set(e.subarray(n*ji)),this._updateBlock(ui[0],ui[1],ui[2],ui[3]),wn(ui)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){C1(this),eA(e,this),this.finished=!0;const{s0:t,s1:n,s2:a,s3:o}=this,l=ht(e);return l[0]=t,l[1]=n,l[2]=a,l[3]=o,e}digest(){const e=new Uint8Array(ji);return this.digestInto(e),this.destroy(),e}}class XU extends rA{constructor(e,t){At(e=Hu(e));const n=(function(a){a.reverse();const o=1&a[15];let l=0;for(let u=0;u<a.length;u++){const f=a[u];a[u]=f>>>1|l,l=(1&f)<<7}return a[0]^=225&-o,a})(zn(e));super(n,t),wn(n)}update(e){e=Hu(e),C1(this);const t=ht(e),n=e.length%ji,a=Math.floor(e.length/ji);for(let o=0;o<a;o++)this._updateBlock(vr(t[4*o+3]),vr(t[4*o+2]),vr(t[4*o+1]),vr(t[4*o+0]));return n&&(g3.set(e.subarray(a*ji)),this._updateBlock(vr(ui[3]),vr(ui[2]),vr(ui[1]),vr(ui[0])),wn(ui)),this}digestInto(e){C1(this),eA(e,this),this.finished=!0;const{s0:t,s1:n,s2:a,s3:o}=this,l=ht(e);return l[0]=t,l[1]=n,l[2]=a,l[3]=o,e.reverse()}}function iA(r){const e=(n,a)=>r(a,n.length).update(Hu(n)).digest(),t=r(new Uint8Array(16),0);return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=(n,a)=>r(n,a),e}const p9=iA(((r,e)=>new rA(r,e)));iA(((r,e)=>new XU(r,e)));const sr=16,Mf=new Uint8Array(sr);function m3(r){return r<<1^283&-(r>>7)}function mc(r,e){let t=0;for(;e>0;e>>=1)t^=r&-(1&e),r=m3(r);return t}const p2=(()=>{const r=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=m3(n))r[t]=n;const e=new Uint8Array(256);e[0]=99;for(let t=0;t<255;t++){let n=r[255-t];n|=n<<8,e[r[t]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return wn(r),e})(),WU=p2.map(((r,e)=>p2.indexOf(e))),h6=r=>r<<8|r>>>24,g9=r=>r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255;function aA(r,e){if(r.length!==256)throw Error("Wrong sbox length");const t=new Uint32Array(256).map(((d,y)=>e(r[y]))),n=t.map(h6),a=n.map(h6),o=a.map(h6),l=new Uint32Array(65536),u=new Uint32Array(65536),f=new Uint16Array(65536);for(let d=0;d<256;d++)for(let y=0;y<256;y++){const p=256*d+y;l[p]=t[d]^n[y],u[p]=a[d]^o[y],f[p]=r[d]<<8|r[y]}return{sbox:r,sbox2:f,T0:t,T1:n,T2:a,T3:o,T01:l,T23:u}}const b3=aA(p2,(r=>mc(r,3)<<24|r<<16|r<<8|mc(r,2))),sA=aA(WU,(r=>mc(r,11)<<24|mc(r,13)<<16|mc(r,9)<<8|mc(r,14))),$U=(()=>{const r=new Uint8Array(16);for(let e=0,t=1;e<16;e++,t=m3(t))r[e]=t;return r})();function ho(r){At(r);const e=r.length;if(![16,24,32].includes(e))throw Error("aes: invalid key size, should be 16, 24 or 32, got "+e);const{sbox2:t}=b3,n=[];xr(r)||n.push(r=zn(r));const a=ht(r),o=a.length,l=d=>di(t,d,d,d,d),u=new Uint32Array(e+28);u.set(a);for(let d=o;d<u.length;d++){let y=u[d-1];d%o==0?y=l((f=y)<<24|f>>>8)^$U[d/o-1]:o>6&&d%o==4&&(y=l(y)),u[d]=u[d-o]^y}var f;return wn(...n),u}function A3(r){const e=ho(r),t=e.slice(),n=e.length,{sbox2:a}=b3,{T0:o,T1:l,T2:u,T3:f}=sA;for(let d=0;d<n;d+=4)for(let y=0;y<4;y++)t[d+y]=e[n-d-4+y];wn(e);for(let d=4;d<n-4;d++){const y=t[d],p=di(a,y,y,y,y);t[d]=o[255&p]^l[p>>>8&255]^u[p>>>16&255]^f[p>>>24]}return t}function $a(r,e,t,n,a,o){return r[t<<8&65280|n>>>8&255]^e[a>>>8&65280|o>>>24&255]}function di(r,e,t,n,a){return r[255&e|65280&t]|r[n>>>16&255|a>>>16&65280]<<16}function Fr(r,e,t,n,a){const{sbox2:o,T01:l,T23:u}=b3;let f=0;e^=r[f++],t^=r[f++],n^=r[f++],a^=r[f++];const d=r.length/4-2;for(let y=0;y<d;y++){const p=r[f++]^$a(l,u,e,t,n,a),m=r[f++]^$a(l,u,t,n,a,e),w=r[f++]^$a(l,u,n,a,e,t),E=r[f++]^$a(l,u,a,e,t,n);e=p,t=m,n=w,a=E}return{s0:r[f++]^di(o,e,t,n,a),s1:r[f++]^di(o,t,n,a,e),s2:r[f++]^di(o,n,a,e,t),s3:r[f++]^di(o,a,e,t,n)}}function uh(r,e,t,n,a){const{sbox2:o,T01:l,T23:u}=sA;let f=0;e^=r[f++],t^=r[f++],n^=r[f++],a^=r[f++];const d=r.length/4-2;for(let y=0;y<d;y++){const p=r[f++]^$a(l,u,e,a,n,t),m=r[f++]^$a(l,u,t,e,a,n),w=r[f++]^$a(l,u,n,t,e,a),E=r[f++]^$a(l,u,a,n,t,e);e=p,t=m,n=w,a=E}return{s0:r[f++]^di(o,e,a,n,t),s1:r[f++]^di(o,t,e,a,n),s2:r[f++]^di(o,n,t,e,a),s3:r[f++]^di(o,a,n,t,e)}}function oA(r,e,t,n){At(e,sr),At(t);const a=t.length;d2(t,n=zu(a,n));const o=e,l=ht(o);let{s0:u,s1:f,s2:d,s3:y}=Fr(r,l[0],l[1],l[2],l[3]);const p=ht(t),m=ht(n);for(let E=0;E+4<=p.length;E+=4){m[E+0]=p[E+0]^u,m[E+1]=p[E+1]^f,m[E+2]=p[E+2]^d,m[E+3]=p[E+3]^y;let S=1;for(let v=o.length-1;v>=0;v--)S=S+(255&o[v])|0,o[v]=255&S,S>>>=8;({s0:u,s1:f,s2:d,s3:y}=Fr(r,l[0],l[1],l[2],l[3]))}const w=sr*Math.floor(p.length/4);if(w<a){const E=new Uint32Array([u,f,d,y]),S=p3(E);for(let v=w,k=0;v<a;v++,k++)n[v]=t[v]^S[k];wn(E)}return n}function gu(r,e,t,n,a){At(t,sr),At(n),a=zu(n.length,a);const o=t,l=ht(o),u=lh(o),f=ht(n),d=ht(a),y=e?0:12,p=n.length;let m=u.getUint32(y,e),{s0:w,s1:E,s2:S,s3:v}=Fr(r,l[0],l[1],l[2],l[3]);for(let D=0;D+4<=f.length;D+=4)d[D+0]=f[D+0]^w,d[D+1]=f[D+1]^E,d[D+2]=f[D+2]^S,d[D+3]=f[D+3]^v,m=m+1>>>0,u.setUint32(y,m,e),{s0:w,s1:E,s2:S,s3:v}=Fr(r,l[0],l[1],l[2],l[3]);const k=sr*Math.floor(f.length/4);if(k<p){const D=new Uint32Array([w,E,S,v]),C=p3(D);for(let N=k,M=0;N<p;N++,M++)a[N]=n[N]^C[M];wn(D)}return a}const eD=r0({blockSize:16,nonceLength:16},(function(r,e){function t(n,a){if(At(n),a!==void 0&&(At(a),!xr(a)))throw Error("unaligned destination");const o=ho(r),l=zn(e),u=[o,l];xr(n)||u.push(n=zn(n));const f=oA(o,l,n,a);return wn(...u),f}return{encrypt:(n,a)=>t(n,a),decrypt:(n,a)=>t(n,a)}})),g2=r0({blockSize:16,nonceLength:16},(function(r,e,t={}){const n=!t.disablePadding;return{encrypt(a,o){const l=ho(r),{b:u,o:f,out:d}=(function(D,C,N){At(D);let M=D.length;const K=M%sr;if(!C&&K!==0)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");xr(D)||(D=zn(D));const I=ht(D);if(C){let U=sr-K;U||(U=sr),M+=U}return d2(D,N=zu(M,N)),{b:I,o:ht(N),out:N}})(a,n,o);let y=e;const p=[l];xr(y)||p.push(y=zn(y));const m=ht(y);let w=m[0],E=m[1],S=m[2],v=m[3],k=0;for(;k+4<=u.length;)w^=u[k+0],E^=u[k+1],S^=u[k+2],v^=u[k+3],{s0:w,s1:E,s2:S,s3:v}=Fr(l,w,E,S,v),f[k++]=w,f[k++]=E,f[k++]=S,f[k++]=v;if(n){const D=(function(C){const N=new Uint8Array(16),M=ht(N);N.set(C);const K=sr-C.length;for(let I=sr-K;I<sr;I++)N[I]=K;return M})(a.subarray(4*k));w^=D[0],E^=D[1],S^=D[2],v^=D[3],{s0:w,s1:E,s2:S,s3:v}=Fr(l,w,E,S,v),f[k++]=w,f[k++]=E,f[k++]=S,f[k++]=v}return wn(...p),d},decrypt(a,o){(function(v){if(At(v),v.length%sr!=0)throw Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")})(a);const l=A3(r);let u=e;const f=[l];xr(u)||f.push(u=zn(u));const d=ht(u);o=zu(a.length,o),xr(a)||f.push(a=zn(a)),d2(a,o);const y=ht(a),p=ht(o);let m=d[0],w=d[1],E=d[2],S=d[3];for(let v=0;v+4<=y.length;){const k=m,D=w,C=E,N=S;m=y[v+0],w=y[v+1],E=y[v+2],S=y[v+3];const{s0:M,s1:K,s2:I,s3:U}=uh(l,m,w,E,S);p[v++]=M^k,p[v++]=K^D,p[v++]=I^C,p[v++]=U^N}return wn(...f),(function(v,k){if(!k)return v;const D=v.length;if(!D)throw Error("aes/pcks5: empty ciphertext not allowed");const C=v[D-1];if(C<=0||C>16)throw Error("aes/pcks5: wrong padding");const N=v.subarray(0,-C);for(let M=0;M<C;M++)if(v[D-M-1]!==C)throw Error("aes/pcks5: wrong padding");return N})(o,n)}}})),cA=r0({blockSize:16,nonceLength:16},(function(r,e){function t(n,a,o){At(n);const l=n.length;if(tA(n,o=zu(l,o)))throw Error("overlapping src and dst not supported.");const u=ho(r);let f=e;const d=[u];xr(f)||d.push(f=zn(f)),xr(n)||d.push(n=zn(n));const y=ht(n),p=ht(o),m=a?p:y,w=ht(f);let E=w[0],S=w[1],v=w[2],k=w[3];for(let C=0;C+4<=y.length;){const{s0:N,s1:M,s2:K,s3:I}=Fr(u,E,S,v,k);p[C+0]=y[C+0]^N,p[C+1]=y[C+1]^M,p[C+2]=y[C+2]^K,p[C+3]=y[C+3]^I,E=m[C++],S=m[C++],v=m[C++],k=m[C++]}const D=sr*Math.floor(y.length/4);if(D<l){({s0:E,s1:S,s2:v,s3:k}=Fr(u,E,S,v,k));const C=p3(new Uint32Array([E,S,v,k]));for(let N=D,M=0;N<l;N++,M++)o[N]=n[N]^C[M];wn(C)}return wn(...d),o}return{encrypt:(n,a)=>t(n,!0,a),decrypt:(n,a)=>t(n,!1,a)}}));function tD(r,e,t,n,a){const o=a?a.length:0,l=r.create(t,n.length+o);a&&l.update(a);const u=(function(d,y,p){const m=new Uint8Array(16),w=lh(m);return y2(w,0,BigInt(y),p),y2(w,8,BigInt(d),p),m})(8*n.length,8*o,e);l.update(n),l.update(u);const f=l.digest();return wn(u),f}const Lf=r0({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},(function(r,e,t){if(e.length<8)throw Error("aes/gcm: invalid nonce length");function n(o,l,u){const f=tD(p9,!1,o,u,t);for(let d=0;d<l.length;d++)f[d]^=l[d];return f}function a(){const o=ho(r),l=Mf.slice(),u=Mf.slice();if(gu(o,!1,u,u,l),e.length===12)u.set(e);else{const f=Mf.slice();y2(lh(f),8,BigInt(8*e.length),!1);const d=p9.create(l).update(e).update(f);d.digestInto(u),d.destroy()}return{xk:o,authKey:l,counter:u,tagMask:gu(o,!1,u,Mf)}}return{encrypt(o){const{xk:l,authKey:u,counter:f,tagMask:d}=a(),y=new Uint8Array(o.length+16),p=[l,u,f,d];xr(o)||p.push(o=zn(o)),gu(l,!1,f,o,y.subarray(0,o.length));const m=n(u,d,y.subarray(0,y.length-16));return p.push(m),y.set(m,o.length),wn(...p),y},decrypt(o){const{xk:l,authKey:u,counter:f,tagMask:d}=a(),y=[l,u,d,f];xr(o)||y.push(o=zn(o));const p=o.subarray(0,-16),m=o.subarray(-16),w=n(u,d,p);if(y.push(w),!nA(w,m))throw Error("aes/gcm: invalid ghash tag");const E=gu(l,!1,f,p);return wn(...y),E}}}));function lA(r){return r instanceof Uint32Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint32Array"}function uA(r,e){if(At(e,16),!lA(r))throw Error("_encryptBlock accepts result of expandKeyLE");const t=ht(e);let{s0:n,s1:a,s2:o,s3:l}=Fr(r,t[0],t[1],t[2],t[3]);return t[0]=n,t[1]=a,t[2]=o,t[3]=l,e}function fA(r,e){if(At(e,16),!lA(r))throw Error("_decryptBlock accepts result of expandKeyLE");const t=ht(e);let{s0:n,s1:a,s2:o,s3:l}=uh(r,t[0],t[1],t[2],t[3]);return t[0]=n,t[1]=a,t[2]=o,t[3]=l,e}const m9={encrypt(r,e){if(e.length>=2**32)throw Error("plaintext should be less than 4gb");const t=ho(r);if(e.length===16)uA(t,e);else{const n=ht(e);let a=n[0],o=n[1];for(let l=0,u=1;l<6;l++)for(let f=2;f<n.length;f+=2,u++){const{s0:d,s1:y,s2:p,s3:m}=Fr(t,a,o,n[f],n[f+1]);a=d,o=y^g9(u),n[f]=p,n[f+1]=m}n[0]=a,n[1]=o}t.fill(0)},decrypt(r,e){if(e.length-8>=2**32)throw Error("ciphertext should be less than 4gb");const t=A3(r),n=e.length/8-1;if(n===1)fA(t,e);else{const a=ht(e);let o=a[0],l=a[1];for(let u=0,f=6*n;u<6;u++)for(let d=2*n;d>=1;d-=2,f--){l^=g9(f);const{s0:y,s1:p,s2:m,s3:w}=uh(t,o,l,a[d],a[d+1]);o=y,l=p,a[d]=m,a[d+1]=w}a[0]=o,a[1]=l}t.fill(0)}},b9=new Uint8Array(8).fill(166),hA=r0({blockSize:8},(r=>({encrypt(e){if(!e.length||e.length%8!=0)throw Error("invalid plaintext length");if(e.length===8)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");const t=(function(...n){let a=0;for(let l=0;l<n.length;l++){const u=n[l];At(u),a+=u.length}const o=new Uint8Array(a);for(let l=0,u=0;l<n.length;l++){const f=n[l];o.set(f,u),u+=f.length}return o})(b9,e);return m9.encrypt(r,t),t},decrypt(e){if(e.length%8!=0||e.length<24)throw Error("invalid ciphertext length");const t=zn(e);if(m9.decrypt(r,t),!nA(t.subarray(0,8),b9))throw Error("integrity check failed");return t.subarray(0,8).fill(0),t.subarray(8)}}))),A9={expandKeyLE:ho,expandKeyDecLE:A3,encrypt:Fr,decrypt:uh,encryptBlock:uA,decryptBlock:fA,ctrCounter:oA,ctr32:gu};async function dA(r){switch(r){case A.symmetric.aes128:case A.symmetric.aes192:case A.symmetric.aes256:throw Error("Not a legacy cipher");case A.symmetric.cast5:case A.symmetric.blowfish:case A.symmetric.twofish:case A.symmetric.tripledes:{const{legacyCiphers:e}=await Promise.resolve().then((function(){return _R})),t=A.read(A.symmetric,r),n=e.get(t);if(!n)throw Error("Unsupported cipher algorithm");return n}default:throw Error("Unsupported cipher algorithm")}}function nD(r){switch(r){case A.symmetric.aes128:case A.symmetric.aes192:case A.symmetric.aes256:case A.symmetric.twofish:return 16;case A.symmetric.blowfish:case A.symmetric.cast5:case A.symmetric.tripledes:return 8;default:throw Error("Unsupported cipher")}}function rD(r){switch(r){case A.symmetric.aes128:case A.symmetric.blowfish:case A.symmetric.cast5:return 16;case A.symmetric.aes192:case A.symmetric.tripledes:return 24;case A.symmetric.aes256:case A.symmetric.twofish:return 32;default:throw Error("Unsupported cipher")}}function ct(r){return{keySize:rD(r),blockSize:nD(r)}}const Bc=B.getWebCrypto();async function m2(r,e,t){const{keySize:n}=ct(r);if(!B.isAES(r)||e.length!==n)throw Error("Unexpected algorithm or key size");try{const a=await Bc.importKey("raw",e,{name:"AES-KW"},!1,["wrapKey"]),o=await Bc.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),l=await Bc.wrapKey("raw",o,a,{name:"AES-KW"});return new Uint8Array(l)}catch(a){if(a.name!=="NotSupportedError"&&(e.length!==24||a.name!=="OperationError"))throw a;B.printDebugError("Browser did not support operation: "+a.message)}return hA(e).encrypt(t)}async function b2(r,e,t){const{keySize:n}=ct(r);if(!B.isAES(r)||e.length!==n)throw Error("Unexpected algorithm or key size");let a;try{a=await Bc.importKey("raw",e,{name:"AES-KW"},!1,["unwrapKey"])}catch(o){if(o.name!=="NotSupportedError"&&(e.length!==24||o.name!=="OperationError"))throw o;return B.printDebugError("Browser did not support operation: "+o.message),hA(e).decrypt(t)}try{const o=await Bc.unwrapKey("raw",t,a,{name:"AES-KW"},{name:"HMAC",hash:"SHA-256"},!0,["sign"]);return new Uint8Array(await Bc.exportKey("raw",o))}catch(o){throw o.name==="OperationError"?Error("Key Data Integrity failed"):o}}const w9=B.getWebCrypto();async function cs(r,e,t,n,a){const o=A.read(A.webHash,r);if(!o)throw Error("Hash algo not supported with HKDF");const l=await w9.importKey("raw",e,"HKDF",!1,["deriveBits"]),u=await w9.deriveBits({name:"HKDF",hash:o,salt:t,info:n},l,8*a);return new Uint8Array(u)}const U1={x25519:B.encodeUTF8("OpenPGP X25519"),x448:B.encodeUTF8("OpenPGP X448")};async function w3(r){switch(r){case A.publicKey.x25519:try{const e=B.getWebCrypto(),t=await e.generateKey("X25519",!0,["deriveKey","deriveBits"]).catch((o=>{if(o.name==="OperationError"){const l=Error("Unexpected key generation issue");throw l.name="NotSupportedError",l}throw o})),n=await e.exportKey("jwk",t.privateKey),a=await e.exportKey("jwk",t.publicKey);if(n.x!==a.x){const o=Error("Unexpected mismatching public point");throw o.name="NotSupportedError",o}return{A:new Uint8Array(Hn(a.x)),k:Hn(n.d)}}catch(e){if(e.name!=="NotSupportedError")throw e;const t=rn(32),{publicKey:n}=mt.box.keyPair.fromSecretKey(t);return{A:n,k:t}}case A.publicKey.x448:{const e=await B.getNobleCurve(A.publicKey.x448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),k:t}}default:throw Error("Unsupported ECDH algorithm")}}async function yA(r,e,t){switch(r){case A.publicKey.x25519:{const{publicKey:n}=mt.box.keyPair.fromSecretKey(t);return B.equalsUint8Array(e,n)}case A.publicKey.x448:{const n=(await B.getNobleCurve(A.publicKey.x448)).getPublicKey(t);return B.equalsUint8Array(e,n)}default:return!1}}async function pA(r,e,t){const{ephemeralPublicKey:n,sharedSecret:a}=await E3(r,t),o=B.concatUint8Array([n,t,a]);switch(r){case A.publicKey.x25519:{const l=A.symmetric.aes128,{keySize:u}=ct(l),f=await cs(A.hash.sha256,o,new Uint8Array,U1.x25519,u);return{ephemeralPublicKey:n,wrappedKey:await m2(l,f,e)}}case A.publicKey.x448:{const l=A.symmetric.aes256,{keySize:u}=ct(A.symmetric.aes256),f=await cs(A.hash.sha512,o,new Uint8Array,U1.x448,u);return{ephemeralPublicKey:n,wrappedKey:await m2(l,f,e)}}default:throw Error("Unsupported ECDH algorithm")}}async function gA(r,e,t,n,a){const o=await v3(r,e,n,a),l=B.concatUint8Array([e,n,o]);switch(r){case A.publicKey.x25519:{const u=A.symmetric.aes128,{keySize:f}=ct(u);return b2(u,await cs(A.hash.sha256,l,new Uint8Array,U1.x25519,f),t)}case A.publicKey.x448:{const u=A.symmetric.aes256,{keySize:f}=ct(A.symmetric.aes256);return b2(u,await cs(A.hash.sha512,l,new Uint8Array,U1.x448,f),t)}default:throw Error("Unsupported ECDH algorithm")}}function Gu(r){switch(r){case A.publicKey.x25519:return 32;case A.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}}async function E3(r,e){switch(r){case A.publicKey.x25519:try{const t=B.getWebCrypto(),n=await t.generateKey("X25519",!0,["deriveKey","deriveBits"]).catch((f=>{if(f.name==="OperationError"){const d=Error("Unexpected key generation issue");throw d.name="NotSupportedError",d}throw f})),a=await t.exportKey("jwk",n.publicKey);if((await t.exportKey("jwk",n.privateKey)).x!==a.x){const f=Error("Unexpected mismatching public point");throw f.name="NotSupportedError",f}const o=A2(r,e),l=await t.importKey("jwk",o,"X25519",!1,[]),u=await t.deriveBits({name:"X25519",public:l},n.privateKey,8*Gu(r));return{sharedSecret:new Uint8Array(u),ephemeralPublicKey:new Uint8Array(Hn(a.x))}}catch(t){if(t.name!=="NotSupportedError")throw t;const n=rn(Gu(r)),a=mt.scalarMult(n,e);D1(a);const{publicKey:o}=mt.box.keyPair.fromSecretKey(n);return{ephemeralPublicKey:o,sharedSecret:a}}case A.publicKey.x448:{const t=await B.getNobleCurve(A.publicKey.x448),n=t.utils.randomPrivateKey(),a=t.getSharedSecret(n,e);return D1(a),{ephemeralPublicKey:t.getPublicKey(n),sharedSecret:a}}default:throw Error("Unsupported ECDH algorithm")}}async function v3(r,e,t,n){switch(r){case A.publicKey.x25519:try{const a=B.getWebCrypto(),o=(function(y,p,m){if(y===A.publicKey.x25519){const w=A2(y,p);return w.d=cn(m),w}throw Error("Unsupported ECDH algorithm")})(r,t,n),l=A2(r,e),u=await a.importKey("jwk",o,"X25519",!1,["deriveKey","deriveBits"]),f=await a.importKey("jwk",l,"X25519",!1,[]),d=await a.deriveBits({name:"X25519",public:f},u,8*Gu(r));return new Uint8Array(d)}catch(a){if(a.name!=="NotSupportedError")throw a;const o=mt.scalarMult(n,e);return D1(o),o}case A.publicKey.x448:{const a=(await B.getNobleCurve(A.publicKey.x448)).getSharedSecret(n,e);return D1(a),a}default:throw Error("Unsupported ECDH algorithm")}}function D1(r){let e=0;for(let t=0;t<r.length;t++)e|=r[t];if(e===0)throw Error("Unexpected low order point")}function A2(r,e){if(r===A.publicKey.x25519)return{kty:"OKP",crv:"X25519",x:cn(e),ext:!0};throw Error("Unsupported ECDH algorithm")}var iD=Object.freeze({__proto__:null,decrypt:gA,encrypt:pA,generate:w3,generateEphemeralEncryptionMaterial:E3,getPayloadSize:Gu,recomputeSharedSecret:v3,validateParams:yA});const d6=B.getWebCrypto(),I1=B.getNodeCrypto(),pi={[A.curve.nistP256]:"P-256",[A.curve.nistP384]:"P-384",[A.curve.nistP521]:"P-521"},Mi=I1?I1.getCurves():[],ai=I1?{[A.curve.secp256k1]:Mi.includes("secp256k1")?"secp256k1":void 0,[A.curve.nistP256]:Mi.includes("prime256v1")?"prime256v1":void 0,[A.curve.nistP384]:Mi.includes("secp384r1")?"secp384r1":void 0,[A.curve.nistP521]:Mi.includes("secp521r1")?"secp521r1":void 0,[A.curve.ed25519Legacy]:Mi.includes("ED25519")?"ED25519":void 0,[A.curve.curve25519Legacy]:Mi.includes("X25519")?"X25519":void 0,[A.curve.brainpoolP256r1]:Mi.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[A.curve.brainpoolP384r1]:Mi.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[A.curve.brainpoolP512r1]:Mi.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},mA={[A.curve.nistP256]:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:A.publicKey.ecdsa,hash:A.hash.sha256,cipher:A.symmetric.aes128,node:ai[A.curve.nistP256],web:pi[A.curve.nistP256],payloadSize:32,sharedSize:256,wireFormatLeadingByte:4},[A.curve.nistP384]:{oid:[6,5,43,129,4,0,34],keyType:A.publicKey.ecdsa,hash:A.hash.sha384,cipher:A.symmetric.aes192,node:ai[A.curve.nistP384],web:pi[A.curve.nistP384],payloadSize:48,sharedSize:384,wireFormatLeadingByte:4},[A.curve.nistP521]:{oid:[6,5,43,129,4,0,35],keyType:A.publicKey.ecdsa,hash:A.hash.sha512,cipher:A.symmetric.aes256,node:ai[A.curve.nistP521],web:pi[A.curve.nistP521],payloadSize:66,sharedSize:528,wireFormatLeadingByte:4},[A.curve.secp256k1]:{oid:[6,5,43,129,4,0,10],keyType:A.publicKey.ecdsa,hash:A.hash.sha256,cipher:A.symmetric.aes128,node:ai[A.curve.secp256k1],payloadSize:32,wireFormatLeadingByte:4},[A.curve.ed25519Legacy]:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:A.publicKey.eddsaLegacy,hash:A.hash.sha512,node:!1,payloadSize:32,wireFormatLeadingByte:64},[A.curve.curve25519Legacy]:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:A.publicKey.ecdh,hash:A.hash.sha256,cipher:A.symmetric.aes128,node:!1,payloadSize:32,wireFormatLeadingByte:64},[A.curve.brainpoolP256r1]:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:A.publicKey.ecdsa,hash:A.hash.sha256,cipher:A.symmetric.aes128,node:ai[A.curve.brainpoolP256r1],payloadSize:32,wireFormatLeadingByte:4},[A.curve.brainpoolP384r1]:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:A.publicKey.ecdsa,hash:A.hash.sha384,cipher:A.symmetric.aes192,node:ai[A.curve.brainpoolP384r1],payloadSize:48,wireFormatLeadingByte:4},[A.curve.brainpoolP512r1]:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:A.publicKey.ecdsa,hash:A.hash.sha512,cipher:A.symmetric.aes256,node:ai[A.curve.brainpoolP512r1],payloadSize:64,wireFormatLeadingByte:4}};class Ur{constructor(e){try{this.name=e instanceof $i?e.getName():A.write(A.curve,e)}catch{throw new Xe("Unknown curve")}const t=mA[this.name];this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node,this.web=t.web,this.payloadSize=t.payloadSize,this.sharedSize=t.sharedSize,this.wireFormatLeadingByte=t.wireFormatLeadingByte,this.web&&B.getWebCrypto()?this.type="web":this.node&&B.getNodeCrypto()?this.type="node":this.name===A.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===A.curve.ed25519Legacy&&(this.type="ed25519Legacy")}async genKeyPair(){switch(this.type){case"web":try{return await(async function(e,t){const n=await d6.generateKey({name:"ECDSA",namedCurve:pi[e]},!0,["sign","verify"]),a=await d6.exportKey("jwk",n.privateKey);return{publicKey:wA(await d6.exportKey("jwk",n.publicKey),t),privateKey:Hn(a.d)}})(this.name,this.wireFormatLeadingByte)}catch(e){return B.printDebugError("Browser did not support generating ec key "+e.message),E9(this.name)}case"node":return(async function(e){const t=I1.createECDH(ai[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}})(this.name);case"curve25519Legacy":{const{k:e,A:t}=await w3(A.publicKey.x25519),n=e.slice().reverse();return n[0]=127&n[0]|64,n[31]&=248,{publicKey:B.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:n}}case"ed25519Legacy":{const{seed:e,A:t}=await h3(A.publicKey.ed25519);return{publicKey:B.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:e}}default:return E9(this.name)}}}async function r1(r){const e=new Ur(r),{oid:t,hash:n,cipher:a}=e,o=await e.genKeyPair();return{oid:t,Q:o.publicKey,secret:B.leftPad(o.privateKey,e.payloadSize),hash:n,cipher:a}}function bA(r){return mA[r.getName()].hash}async function AA(r,e,t,n){const a={[A.curve.nistP256]:!0,[A.curve.nistP384]:!0,[A.curve.nistP521]:!0,[A.curve.secp256k1]:!0,[A.curve.curve25519Legacy]:r===A.publicKey.ecdh,[A.curve.brainpoolP256r1]:!0,[A.curve.brainpoolP384r1]:!0,[A.curve.brainpoolP512r1]:!0},o=e.getName();if(!a[o])return!1;if(o===A.curve.curve25519Legacy){n=n.slice().reverse();const{publicKey:u}=mt.box.keyPair.fromSecretKey(n);t=new Uint8Array(t);const f=new Uint8Array([64,...u]);return!!B.equalsUint8Array(f,t)}const l=(await B.getNobleCurve(A.publicKey.ecdsa,o)).getPublicKey(n,!1);return!!B.equalsUint8Array(l,t)}function oo(r,e){const{payloadSize:t,wireFormatLeadingByte:n,name:a}=r,o=a===A.curve.curve25519Legacy||a===A.curve.ed25519Legacy?t:2*t;if(e[0]!==n||e.length!==o+1)throw Error("Invalid point encoding")}async function E9(r){const e=await B.getNobleCurve(A.publicKey.ecdsa,r),t=e.utils.randomPrivateKey();return{publicKey:e.getPublicKey(t,!1),privateKey:t}}function wA(r,e){const t=Hn(r.x),n=Hn(r.y),a=new Uint8Array(t.length+n.length+1);return a[0]=e,a.set(t,1),a.set(n,t.length+1),a}function fh(r,e,t){const n=r,a=t.slice(1,n+1),o=t.slice(n+1,2*n+1);return{kty:"EC",crv:e,x:cn(a),y:cn(o),ext:!0}}function EA(r,e,t,n){const a=fh(r,e,t);return a.d=cn(n),a}const R1=B.getWebCrypto(),vA=B.getNodeCrypto();async function w2(r,e,t,n,a,o){const l=new Ur(r);if(oo(l,n),t&&!B.isStream(t)){const f={publicKey:n,privateKey:a};switch(l.type){case"web":try{return await(async function(d,y,p,m){const w=d.payloadSize,E=EA(d.payloadSize,pi[d.name],m.publicKey,m.privateKey),S=await R1.importKey("jwk",E,{name:"ECDSA",namedCurve:pi[d.name],hash:{name:A.read(A.webHash,d.hash)}},!1,["sign"]),v=new Uint8Array(await R1.sign({name:"ECDSA",namedCurve:pi[d.name],hash:{name:A.read(A.webHash,y)}},S,p));return{r:v.slice(0,w),s:v.slice(w,w<<1)}})(l,e,t,f)}catch(d){if(l.name!=="nistP521"&&(d.name==="DataError"||d.name==="OperationError"))throw d;B.printDebugError("Browser did not support signing: "+d.message)}break;case"node":return(async function(d,y,p,m){const w=B.nodeRequire("eckey-utils"),E=B.getNodeBuffer(),{privateKey:S}=w.generateDer({curveName:ai[d.name],privateKey:E.from(m)}),v=vA.createSign(A.read(A.hash,y));v.write(p),v.end();const k=new Uint8Array(v.sign({key:S,format:"der",type:"sec1",dsaEncoding:"ieee-p1363"})),D=d.payloadSize;return{r:k.subarray(0,D),s:k.subarray(D,D<<1)}})(l,e,t,a)}}const u=(await B.getNobleCurve(A.publicKey.ecdsa,l.name)).sign(o,a,{lowS:!1});return{r:Kt(u.r,"be",l.payloadSize),s:Kt(u.s,"be",l.payloadSize)}}async function E2(r,e,t,n,a,o){const l=new Ur(r);oo(l,a);const u=async()=>o[0]===0&&v9(l,t,o.subarray(1),a);if(n&&!B.isStream(n))switch(l.type){case"web":try{return await(async function(d,y,{r:p,s:m},w,E){const S=fh(d.payloadSize,pi[d.name],E),v=await R1.importKey("jwk",S,{name:"ECDSA",namedCurve:pi[d.name],hash:{name:A.read(A.webHash,d.hash)}},!1,["verify"]),k=B.concatUint8Array([p,m]).buffer;return R1.verify({name:"ECDSA",namedCurve:pi[d.name],hash:{name:A.read(A.webHash,y)}},v,k,w)})(l,e,t,n,a)||u()}catch(f){if(l.name!=="nistP521"&&(f.name==="DataError"||f.name==="OperationError"))throw f;B.printDebugError("Browser did not support verifying: "+f.message)}break;case"node":return await(async function(d,y,{r:p,s:m},w,E){const S=B.nodeRequire("eckey-utils"),v=B.getNodeBuffer(),{publicKey:k}=S.generateDer({curveName:ai[d.name],publicKey:v.from(E)}),D=vA.createVerify(A.read(A.hash,y));D.write(w),D.end();const C=B.concatUint8Array([p,m]);try{return D.verify({key:k,format:"der",type:"spki",dsaEncoding:"ieee-p1363"},C)}catch{return!1}})(l,e,t,n,a)||u()}return await v9(l,t,o,a)||u()}async function v9(r,e,t,n){return(await B.getNobleCurve(A.publicKey.ecdsa,r.name)).verify(B.concatUint8Array([e.r,e.s]),t,n,{lowS:!1})}var aD=Object.freeze({__proto__:null,sign:w2,validateParams:async function(r,e,t){const n=new Ur(r);if(n.keyType!==A.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const a=rn(8),o=A.hash.sha256,l=await Ai(o,a);try{const u=await w2(r,o,a,e,t,l);return await E2(r,o,u,a,e,l)}catch{return!1}}default:return AA(A.publicKey.ecdsa,r,e,t)}},verify:E2});async function SA(r,e,t,n,a,o){if(oo(new Ur(r),n),Vt(e)<Vt(A.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const{RS:l}=await d3(A.publicKey.ed25519,e,0,n.subarray(1),a,o);return{r:l.subarray(0,32),s:l.subarray(32)}}async function kA(r,e,{r:t,s:n},a,o,l){if(oo(new Ur(r),o),Vt(e)<Vt(A.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const u=B.concatUint8Array([t,n]);return y3(A.publicKey.ed25519,e,{RS:u},0,o.subarray(1),l)}async function xA(r,e,t){if(r.getName()!==A.curve.ed25519Legacy)return!1;const{publicKey:n}=mt.sign.keyPair.fromSeed(t),a=new Uint8Array([64,...n]);return B.equalsUint8Array(e,a)}var sD=Object.freeze({__proto__:null,sign:SA,validateParams:xA,verify:kA});function oD(r){const e=r.length;if(e>0){const t=r[e-1];if(t>=1){const n=r.subarray(e-t),a=new Uint8Array(t).fill(t);if(B.equalsUint8Array(n,a))return r.subarray(0,e-t)}}throw Error("Invalid padding")}const es=B.getWebCrypto(),BA=B.getNodeCrypto();function CA(r,e,t,n){return B.concatUint8Array([e.write(),new Uint8Array([r]),t.write(),B.stringToUint8Array("Anonymous Sender    "),n])}async function UA(r,e,t,n,a=!1,o=!1){let l;if(a){for(l=0;l<e.length&&e[l]===0;l++);e=e.subarray(l)}if(o){for(l=e.length-1;l>=0&&e[l]===0;l--);e=e.subarray(0,l+1)}return(await Ai(r,B.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,t)}async function cD(r,e){switch(r.type){case"curve25519Legacy":{const{sharedSecret:t,ephemeralPublicKey:n}=await E3(A.publicKey.x25519,e.subarray(1));return{publicKey:B.concatUint8Array([new Uint8Array([r.wireFormatLeadingByte]),n]),sharedKey:t}}case"web":if(r.web&&B.getWebCrypto())try{return await(async function(t,n){const a=fh(t.payloadSize,t.web,n);let o=es.generateKey({name:"ECDH",namedCurve:t.web},!0,["deriveKey","deriveBits"]),l=es.importKey("jwk",a,{name:"ECDH",namedCurve:t.web},!1,[]);[o,l]=await Promise.all([o,l]);let u=es.deriveBits({name:"ECDH",namedCurve:t.web,public:l},o.privateKey,t.sharedSize),f=es.exportKey("jwk",o.publicKey);[u,f]=await Promise.all([u,f]);const d=new Uint8Array(u);return{publicKey:new Uint8Array(wA(f,t.wireFormatLeadingByte)),sharedKey:d}})(r,e)}catch(t){return B.printDebugError(t),k9(r,e)}break;case"node":return(async function(t,n){const a=BA.createECDH(t.node);a.generateKeys();const o=new Uint8Array(a.computeSecret(n));return{publicKey:new Uint8Array(a.getPublicKey()),sharedKey:o}})(r,e);default:return k9(r,e)}}async function DA(r,e,t,n,a){const o=(function(m){const w=8-m.length%8,E=new Uint8Array(m.length+w).fill(w);return E.set(m),E})(t),l=new Ur(r);oo(l,n);const{publicKey:u,sharedKey:f}=await cD(l,n),d=CA(A.publicKey.ecdh,r,e,a),{keySize:y}=ct(e.cipher),p=await UA(e.hash,f,y,d);return{publicKey:u,wrappedKey:await m2(e.cipher,p,o)}}async function lD(r,e,t,n){if(n.length!==r.payloadSize){const a=new Uint8Array(r.payloadSize);a.set(n,r.payloadSize-n.length),n=a}switch(r.type){case"curve25519Legacy":{const a=n.slice().reverse();return{secretKey:a,sharedKey:await v3(A.publicKey.x25519,e.subarray(1),t.subarray(1),a)}}case"web":if(r.web&&B.getWebCrypto())try{return await(async function(a,o,l,u){const f=EA(a.payloadSize,a.web,l,u);let d=es.importKey("jwk",f,{name:"ECDH",namedCurve:a.web},!0,["deriveKey","deriveBits"]);const y=fh(a.payloadSize,a.web,o);let p=es.importKey("jwk",y,{name:"ECDH",namedCurve:a.web},!0,[]);[d,p]=await Promise.all([d,p]);let m=es.deriveBits({name:"ECDH",namedCurve:a.web,public:p},d,a.sharedSize),w=es.exportKey("jwk",d);[m,w]=await Promise.all([m,w]);const E=new Uint8Array(m);return{secretKey:Hn(w.d),sharedKey:E}})(r,e,t,n)}catch(a){return B.printDebugError(a),S9(r,e,n)}break;case"node":return(async function(a,o,l){const u=BA.createECDH(a.node);u.setPrivateKey(l);const f=new Uint8Array(u.computeSecret(o));return{secretKey:new Uint8Array(u.getPrivateKey()),sharedKey:f}})(r,e,n);default:return S9(r,e,n)}}async function IA(r,e,t,n,a,o,l){const u=new Ur(r);oo(u,a),oo(u,t);const{sharedKey:f}=await lD(u,t,a,o),d=CA(A.publicKey.ecdh,r,e,l),{keySize:y}=ct(e.cipher);let p;for(let m=0;m<3;m++)try{const w=await UA(e.hash,f,y,d,m===1,m===2);return oD(await b2(e.cipher,w,n))}catch(w){p=w}throw p}async function S9(r,e,t){return{secretKey:t,sharedKey:(await B.getNobleCurve(A.publicKey.ecdh,r.name)).getSharedSecret(t,e).subarray(1)}}async function k9(r,e){const t=await B.getNobleCurve(A.publicKey.ecdh,r.name),{publicKey:n,privateKey:a}=await r.genKeyPair();return{publicKey:n,sharedKey:t.getSharedSecret(a,e).subarray(1)}}var uD=Object.freeze({__proto__:null,CurveWithOID:Ur,ecdh:Object.freeze({__proto__:null,decrypt:IA,encrypt:DA,validateParams:async function(r,e,t){return AA(A.publicKey.ecdh,r,e,t)}}),ecdhX:iD,ecdsa:aD,eddsa:ZU,eddsaLegacy:sD,generate:r1,getPreferredHashAlgo:bA});const i1=BigInt(0),mu=BigInt(1);class RA{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return B.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class TA{constructor(e){if(e){const{hash:t,cipher:n}=e;this.hash=t,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||e[0]!==3||e[1]!==1)throw new Xe("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}class hh{static fromObject({wrappedKey:e,algorithm:t}){const n=new hh;return n.wrappedKey=e,n.algorithm=t,n}read(e){let t=0,n=e[t++];this.algorithm=n%2?e[t++]:null,n-=n%2,this.wrappedKey=B.readExactSubarray(e,t,t+n),t+=n}write(){return B.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}}async function fD(r,e,t,n,a){switch(r){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:{const{n:o,e:l}=t;return{c:await LU(n,o,l)}}case A.publicKey.elgamal:{const{p:o,g:l,y:u}=t;return(async function(f,d,y,p){d=Ee(d),y=Ee(y),p=Ee(p);const m=Ee(Qb(f,Fn(d))),w=is(Za,d-Za);return{c1:Kt(nn(y,w,d)),c2:Kt(Ge(nn(p,w,d)*m,d))}})(n,o,l,u)}case A.publicKey.ecdh:{const{oid:o,Q:l,kdfParams:u}=t,{publicKey:f,wrappedKey:d}=await DA(o,u,n,l,a);return{V:f,C:new RA(d)}}case A.publicKey.x25519:case A.publicKey.x448:{if(e&&!B.isAES(e))throw Error("X25519 and X448 keys can only encrypt AES session keys");const{A:o}=t,{ephemeralPublicKey:l,wrappedKey:u}=await pA(r,n,o);return{ephemeralPublicKey:l,C:hh.fromObject({algorithm:e,wrappedKey:u})}}default:return[]}}async function hD(r,e,t,n,a,o){switch(r){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:{const{c:l}=n,{n:u,e:f}=e,{d,p:y,q:p,u:m}=t;return QU(l,u,f,d,y,p,m,o)}case A.publicKey.elgamal:{const{c1:l,c2:u}=n;return(async function(f,d,y,p,m){return f=Ee(f),d=Ee(d),y=Ee(y),Hb(Kt(Ge(Pc(nn(f,p=Ee(p),y),y)*d,y),"be",Fn(y)),m)})(l,u,e.p,t.x,o)}case A.publicKey.ecdh:{const{oid:l,Q:u,kdfParams:f}=e,{d}=t,{V:y,C:p}=n;return IA(l,f,y,p.data,u,d,a)}case A.publicKey.x25519:case A.publicKey.x448:{const{A:l}=e,{k:u}=t,{ephemeralPublicKey:f,C:d}=n;if(d.algorithm!==null&&!B.isAES(d.algorithm))throw Error("AES session key expected");return gA(r,f,d.wrappedKey,l,u)}default:throw Error("Unknown public key encryption algorithm.")}}function x9(r,e,t){let n=0;switch(r){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:{const a=B.readMPI(e.subarray(n));n+=a.length+2;const o=B.readMPI(e.subarray(n));n+=o.length+2;const l=B.readMPI(e.subarray(n));n+=l.length+2;const u=B.readMPI(e.subarray(n));return n+=u.length+2,{read:n,privateParams:{d:a,p:o,q:l,u}}}case A.publicKey.dsa:case A.publicKey.elgamal:{const a=B.readMPI(e.subarray(n));return n+=a.length+2,{read:n,privateParams:{x:a}}}case A.publicKey.ecdsa:case A.publicKey.ecdh:{const a=bc(r,t.oid);let o=B.readMPI(e.subarray(n));return n+=o.length+2,o=B.leftPad(o,a),{read:n,privateParams:{d:o}}}case A.publicKey.eddsaLegacy:{const a=bc(r,t.oid);if(t.oid.getName()!==A.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let o=B.readMPI(e.subarray(n));return n+=o.length+2,o=B.leftPad(o,a),{read:n,privateParams:{seed:o}}}case A.publicKey.ed25519:case A.publicKey.ed448:{const a=bc(r),o=B.readExactSubarray(e,n,n+a);return n+=o.length,{read:n,privateParams:{seed:o}}}case A.publicKey.x25519:case A.publicKey.x448:{const a=bc(r),o=B.readExactSubarray(e,n,n+a);return n+=o.length,{read:n,privateParams:{k:o}}}default:throw new Xe("Unknown public key encryption algorithm.")}}function Mc(r,e){const t=new Set([A.publicKey.ed25519,A.publicKey.x25519,A.publicKey.ed448,A.publicKey.x448]),n=Object.keys(e).map((a=>{const o=e[a];return B.isUint8Array(o)?t.has(r)?o:B.uint8ArrayToMPI(o):o.write()}));return B.concatUint8Array(n)}function dD(r,e,t){switch(r){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:return(async function(n,a){if(a=BigInt(a),B.getWebCrypto()){const d={name:"RSASSA-PKCS1-v1_5",modulusLength:n,publicExponent:Kt(a),hash:{name:"SHA-1"}},y=await Kc.generateKey(d,!0,["sign","verify"]);return i9(await Kc.exportKey("jwk",y.privateKey),a)}if(B.getNodeCrypto()){const d={modulusLength:n,publicExponent:i2(a),publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}},y=await new Promise(((p,m)=>{so.generateKeyPair("rsa",d,((w,E,S)=>{w?m(w):p(S)}))}));return i9(y,a)}let o,l,u;do l=n9(n-(n>>1),a,40),o=n9(n>>1,a,40),u=o*l;while(xc(u)!==n);const f=(o-os)*(l-os);return l<o&&([o,l]=[l,o]),{n:Kt(u),e:Kt(a),d:Kt(Pc(a,f)),p:Kt(o),q:Kt(l),u:Kt(Pc(o,l))}})(e,65537).then((({n,e:a,d:o,p:l,q:u,u:f})=>({privateParams:{d:o,p:l,q:u,u:f},publicParams:{n,e:a}})));case A.publicKey.ecdsa:return r1(t).then((({oid:n,Q:a,secret:o})=>({privateParams:{d:o},publicParams:{oid:new $i(n),Q:a}})));case A.publicKey.eddsaLegacy:return r1(t).then((({oid:n,Q:a,secret:o})=>({privateParams:{seed:o},publicParams:{oid:new $i(n),Q:a}})));case A.publicKey.ecdh:return r1(t).then((({oid:n,Q:a,secret:o,hash:l,cipher:u})=>({privateParams:{d:o},publicParams:{oid:new $i(n),Q:a,kdfParams:new TA({hash:l,cipher:u})}})));case A.publicKey.ed25519:case A.publicKey.ed448:return h3(r).then((({A:n,seed:a})=>({privateParams:{seed:a},publicParams:{A:n}})));case A.publicKey.x25519:case A.publicKey.x448:return w3(r).then((({A:n,k:a})=>({privateParams:{k:a},publicParams:{A:n}})));case A.publicKey.dsa:case A.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}}async function yD(r,e,t){if(!e||!t)throw Error("Missing key parameters");switch(r){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:{const{n,e:a}=e,{d:o,p:l,q:u,u:f}=t;return(async function(d,y,p,m,w,E){if(d=Ee(d),(m=Ee(m))*(w=Ee(w))!==d)return!1;const S=BigInt(2);if(Ge(m*(E=Ee(E)),w)!==BigInt(1))return!1;y=Ee(y),p=Ee(p);const v=is(S,S<<BigInt(Math.floor(xc(d)/3))),k=v*p*y;return!(Ge(k,m-os)!==v||Ge(k,w-os)!==v)})(n,a,o,l,u,f)}case A.publicKey.dsa:{const{p:n,q:a,g:o,y:l}=e,{x:u}=t;return(async function(f,d,y,p,m){if(f=Ee(f),d=Ee(d),y=Ee(y),p=Ee(p),y<=mu||y>=f||Ge(f-mu,d)!==i1||nn(y,d,f)!==mu)return!1;const w=BigInt(xc(d));if(w<BigInt(150)||!Lb(d,null,32))return!1;m=Ee(m);const E=BigInt(2);return p===nn(y,d*is(E<<w-mu,E<<w)+m,f)})(n,a,o,l,u)}case A.publicKey.elgamal:{const{p:n,g:a,y:o}=e,{x:l}=t;return(async function(u,f,d,y){if(u=Ee(u),f=Ee(f),d=Ee(d),f<=Za||f>=u)return!1;const p=BigInt(xc(u));if(p<BigInt(1023)||nn(f,u-Za,u)!==Za)return!1;let m=f,w=BigInt(1);const E=BigInt(2),S=E<<BigInt(17);for(;w<S;){if(m=Ge(m*f,u),m===Za)return!1;w++}y=Ee(y);const v=is(E<<p-Za,E<<p);return d===nn(f,(u-Za)*v+y,u)})(n,a,o,l)}case A.publicKey.ecdsa:case A.publicKey.ecdh:{const n=uD[A.read(A.publicKey,r)],{oid:a,Q:o}=e,{d:l}=t;return n.validateParams(a,o,l)}case A.publicKey.eddsaLegacy:{const{Q:n,oid:a}=e,{seed:o}=t;return xA(a,n,o)}case A.publicKey.ed25519:case A.publicKey.ed448:{const{A:n}=e,{seed:a}=t;return Xb(r,n,a)}case A.publicKey.x25519:case A.publicKey.x448:{const{A:n}=e,{k:a}=t;return yA(r,n,a)}default:throw Error("Unknown public key algorithm.")}}function v2(r){const{keySize:e}=ct(r);return rn(e)}function y6(r){try{r.getName()}catch{throw new Xe("Unknown curve OID")}}function bc(r,e){switch(r){case A.publicKey.ecdsa:case A.publicKey.ecdh:case A.publicKey.eddsaLegacy:return new Ur(e).payloadSize;case A.publicKey.ed25519:case A.publicKey.ed448:return oh(r);case A.publicKey.x25519:case A.publicKey.x448:return Gu(r);default:throw Error("Unknown elliptic algo")}}const a1=B.getWebCrypto(),Fu=B.getNodeCrypto(),Ps=Fu?Fu.getCiphers():[],T1={idea:Ps.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Ps.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Ps.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Ps.includes("bf-cfb")?"bf-cfb":void 0,aes128:Ps.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Ps.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Ps.includes("aes-256-cfb")?"aes-256-cfb":void 0};async function NA(r){const{blockSize:e}=ct(r),t=await rn(e),n=new Uint8Array([t[t.length-2],t[t.length-1]]);return B.concat([t,n])}async function _u(r,e,t,n,a){const o=A.read(A.symmetric,r);if(B.getNodeCrypto()&&T1[o])return(function(p,m,w,E){const S=A.read(A.symmetric,p),v=new Fu.createCipheriv(T1[S],m,E);return Rt(w,(k=>new Uint8Array(v.update(k))))})(r,e,t,n);if(B.isAES(r))return(async function(p,m,w,E){if(a1&&await B9.isSupported(p)){const S=new B9(p,m,E);return B.isStream(w)?Rt(w,(v=>S.encryptChunk(v)),(()=>S.finish())):S.encrypt(w)}if(B.isStream(w)){const S=new OA(!0,p,m,E);return Rt(w,(v=>S.processChunk(v)),(()=>S.finish()))}return cA(m,E).encrypt(w)})(r,e,t,n);const l=new(await dA(r))(e),u=l.blockSize,f=n.slice();let d=new Uint8Array;const y=p=>{p&&(d=B.concatUint8Array([d,p]));const m=new Uint8Array(d.length);let w,E=0;for(;p?d.length>=u:d.length;){const S=l.encrypt(f);for(w=0;w<u;w++)f[w]=d[w]^S[w],m[E++]=f[w];d=d.subarray(u)}return m.subarray(0,E)};return Rt(t,y,y)}async function dh(r,e,t,n){const a=A.read(A.symmetric,r);if(Fu&&T1[a])return(function(y,p,m,w){const E=A.read(A.symmetric,y),S=new Fu.createDecipheriv(T1[E],p,w);return Rt(m,(v=>new Uint8Array(S.update(v))))})(r,e,t,n);if(B.isAES(r))return(async function(y,p,m,w){if(B.isStream(m)){const E=new OA(!1,y,p,w);return Rt(m,(S=>E.processChunk(S)),(()=>E.finish()))}return cA(p,w).decrypt(m)})(r,e,t,n);const o=new(await dA(r))(e),l=o.blockSize;let u=n,f=new Uint8Array;const d=y=>{y&&(f=B.concatUint8Array([f,y]));const p=new Uint8Array(f.length);let m,w=0;for(;y?f.length>=l:f.length;){const E=o.encrypt(u);for(u=f.subarray(0,l),m=0;m<l;m++)p[w++]=u[m]^E[m];f=f.subarray(l)}return p.subarray(0,w)};return Rt(t,d,d)}class B9{constructor(e,t,n){const{blockSize:a}=ct(e);this.key=t,this.prevBlock=n,this.nextBlock=new Uint8Array(a),this.i=0,this.blockSize=a,this.zeroBlock=new Uint8Array(this.blockSize)}static async isSupported(e){const{keySize:t}=ct(e);return a1.importKey("raw",new Uint8Array(t),"aes-cbc",!1,["encrypt"]).then((()=>!0),(()=>!1))}async _runCBC(e,t){const n="AES-CBC";this.keyRef=this.keyRef||await a1.importKey("raw",this.key,n,!1,["encrypt"]);const a=await a1.encrypt({name:n,iv:t||this.zeroBlock},this.keyRef,e);return new Uint8Array(a).subarray(0,e.length)}async encryptChunk(e){const t=this.nextBlock.length-this.i,n=e.subarray(0,t);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){const o=(e.length-t)%this.blockSize,l=B.concatUint8Array([this.nextBlock,e.subarray(t,e.length-o)]),u=B.concatUint8Array([this.prevBlock,l.subarray(0,l.length-this.blockSize)]),f=await this._runCBC(u);return Qf(f,l),this.prevBlock=f.slice(-this.blockSize),o>0&&this.nextBlock.set(e.subarray(-o)),this.i=o,f}let a;if(this.i+=n.length,this.i===this.nextBlock.length){const o=this.nextBlock;a=await this._runCBC(this.prevBlock),Qf(a,o),this.prevBlock=a.slice(),this.i=0;const l=e.subarray(n.length);this.nextBlock.set(l,this.i),this.i+=l.length}else a=new Uint8Array;return a}async finish(){let e;if(this.i===0)e=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);const t=this.nextBlock,n=await this._runCBC(this.prevBlock);Qf(n,t),e=n.subarray(0,t.length)}return this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}async encrypt(e){const t=(await this._runCBC(B.concatUint8Array([new Uint8Array(this.blockSize),e]),this.iv)).subarray(0,e.length);return Qf(t,e),this.clearSensitiveData(),t}}class OA{constructor(e,t,n,a){this.forEncryption=e;const{blockSize:o}=ct(t);this.key=A9.expandKeyLE(n),a.byteOffset%4!=0&&(a=a.slice()),this.prevBlock=p6(a),this.nextBlock=new Uint8Array(o),this.i=0,this.blockSize=o}_runCFB(e){const t=p6(e),n=new Uint8Array(e.length),a=p6(n);for(let o=0;o+4<=a.length;o+=4){const{s0:l,s1:u,s2:f,s3:d}=A9.encrypt(this.key,this.prevBlock[0],this.prevBlock[1],this.prevBlock[2],this.prevBlock[3]);a[o+0]=t[o+0]^l,a[o+1]=t[o+1]^u,a[o+2]=t[o+2]^f,a[o+3]=t[o+3]^d,this.prevBlock=(this.forEncryption?a:t).slice(o,o+4)}return n}async processChunk(e){const t=this.nextBlock.length-this.i,n=e.subarray(0,t);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){const o=(e.length-t)%this.blockSize,l=B.concatUint8Array([this.nextBlock,e.subarray(t,e.length-o)]),u=this._runCFB(l);return o>0&&this.nextBlock.set(e.subarray(-o)),this.i=o,u}let a;if(this.i+=n.length,this.i===this.nextBlock.length){a=this._runCFB(this.nextBlock),this.i=0;const o=e.subarray(n.length);this.nextBlock.set(o,this.i),this.i+=o.length}else a=new Uint8Array;return a}async finish(){let e;return this.i===0?e=new Uint8Array:e=this._runCFB(this.nextBlock).subarray(0,this.i),this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.key.fill(0)}}function Qf(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)r[n]=r[n]^e[n]}const p6=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),C9=B.getWebCrypto(),pD=B.getNodeCrypto(),Ws=16;function U9(r,e){const t=r.length-Ws;for(let n=0;n<Ws;n++)r[n+t]^=e[n];return r}const s1=new Uint8Array(Ws);async function gD(r){const e=await mD(r),t=B.double(await e(s1)),n=B.double(t);return async function(a){return(await e((function(o,l,u){if(o.length&&o.length%Ws==0)return U9(o,l);const f=new Uint8Array(o.length+(Ws-o.length%Ws));return f.set(o),f[o.length]=128,U9(f,u)})(a,t,n))).subarray(-16)}}async function mD(r){if(B.getNodeCrypto())return async function(e){const t=new pD.createCipheriv("aes-"+8*r.length+"-cbc",r,s1).update(e);return new Uint8Array(t)};if(B.getWebCrypto())try{return r=await C9.importKey("raw",r,{name:"AES-CBC",length:8*r.length},!1,["encrypt"]),async function(e){const t=await C9.encrypt({name:"AES-CBC",iv:s1,length:128},r,e);return new Uint8Array(t).subarray(0,t.byteLength-Ws)}}catch(e){if(e.name!=="NotSupportedError"&&(r.length!==24||e.name!=="OperationError"))throw e;B.printDebugError("Browser did not support operation: "+e.message)}return async function(e){return g2(r,s1,{disablePadding:!0}).encrypt(e)}}const D9=B.getWebCrypto(),bD=B.getNodeCrypto(),AD=B.getNodeBuffer(),yh=16,I9=new Uint8Array(yh),S2=new Uint8Array(yh);S2[15]=1;const k2=new Uint8Array(yh);async function wD(r){const e=await gD(r);return function(t,n){return e(B.concatUint8Array([t,n]))}}async function ED(r){if(B.getNodeCrypto())return async function(e,t){const n=new bD.createCipheriv("aes-"+8*r.length+"-ctr",r,t),a=AD.concat([n.update(e),n.final()]);return new Uint8Array(a)};if(B.getWebCrypto())try{const e=await D9.importKey("raw",r,{name:"AES-CTR",length:8*r.length},!1,["encrypt"]);return async function(t,n){const a=await D9.encrypt({name:"AES-CTR",counter:n,length:128},e,t);return new Uint8Array(a)}}catch(e){if(e.name!=="NotSupportedError"&&(r.length!==24||e.name!=="OperationError"))throw e;B.printDebugError("Browser did not support operation: "+e.message)}return async function(e,t){return eD(r,t).encrypt(e)}}async function bu(r,e){if(r!==A.symmetric.aes128&&r!==A.symmetric.aes192&&r!==A.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[t,n]=await Promise.all([wD(e),ED(e)]);return{encrypt:async function(a,o,l){const[u,f]=await Promise.all([t(I9,o),t(S2,l)]),d=await n(a,u),y=await t(k2,d);for(let p=0;p<16;p++)y[p]^=f[p]^u[p];return B.concatUint8Array([d,y])},decrypt:async function(a,o,l){if(a.length<16)throw Error("Invalid EAX ciphertext");const u=a.subarray(0,-16),f=a.subarray(-16),[d,y,p]=await Promise.all([t(I9,o),t(S2,l),t(k2,u)]),m=p;for(let w=0;w<16;w++)m[w]^=y[w]^d[w];if(!B.equalsUint8Array(f,m))throw Error("Authentication tag mismatch");return await n(u,d)}}}k2[15]=2,bu.getNonce=function(r,e){const t=r.slice();for(let n=0;n<e.length;n++)t[8+n]^=e[n];return t},bu.blockLength=yh,bu.ivLength=16,bu.tagLength=16;const nr=16;function R9(r){let e=0;for(let t=1;!(r&t);t<<=1)e++;return e}function On(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t];return r}function Hf(r,e){return On(r.slice(),e)}const tu=new Uint8Array(nr),vD=new Uint8Array([1]);async function Au(r,e){const{keySize:t}=ct(r);if(!B.isAES(r)||e.length!==t)throw Error("Unexpected algorithm or key size");let n=0;const a=f=>g2(e,tu,{disablePadding:!0}).encrypt(f),o=f=>g2(e,tu,{disablePadding:!0}).decrypt(f);let l;function u(f,d,y,p){const m=d.length/nr|0;(function(I,U){const R=B.nbits(Math.max(I.length,U.length)/nr|0)-1;for(let L=n+1;L<=R;L++)l[L]=B.double(l[L-1]);n=R})(d,p);const w=B.concatUint8Array([tu.subarray(0,15-y.length),vD,y]),E=63&w[15];w[15]&=192;const S=a(w),v=B.concatUint8Array([S,Hf(S.subarray(0,8),S.subarray(1,9))]),k=B.shiftRight(v.subarray(0+(E>>3),17+(E>>3)),8-(7&E)).subarray(1),D=new Uint8Array(nr),C=new Uint8Array(d.length+16);let N,M=0;for(N=0;N<m;N++)On(k,l[R9(N+1)]),C.set(On(f(Hf(k,d)),k),M),On(D,f===a?d:C.subarray(M)),d=d.subarray(nr),M+=nr;if(d.length){On(k,l.x);const I=a(k);C.set(Hf(d,I),M);const U=new Uint8Array(nr);U.set(f===a?d:C.subarray(M,-16),0),U[d.length]=128,On(D,U),M+=d.length}const K=On(a(On(On(D,k),l.$)),(function(I){if(!I.length)return tu;const U=I.length/nr|0,R=new Uint8Array(nr),L=new Uint8Array(nr);for(let Q=0;Q<U;Q++)On(R,l[R9(Q+1)]),On(L,a(Hf(R,I))),I=I.subarray(nr);if(I.length){On(R,l.x);const Q=new Uint8Array(nr);Q.set(I,0),Q[I.length]=128,On(Q,R),On(L,a(Q))}return L})(p));return C.set(K,M),C}return(function(){const f=a(tu),d=B.double(f);l=[],l[0]=B.double(d),l.x=f,l.$=d})(),{encrypt:async function(f,d,y){return u(a,f,d,y)},decrypt:async function(f,d,y){if(f.length<16)throw Error("Invalid OCB ciphertext");const p=f.subarray(-16);f=f.subarray(0,-16);const m=u(o,f,d,y);if(B.equalsUint8Array(p,m.subarray(-16)))return m.subarray(0,-16);throw Error("Authentication tag mismatch")}}}Au.getNonce=function(r,e){const t=r.slice();for(let n=0;n<e.length;n++)t[7+n]^=e[n];return t},Au.blockLength=nr,Au.ivLength=15,Au.tagLength=16;const g6=B.getWebCrypto(),T9=B.getNodeCrypto(),N9=B.getNodeBuffer(),o1=16,m6="AES-GCM";async function Ac(r,e){if(r!==A.symmetric.aes128&&r!==A.symmetric.aes192&&r!==A.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(B.getNodeCrypto())return{encrypt:async function(t,n,a=new Uint8Array){const o=new T9.createCipheriv("aes-"+8*e.length+"-gcm",e,n);o.setAAD(a);const l=N9.concat([o.update(t),o.final(),o.getAuthTag()]);return new Uint8Array(l)},decrypt:async function(t,n,a=new Uint8Array){const o=new T9.createDecipheriv("aes-"+8*e.length+"-gcm",e,n);o.setAAD(a),o.setAuthTag(t.slice(t.length-o1,t.length));const l=N9.concat([o.update(t.slice(0,t.length-o1)),o.final()]);return new Uint8Array(l)}};if(B.getWebCrypto())try{const t=await g6.importKey("raw",e,{name:m6},!1,["encrypt","decrypt"]),n=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:async function(a,o,l=new Uint8Array){if(n&&!a.length)return Lf(e,o,l).encrypt(a);const u=await g6.encrypt({name:m6,iv:o,additionalData:l,tagLength:128},t,a);return new Uint8Array(u)},decrypt:async function(a,o,l=new Uint8Array){if(n&&a.length===o1)return Lf(e,o,l).decrypt(a);try{const u=await g6.decrypt({name:m6,iv:o,additionalData:l,tagLength:128},t,a);return new Uint8Array(u)}catch(u){if(u.name==="OperationError")throw Error("Authentication tag mismatch")}}}}catch(t){if(t.name!=="NotSupportedError"&&(e.length!==24||t.name!=="OperationError"))throw t;B.printDebugError("Browser did not support operation: "+t.message)}return{encrypt:async function(t,n,a){return Lf(e,n,a).encrypt(t)},decrypt:async function(t,n,a){return Lf(e,n,a).decrypt(t)}}}function ea(r,e=!1){switch(r){case A.aead.eax:return bu;case A.aead.ocb:return Au;case A.aead.gcm:return Ac;case A.aead.experimentalGCM:if(!e)throw Error("Unexpected non-standard `experimentalGCM` AEAD algorithm provided in `config.preferredAEADAlgorithm`: use `gcm` instead");return Ac;default:throw Error("Unsupported AEAD mode")}}async function SD(r,e,t,n,a,o){switch(r){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:case A.publicKey.rsaSign:{const{n:l,e:u}=n;return MU(e,a,B.leftPad(t.s,l.length),l,u,o)}case A.publicKey.dsa:{const{g:l,p:u,q:f,y:d}=n,{r:y,s:p}=t;return(async function(m,w,E,S,v,k,D,C){if(w=Ee(w),E=Ee(E),k=Ee(k),D=Ee(D),v=Ee(v),C=Ee(C),w<=i1||w>=D||E<=i1||E>=D)return B.printDebug("invalid DSA Signature"),!1;const N=Ge(Ee(S.subarray(0,Fn(D))),D),M=Pc(E,D);if(M===i1)return B.printDebug("invalid DSA Signature"),!1;v=Ge(v,k),C=Ge(C,k);const K=Ge(N*M,D),I=Ge(w*M,D);return Ge(Ge(nn(v,K,k)*nn(C,I,k),k),D)===w})(0,y,p,o,l,u,f,d)}case A.publicKey.ecdsa:{const{oid:l,Q:u}=n,f=new Ur(l).payloadSize;return E2(l,e,{r:B.leftPad(t.r,f),s:B.leftPad(t.s,f)},a,u,o)}case A.publicKey.eddsaLegacy:{const{oid:l,Q:u}=n,f=new Ur(l).payloadSize;return kA(l,e,{r:B.leftPad(t.r,f),s:B.leftPad(t.s,f)},0,u,o)}case A.publicKey.ed25519:case A.publicKey.ed448:{const{A:l}=n;return y3(r,e,t,0,l,o)}default:throw Error("Unknown signature algorithm.")}}async function kD(r,e,t,n,a,o){if(!t||!n)throw Error("Missing key parameters");switch(r){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:case A.publicKey.rsaSign:{const{n:l,e:u}=t,{d:f,p:d,q:y,u:p}=n;return{s:await KU(e,a,l,u,f,d,y,p,o)}}case A.publicKey.dsa:{const{g:l,p:u,q:f}=t,{x:d}=n;return(async function(y,p,m,w,E,S){const v=BigInt(0);let k,D,C,N;w=Ee(w),E=Ee(E),m=Ee(m),S=Ee(S),m=Ge(m,w),S=Ge(S,E);const M=Ge(Ee(p.subarray(0,Fn(E))),E);for(;;){if(k=is(mu,E),D=Ge(nn(m,k,w),E),D===v)continue;const K=Ge(S*D,E);if(N=Ge(M+K,E),C=Ge(Pc(k,E)*N,E),C!==v)break}return{r:Kt(D,"be",Fn(w)),s:Kt(C,"be",Fn(w))}})(0,o,l,u,f,d)}case A.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case A.publicKey.ecdsa:{const{oid:l,Q:u}=t,{d:f}=n;return w2(l,e,a,u,f,o)}case A.publicKey.eddsaLegacy:{const{oid:l,Q:u}=t,{seed:f}=n;return SA(l,e,0,u,f,o)}case A.publicKey.ed25519:case A.publicKey.ed448:{const{A:l}=t,{seed:u}=n;return d3(r,e,0,l,u,o)}default:throw Error("Unknown signature algorithm.")}}Ac.getNonce=function(r,e){const t=r.slice();for(let n=0;n<e.length;n++)t[4+n]^=e[n];return t},Ac.blockLength=16,Ac.ivLength=12,Ac.tagLength=o1;class ph extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,ph),this.name="Argon2OutOfMemoryError"}}let zf,nu;class xD{constructor(e=de){const{passes:t,parallelism:n,memoryExponent:a}=e.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=t,this.p=n,this.encodedM=a}generateSalt(){this.salt=rn(16)}read(e){let t=0;return this.salt=e.subarray(t,t+16),t+=16,this.t=e[t++],this.p=e[t++],this.encodedM=e[t++],t}write(){const e=[new Uint8Array([A.write(A.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return B.concatUint8Array(e)}async produceKey(e,t){const n=2<<this.encodedM-1;try{zf=zf||(await Promise.resolve().then((function(){return WR}))).default,nu=nu||zf();const a=await nu,o=a({version:19,type:2,password:B.encodeUTF8(e),salt:this.salt,tagLength:t,memorySize:n,parallelism:this.p,passes:this.t});return n>1048576&&(nu=zf(),nu.catch((()=>{}))),o}catch(a){throw a.message&&(a.message.includes("Unable to grow instance memory")||a.message.includes("failed to grow memory")||a.message.includes("WebAssembly.Memory.grow")||a.message.includes("Out of memory"))?new ph("Could not allocate required memory for Argon2"):a}}}class BD{constructor(e,t=de){this.algorithm=A.hash.sha256,this.type=A.read(A.s2k,e),this.c=t.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=rn(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if(B.uint8ArrayToString(e.subarray(t,t+3))!=="GNU")throw new Xe("Unknown s2k type.");if(t+=3,1e3+e[t++]!==1001)throw new Xe("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new Xe("Unknown s2k type.")}return t}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...B.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([A.write(A.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return B.concatUint8Array(e)}async produceKey(e,t){e=B.encodeUTF8(e);const n=[];let a=0,o=0;for(;a<t;){let l;switch(this.type){case"simple":l=B.concatUint8Array([new Uint8Array(o),e]);break;case"salted":l=B.concatUint8Array([new Uint8Array(o),this.salt,e]);break;case"iterated":{const f=B.concatUint8Array([this.salt,e]);let d=f.length;const y=Math.max(this.getCount(),d);l=new Uint8Array(o+y),l.set(f,o);for(let p=o+d;p<y;p+=d,d*=2)l.copyWithin(p,o,p);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const u=await Ai(this.algorithm,l);n.push(u),a+=u.length,o++}return B.concatUint8Array(n).subarray(0,t)}}const CD=new Set([A.s2k.argon2,A.s2k.iterated]);function N1(r,e=de){switch(r){case A.s2k.argon2:return new xD(e);case A.s2k.iterated:case A.s2k.gnu:case A.s2k.salted:case A.s2k.simple:return new BD(r,e);default:throw new Xe("Unsupported S2K type")}}function PA(r){const{s2kType:e}=r;if(!CD.has(e))throw Error("The provided `config.s2kType` value is not allowed");return N1(e,r)}var Ot=Uint8Array,cr=Uint16Array,S3=Int32Array,gh=new Ot([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mh=new Ot([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x2=new Ot([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KA=function(r,e){for(var t=new cr(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];var a=new S3(t[30]);for(n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)a[o]=o-t[n]<<5|n;return{b:t,r:a}},MA=KA(gh,2),LA=MA.b,B2=MA.r;LA[28]=258,B2[258]=28;for(var O9=KA(mh,0),UD=O9.b,P9=O9.r,C2=new cr(32768),yt=0;yt<32768;++yt){var Ks=(43690&yt)>>1|(21845&yt)<<1;Ks=(61680&(Ks=(52428&Ks)>>2|(13107&Ks)<<2))>>4|(3855&Ks)<<4,C2[yt]=((65280&Ks)>>8|(255&Ks)<<8)>>1}var gi=function(r,e,t){for(var n=r.length,a=0,o=new cr(e);a<n;++a)r[a]&&++o[r[a]-1];var l,u=new cr(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;if(t){l=new cr(1<<e);var f=15-e;for(a=0;a<n;++a)if(r[a])for(var d=a<<4|r[a],y=e-r[a],p=u[r[a]-1]++<<y,m=p|(1<<y)-1;p<=m;++p)l[C2[p]>>f]=d}else for(l=new cr(n),a=0;a<n;++a)r[a]&&(l[a]=C2[u[r[a]-1]++]>>15-r[a]);return l},ls=new Ot(288);for(yt=0;yt<144;++yt)ls[yt]=8;for(yt=144;yt<256;++yt)ls[yt]=9;for(yt=256;yt<280;++yt)ls[yt]=7;for(yt=280;yt<288;++yt)ls[yt]=8;var ju=new Ot(32);for(yt=0;yt<32;++yt)ju[yt]=5;var DD=gi(ls,9,0),ID=gi(ls,9,1),RD=gi(ju,5,0),TD=gi(ju,5,1),b6=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Pr=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(7&e)&t},A6=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(7&e)},k3=function(r){return(r+7)/8|0},wu=function(r,e,t){return(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length),new Ot(r.subarray(e,t))},ND=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wt=function(r,e,t){var n=Error(e||ND[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Wt),!t)throw n;return n},Li=function(r,e,t){t<<=7&e;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},ru=function(r,e,t){t<<=7&e;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},w6=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,o=t.slice();if(!a)return{t:HA,l:0};if(a==1){var l=new Ot(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort((function(M,K){return M.f-K.f})),t.push({s:-1,f:25001});var u=t[0],f=t[1],d=0,y=1,p=2;for(t[0]={s:-1,f:u.f+f.f,l:u,r:f};y!=a-1;)u=t[t[d].f<t[p].f?d++:p++],f=t[d!=y&&t[d].f<t[p].f?d++:p++],t[y++]={s:-1,f:u.f+f.f,l:u,r:f};var m=o[0].s;for(n=1;n<a;++n)o[n].s>m&&(m=o[n].s);var w=new cr(m+1),E=U2(t[y-1],w,0);if(E>e){n=0;var S=0,v=E-e,k=1<<v;for(o.sort((function(M,K){return w[K.s]-w[M.s]||M.f-K.f}));n<a;++n){var D=o[n].s;if(!(w[D]>e))break;S+=k-(1<<E-w[D]),w[D]=e}for(S>>=v;S>0;){var C=o[n].s;w[C]<e?S-=1<<e-w[C]++-1:++n}for(;n>=0&&S;--n){var N=o[n].s;w[N]==e&&(--w[N],++S)}E=e}return{t:new Ot(w),l:E}},U2=function(r,e,t){return r.s==-1?Math.max(U2(r.l,e,t+1),U2(r.r,e,t+1)):e[r.s]=t},K9=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new cr(++e),n=0,a=r[0],o=1,l=function(f){t[n++]=f},u=1;u<=e;++u)if(r[u]==a&&u!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(a),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(a);o=1,a=r[u]}return{c:t.subarray(0,n),n:e}},iu=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},QA=function(r,e,t){var n=t.length,a=k3(e+2);r[a]=255&n,r[a+1]=n>>8,r[a+2]=255^r[a],r[a+3]=255^r[a+1];for(var o=0;o<n;++o)r[a+o+4]=t[o];return 8*(a+4+n)},M9=function(r,e,t,n,a,o,l,u,f,d,y){Li(e,y++,t),++a[256];for(var p=w6(a,15),m=p.t,w=p.l,E=w6(o,15),S=E.t,v=E.l,k=K9(m),D=k.c,C=k.n,N=K9(S),M=N.c,K=N.n,I=new cr(19),U=0;U<D.length;++U)++I[31&D[U]];for(U=0;U<M.length;++U)++I[31&M[U]];for(var R=w6(I,7),L=R.t,Q=R.l,F=19;F>4&&!L[x2[F-1]];--F);var G,Z,H,O,j=d+5<<3,ee=iu(a,ls)+iu(o,ju)+l,ne=iu(a,m)+iu(o,S)+l+14+3*F+iu(I,L)+2*I[16]+3*I[17]+7*I[18];if(f>=0&&j<=ee&&j<=ne)return QA(e,y,r.subarray(f,f+d));if(Li(e,y,1+(ne<ee)),y+=2,ne<ee){G=gi(m,w,0),Z=m,H=gi(S,v,0),O=S;var P=gi(L,Q,0);for(Li(e,y,C-257),Li(e,y+5,K-1),Li(e,y+10,F-4),y+=14,U=0;U<F;++U)Li(e,y+3*U,L[x2[U]]);y+=3*F;for(var _=[D,M],q=0;q<2;++q){var W=_[q];for(U=0;U<W.length;++U){var X=31&W[U];Li(e,y,P[X]),y+=L[X],X>15&&(Li(e,y,W[U]>>5&127),y+=W[U]>>12)}}}else G=DD,Z=ls,H=RD,O=ju;for(U=0;U<u;++U){var ce=n[U];if(ce>255){ru(e,y,G[(X=ce>>18&31)+257]),y+=Z[X+257],X>7&&(Li(e,y,ce>>23&31),y+=gh[X]);var le=31&ce;ru(e,y,H[le]),y+=O[le],le>3&&(ru(e,y,ce>>5&8191),y+=mh[le])}else ru(e,y,G[ce]),y+=Z[ce]}return ru(e,y,G[256]),y+Z[256]},OD=new S3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HA=new Ot(0),L9=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,o=0|t.length,l=0;l!=o;){for(var u=Math.min(l+2655,o);l<u;++l)a+=n+=t[l];n=(65535&n)+15*(n>>16),a=(65535&a)+15*(a>>16)}r=n,e=a},d:function(){return(255&(r%=65521))<<24|(65280&r)<<8|(255&(e%=65521))<<8|e>>8}}},zA=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Ot(o.length+r.length);l.set(o),l.set(r,o.length),r=l,a.w=o.length}return(function(u,f,d,y,p,m){var w=m.z||u.length,E=new Ot(y+w+5*(1+Math.ceil(w/7e3))+p),S=E.subarray(y,E.length-p),v=m.l,k=7&(m.r||0);if(f){k&&(S[0]=m.r>>3);for(var D=OD[f-1],C=D>>13,N=8191&D,M=(1<<d)-1,K=m.p||new cr(32768),I=m.h||new cr(M+1),U=Math.ceil(d/3),R=2*U,L=function(bo){return(u[bo]^u[bo+1]<<U^u[bo+2]<<R)&M},Q=new S3(25e3),F=new cr(288),G=new cr(32),Z=0,H=0,O=m.i||0,j=0,ee=m.w||0,ne=0;O+2<w;++O){var P=L(O),_=32767&O,q=I[P];if(K[_]=q,I[P]=_,ee<=O){var W=w-O;if((Z>7e3||j>24576)&&(W>423||!v)){k=M9(u,S,0,Q,F,G,H,j,ne,O-ne,k),j=Z=H=0,ne=O;for(var X=0;X<286;++X)F[X]=0;for(X=0;X<30;++X)G[X]=0}var ce=2,le=0,ve=N,ye=_-q&32767;if(W>2&&P==L(O-ye))for(var Be=Math.min(C,W)-1,Ie=Math.min(32767,O),Me=Math.min(258,W);ye<=Ie&&--ve&&_!=q;){if(u[O+ce]==u[O+ce-ye]){for(var Ue=0;Ue<Me&&u[O+Ue]==u[O+Ue-ye];++Ue);if(Ue>ce){if(ce=Ue,le=ye,Ue>Be)break;var qe=Math.min(ye,Ue-2),Ye=0;for(X=0;X<qe;++X){var tt=O-ye+X&32767,jr=tt-K[tt]&32767;jr>Ye&&(Ye=jr,q=tt)}}}ye+=(_=q)-(q=K[_])&32767}if(le){Q[j++]=268435456|B2[ce]<<18|P9[le];var Vn=31&B2[ce],h0=31&P9[le];H+=gh[Vn]+mh[h0],++F[257+Vn],++G[h0],ee=O+ce,++Z}else Q[j++]=u[O],++F[u[O]]}}for(O=Math.max(O,ee);O<w;++O)Q[j++]=u[O],++F[u[O]];k=M9(u,S,v,Q,F,G,H,j,ne,O-ne,k),v||(m.r=7&k|S[k/8|0]<<3,k-=7,m.h=I,m.p=K,m.i=O,m.w=ee)}else{for(O=m.w||0;O<w+v;O+=65535){var mo=O+65535;mo>=w&&(S[k/8|0]=v,mo=w),k=QA(S,k+1,u.subarray(O,mo))}m.i=w}return wu(E,0,y+k3(k)+p)})(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):20:12+e.mem,t,n,a)},Q9=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},c1=(function(){function r(e,t){if(typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new Ot(98304),this.o.dictionary){var n=this.o.dictionary.subarray(-32768);this.b.set(n,32768-n.length),this.s.i=32768-n.length}}return r.prototype.p=function(e,t){this.ondata(zA(e,this.o,0,0,this.s),t)},r.prototype.push=function(e,t){this.ondata||Wt(5),this.s.l&&Wt(4);var n=e.length+this.s.z;if(n>this.b.length){if(n>2*this.b.length-32768){var a=new Ot(-32768&n);a.set(this.b.subarray(0,this.s.z)),this.b=a}var o=this.b.length-this.s.z;this.b.set(e.subarray(0,o),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(o),32768),this.s.z=e.length-o+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},r.prototype.flush=function(){this.ondata||Wt(5),this.s.l&&Wt(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},r})(),l1=(function(){function r(e,t){typeof e=="function"&&(t=e,e={}),this.ondata=t;var n=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:n?n.length:0},this.o=new Ot(32768),this.p=new Ot(0),n&&this.o.set(n)}return r.prototype.e=function(e){if(this.ondata||Wt(5),this.d&&Wt(4),this.p.length){if(e.length){var t=new Ot(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},r.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,n=(function(a,o,l,u){var f=a.length;if(!f||o.f&&!o.l)return l||new Ot(0);var d=!l,y=d||o.i!=2,p=o.i;d&&(l=new Ot(3*f));var m=function(Ye){var tt=l.length;if(Ye>tt){var jr=new Ot(Math.max(2*tt,Ye));jr.set(l),l=jr}},w=o.f||0,E=o.p||0,S=o.b||0,v=o.l,k=o.d,D=o.m,C=o.n,N=8*f;do{if(!v){w=Pr(a,E,1);var M=Pr(a,E+1,3);if(E+=3,!M){var K=a[(j=k3(E)+4)-4]|a[j-3]<<8,I=j+K;if(I>f){p&&Wt(0);break}y&&m(S+K),l.set(a.subarray(j,I),S),o.b=S+=K,o.p=E=8*I,o.f=w;continue}if(M==1)v=ID,k=TD,D=9,C=5;else if(M==2){var U=Pr(a,E,31)+257,R=Pr(a,E+10,15)+4,L=U+Pr(a,E+5,31)+1;E+=14;for(var Q=new Ot(L),F=new Ot(19),G=0;G<R;++G)F[x2[G]]=Pr(a,E+3*G,7);E+=3*R;var Z=b6(F),H=(1<<Z)-1,O=gi(F,Z,1);for(G=0;G<L;){var j,ee=O[Pr(a,E,H)];if(E+=15&ee,(j=ee>>4)<16)Q[G++]=j;else{var ne=0,P=0;for(j==16?(P=3+Pr(a,E,3),E+=2,ne=Q[G-1]):j==17?(P=3+Pr(a,E,7),E+=3):j==18&&(P=11+Pr(a,E,127),E+=7);P--;)Q[G++]=ne}}var _=Q.subarray(0,U),q=Q.subarray(U);D=b6(_),C=b6(q),v=gi(_,D,1),k=gi(q,C,1)}else Wt(1);if(E>N){p&&Wt(0);break}}y&&m(S+131072);for(var W=(1<<D)-1,X=(1<<C)-1,ce=E;;ce=E){var le=(ne=v[A6(a,E)&W])>>4;if((E+=15&ne)>N){p&&Wt(0);break}if(ne||Wt(2),le<256)l[S++]=le;else{if(le==256){ce=E,v=null;break}var ve=le-254;if(le>264){var ye=gh[G=le-257];ve=Pr(a,E,(1<<ye)-1)+LA[G],E+=ye}var Be=k[A6(a,E)&X],Ie=Be>>4;if(Be||Wt(3),E+=15&Be,q=UD[Ie],Ie>3&&(ye=mh[Ie],q+=A6(a,E)&(1<<ye)-1,E+=ye),E>N){p&&Wt(0);break}y&&m(S+131072);var Me=S+ve;if(S<q){var Ue=0-q,qe=Math.min(q,Me);for(Ue+S<0&&Wt(3);S<qe;++S)l[S]=u[Ue+S]}for(;S<Me;++S)l[S]=l[S-q]}}o.l=v,o.p=ce,o.b=S,o.f=w,v&&(w=1,o.m=D,o.d=k,o.n=C)}while(!w);return S!=l.length&&d?wu(l,0,S):l.subarray(0,S)})(this.p,this.s,this.o);this.ondata(wu(n,t,this.s.b),this.d),this.o=wu(n,this.s.b-32768),this.s.b=this.o.length,this.p=wu(this.p,this.s.p/8|0),this.s.p&=7},r.prototype.push=function(e,t){this.e(e),this.c(t)},r})(),PD=(function(){function r(e,t){this.c=L9(),this.v=1,c1.call(this,e,t)}return r.prototype.push=function(e,t){this.c.p(e),c1.prototype.push.call(this,e,t)},r.prototype.p=function(e,t){var n=zA(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&((function(a,o){var l=o.level,u=l==0?0:l<6?1:l==9?3:2;if(a[0]=120,a[1]=u<<6|(o.dictionary&&32),a[1]|=31-(a[0]<<8|a[1])%31,o.dictionary){var f=L9();f.p(o.dictionary),Q9(a,2,f.d())}})(n,this.o),this.v=0),t&&Q9(n,n.length-4,this.c.d()),this.ondata(n,t)},r.prototype.flush=function(){c1.prototype.flush.call(this)},r})(),KD=(function(){function r(e,t){l1.call(this,e,t),this.v=e&&e.dictionary?2:1}return r.prototype.push=function(e,t){if(l1.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray((n=this.p,a=this.v-1,((15&n[0])!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Wt(6,"invalid zlib data"),(n[1]>>5&1)==+!a&&Wt(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4))),this.v=0}var n,a;t&&(this.p.length<4&&Wt(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),l1.prototype.c.call(this,t)},r})(),MD=typeof TextDecoder<"u"&&new TextDecoder;try{MD.decode(HA,{stream:!0})}catch{}class qc{static get tag(){return A.packet.literalData}constructor(e=new Date){this.format=A.literal.utf8,this.date=B.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=A.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(this.text===null||B.isStream(this.text))&&(this.text=B.decodeUTF8(B.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return this.data===null&&(this.data=B.canonicalizeEOL(B.encodeUTF8(this.text))),e?Bu(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await ah(e,(async t=>{const n=await t.readByte(),a=await t.readByte();this.filename=B.decodeUTF8(await t.readBytes(a)),this.date=B.readDate(await t.readBytes(4));let o=t.remainder();Lt(o)&&(o=await Ft(o)),this.setBytes(o,n)}))}writeHeader(){const e=B.encodeUTF8(this.filename),t=new Uint8Array([e.length]),n=new Uint8Array([this.format]),a=B.writeDate(this.date);return B.concatUint8Array([n,t,e,a])}write(){const e=this.writeHeader(),t=this.getBytes();return B.concat([e,t])}}class mi{constructor(){this.bytes=""}read(e){return this.bytes=B.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return B.stringToUint8Array(this.bytes)}toHex(){return B.uint8ArrayToHex(B.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new mi;return t.read(B.hexToUint8Array(e)),t}static wildcard(){const e=new mi;return e.read(new Uint8Array(8)),e}}const au=Symbol("verified"),H9="salt@notations.openpgpjs.org",LD=new Set([A.signatureSubpacket.issuerKeyID,A.signatureSubpacket.issuerFingerprint,A.signatureSubpacket.embeddedSignature]);class hn{static get tag(){return A.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.unknownSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new mi,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[au]=null}read(e,t=de){let n=0;if(this.version=e[n++],this.version===5&&!t.enableParsingV5Entities)throw new Xe("Support for v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version!==4&&this.version!==5&&this.version!==6)throw new Xe(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[n++],this.publicKeyAlgorithm=e[n++],this.hashAlgorithm=e[n++],n+=this.readSubPackets(e.subarray(n,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=e.subarray(0,n),n+=this.readSubPackets(e.subarray(n,e.length),!1),this.signedHashValue=e.subarray(n,n+2),n+=2,this.version===6){const u=e[n++];this.salt=e.subarray(n,n+u),n+=u}const a=e.subarray(n,e.length),{read:o,signatureParams:l}=(function(u,f){let d=0;switch(u){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:case A.publicKey.rsaSign:{const y=B.readMPI(f.subarray(d));return d+=y.length+2,{read:d,signatureParams:{s:y}}}case A.publicKey.dsa:case A.publicKey.ecdsa:{const y=B.readMPI(f.subarray(d));d+=y.length+2;const p=B.readMPI(f.subarray(d));return d+=p.length+2,{read:d,signatureParams:{r:y,s:p}}}case A.publicKey.eddsaLegacy:{const y=B.readMPI(f.subarray(d));d+=y.length+2;const p=B.readMPI(f.subarray(d));return d+=p.length+2,{read:d,signatureParams:{r:y,s:p}}}case A.publicKey.ed25519:case A.publicKey.ed448:{const y=2*oh(u),p=B.readExactSubarray(f,d,d+y);return d+=p.length,{read:d,signatureParams:{RS:p}}}default:throw new Xe("Unknown signature algorithm.")}})(this.publicKeyAlgorithm,a);if(o<a.length)throw Error("Error reading MPIs");this.params=l}writeParams(){return this.params instanceof Promise?hs((async()=>Mc(this.publicKeyAlgorithm,await this.params))):Mc(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),this.version===6&&(e.push(new Uint8Array([this.salt.length])),e.push(this.salt)),e.push(this.writeParams()),B.concat(e)}async sign(e,t,n=new Date,a=!1,o){this.version=e.version,this.created=B.normalizeDate(n),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID();const l=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(this.version===6){const y=E6(this.hashAlgorithm);if(this.salt===null)this.salt=rn(y);else if(y!==this.salt.length)throw Error("Provided salt does not have the required length")}else if(o.nonDeterministicSignaturesViaNotation){if(this.rawNotations.filter((({name:y})=>y===H9)).length!==0)throw Error("Unexpected existing salt notation");{const y=rn(E6(this.hashAlgorithm));this.rawNotations.push({name:H9,value:y,humanReadable:!1,critical:!1})}}l.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=B.concat(l);const u=this.toHash(this.signatureType,t,a),f=await this.hash(this.signatureType,t,u,a);this.signedHashValue=fn(ao(f),0,2);const d=async()=>kD(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,u,await Ft(f));B.isStream(f)?this.params=d():(this.params=await d(),this[au]=!0)}writeHashedSubPackets(){const e=A.signatureSubpacket,t=[];let n;if(this.created===null)throw Error("Missing signature creation time");t.push(ot(e.signatureCreationTime,!0,B.writeDate(this.created))),this.signatureExpirationTime!==null&&t.push(ot(e.signatureExpirationTime,!0,B.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&t.push(ot(e.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(ot(e.trustSignature,!0,n))),this.regularExpression!==null&&t.push(ot(e.regularExpression,!0,this.regularExpression)),this.revocable!==null&&t.push(ot(e.revocable,!0,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&t.push(ot(e.keyExpirationTime,!0,B.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(ot(e.preferredSymmetricAlgorithms,!1,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=B.concat([n,this.revocationKeyFingerprint]),t.push(ot(e.revocationKey,!1,n))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&t.push(ot(e.issuerKeyID,!1,this.issuerKeyID.write())),this.rawNotations.forEach((({name:l,value:u,humanReadable:f,critical:d})=>{n=[new Uint8Array([f?128:0,0,0,0])];const y=B.encodeUTF8(l);n.push(B.writeNumber(y.length,2)),n.push(B.writeNumber(u.length,2)),n.push(y),n.push(u),n=B.concat(n),t.push(ot(e.notationData,d,n))})),this.preferredHashAlgorithms!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(ot(e.preferredHashAlgorithms,!1,n))),this.preferredCompressionAlgorithms!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(ot(e.preferredCompressionAlgorithms,!1,n))),this.keyServerPreferences!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.keyServerPreferences)),t.push(ot(e.keyServerPreferences,!1,n))),this.preferredKeyServer!==null&&t.push(ot(e.preferredKeyServer,!1,B.encodeUTF8(this.preferredKeyServer))),this.isPrimaryUserID!==null&&t.push(ot(e.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&t.push(ot(e.policyURI,!1,B.encodeUTF8(this.policyURI))),this.keyFlags!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.keyFlags)),t.push(ot(e.keyFlags,!0,n))),this.signersUserID!==null&&t.push(ot(e.signersUserID,!1,B.encodeUTF8(this.signersUserID))),this.reasonForRevocationFlag!==null&&(n=B.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(ot(e.reasonForRevocation,!0,n))),this.features!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.features)),t.push(ot(e.features,!1,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(B.stringToUint8Array(this.signatureTargetHash)),n=B.concat(n),t.push(ot(e.signatureTarget,!0,n))),this.embeddedSignature!==null&&t.push(ot(e.embeddedSignature,!0,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=B.concat(n),t.push(ot(e.issuerFingerprint,this.version>=5,n))),this.preferredAEADAlgorithms!==null&&(n=B.stringToUint8Array(B.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(ot(e.preferredAEADAlgorithms,!1,n))),this.preferredCipherSuites!==null&&(n=new Uint8Array([].concat(...this.preferredCipherSuites)),t.push(ot(e.preferredCipherSuites,!1,n)));const a=B.concat(t),o=B.writeNumber(a.length,this.version===6?4:2);return B.concat([o,a])}writeUnhashedSubPackets(){const e=this.unhashedSubpackets.map((({type:a,critical:o,body:l})=>ot(a,o,l))),t=B.concat(e),n=B.writeNumber(t.length,this.version===6?4:2);return B.concat([n,t])}readSubPacket(e,t=!0){let n=0;const a=!!(128&e[n]),o=127&e[n];if(n++,t||(this.unhashedSubpackets.push({type:o,critical:a,body:e.subarray(n,e.length)}),LD.has(o)))switch(o){case A.signatureSubpacket.signatureCreationTime:this.created=B.readDate(e.subarray(n,e.length));break;case A.signatureSubpacket.signatureExpirationTime:{const l=B.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=l===0,this.signatureExpirationTime=l;break}case A.signatureSubpacket.exportableCertification:this.exportable=e[n++]===1;break;case A.signatureSubpacket.trustSignature:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case A.signatureSubpacket.regularExpression:this.regularExpression=e[n];break;case A.signatureSubpacket.revocable:this.revocable=e[n++]===1;break;case A.signatureSubpacket.keyExpirationTime:{const l=B.readNumber(e.subarray(n,e.length));this.keyExpirationTime=l,this.keyNeverExpires=l===0;break}case A.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.revocationKey:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case A.signatureSubpacket.issuerKeyID:if(this.version===4)this.issuerKeyID.read(e.subarray(n,e.length));else if(t)throw Error("Unexpected Issuer Key ID subpacket");break;case A.signatureSubpacket.notationData:{const l=!!(128&e[n]);n+=4;const u=B.readNumber(e.subarray(n,n+2));n+=2;const f=B.readNumber(e.subarray(n,n+2));n+=2;const d=B.decodeUTF8(e.subarray(n,n+u)),y=e.subarray(n+u,n+u+f);this.rawNotations.push({name:d,humanReadable:l,value:y,critical:a}),l&&(this.notations[d]=B.decodeUTF8(y));break}case A.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=B.decodeUTF8(e.subarray(n,e.length));break;case A.signatureSubpacket.primaryUserID:this.isPrimaryUserID=e[n++]!==0;break;case A.signatureSubpacket.policyURI:this.policyURI=B.decodeUTF8(e.subarray(n,e.length));break;case A.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.signersUserID:this.signersUserID=B.decodeUTF8(e.subarray(n,e.length));break;case A.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=B.decodeUTF8(e.subarray(n,e.length));break;case A.signatureSubpacket.features:this.features=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];const l=Vt(this.signatureTargetHashAlgorithm);this.signatureTargetHash=B.uint8ArrayToString(e.subarray(n,n+l));break}case A.signatureSubpacket.embeddedSignature:this.embeddedSignature=new hn,this.embeddedSignature.read(e.subarray(n,e.length));break;case A.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case A.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(n,e.length)];break;case A.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let l=n;l<e.length;l+=2)this.preferredCipherSuites.push([e[l],e[l+1]]);break;default:this.unknownSubpackets.push({type:o,critical:a,body:e.subarray(n,e.length)})}}readSubPackets(e,t=!0,n){const a=this.version===6?4:2,o=B.readNumber(e.subarray(0,a));let l=a;for(;l<2+o;){const u=Jb(e.subarray(l,e.length));l+=u.offset,this.readSubPacket(e.subarray(l,l+u.len),t,n),l+=u.len}return l}toSign(e,t){const n=A.signature;switch(e){case n.binary:return t.text!==null?B.encodeUTF8(t.getText(!0)):t.getBytes(!0);case n.text:{const a=t.getBytes(!0);return B.canonicalizeEOL(a)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let a,o;if(t.userID)o=180,a=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");o=209,a=t.userAttribute}const l=a.write();return B.concat([this.toSign(n.key,t),new Uint8Array([o]),B.writeNumber(l.length,4),l])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return B.concat([this.toSign(n.key,t),this.toSign(n.key,{key:t.bind})]);case n.key:if(t.key===void 0)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,t);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let n=0;return Rt(ao(this.signatureData),(a=>{n+=a.length}),(()=>{const a=[];return this.version!==5||this.signatureType!==A.signature.binary&&this.signatureType!==A.signature.text||(t?a.push(new Uint8Array(6)):a.push(e.writeHeader())),a.push(new Uint8Array([this.version,255])),this.version===5&&a.push(new Uint8Array(4)),a.push(B.writeNumber(n,4)),B.concat(a)}))}toHash(e,t,n=!1){const a=this.toSign(e,t);return B.concat([this.salt||new Uint8Array,a,this.signatureData,this.calculateTrailer(t,n)])}async hash(e,t,n,a=!1){if(this.version===6&&this.salt.length!==E6(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return n||(n=this.toHash(e,t,a)),Ai(this.hashAlgorithm,n)}async verify(e,t,n,a=new Date,o=!1,l=de){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const u=t===A.signature.binary||t===A.signature.text;if(!(this[au]&&!u)){let d,y;if(this.hashed?y=await this.hashed:(d=this.toHash(t,n,o),y=await this.hash(t,n,d)),y=await Ft(y),this.signedHashValue[0]!==y[0]||this.signedHashValue[1]!==y[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[au]=await SD(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,d,y),!this[au])throw Error("Signature verification failed")}const f=B.normalizeDate(a);if(f&&this.created>f)throw Error("Signature creation time is in the future");if(f&&f>=this.getExpirationTime())throw Error("Signature is expired");if(l.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+A.read(A.hash,this.hashAlgorithm).toUpperCase());if(l.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[A.signature.binary,A.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+A.read(A.hash,this.hashAlgorithm).toUpperCase());if(this.unknownSubpackets.forEach((({type:d,critical:y})=>{if(y)throw Error("Unknown critical signature subpacket type "+d)})),this.rawNotations.forEach((({name:d,critical:y})=>{if(y&&l.knownNotations.indexOf(d)<0)throw Error("Unknown critical notation: "+d)})),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const t=B.normalizeDate(e);return t!==null&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function ot(r,e,t){const n=[];return n.push(sh(t.length+1)),n.push(new Uint8Array([(e?128:0)|r])),n.push(t),B.concat(n)}function E6(r){switch(r){case A.hash.sha256:return 16;case A.hash.sha384:return 24;case A.hash.sha512:return 32;case A.hash.sha224:case A.hash.sha3_256:return 16;case A.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}class Br{static get tag(){return A.packet.onePassSignature}static fromSignaturePacket(e,t){const n=new Br;return n.version=e.version===6?6:3,n.signatureType=e.signatureType,n.hashAlgorithm=e.hashAlgorithm,n.publicKeyAlgorithm=e.publicKeyAlgorithm,n.issuerKeyID=e.issuerKeyID,n.salt=e.salt,n.issuerFingerprint=e.issuerFingerprint,n.flags=t?1:0,n}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],this.version!==3&&this.version!==6)throw new Xe(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.version===6){const n=e[t++];this.salt=e.subarray(t,t+n),t+=n,this.issuerFingerprint=e.subarray(t,t+32),t+=32,this.issuerKeyID=new mi,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new mi,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8;return this.flags=e[t++],this}write(){const e=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return this.version===6?e.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):e.push(this.issuerKeyID.write()),e.push(new Uint8Array([this.flags])),B.concatUint8Array(e)}calculateTrailer(...e){return hs((async()=>hn.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==A.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID)||this.version===3&&e.version===6||this.version===6&&e.version!==6||this.version===6&&!B.equalsUint8Array(e.issuerFingerprint,this.issuerFingerprint)||this.version===6&&!B.equalsUint8Array(e.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function QD(r,e){if(!e[r]){let t;try{t=A.read(A.packet,r)}catch{throw new n1("Unknown packet type with tag: "+r)}throw Error("Packet not allowed in this context: "+t)}return new e[r]}Br.prototype.hash=hn.prototype.hash,Br.prototype.toHash=hn.prototype.toHash,Br.prototype.toSign=hn.prototype.toSign;class et extends Array{static async fromBinary(e,t,n=de,a=null,o=!1){const l=new et;return await l.read(e,t,n,a,o),l}async read(e,t,n=de,a=null,o=!1){let l;n.additionalAllowedPackets.length&&(l=B.constructAllowedPackets(n.additionalAllowedPackets),t={...t,...l}),this.stream=fs(e,(async(f,d)=>{const y=aa(f),p=lr(d);try{let m=B.isStream(f);for(;;){let w,E;if(await p.ready,await qU(y,m,(async v=>{try{if(v.tag===A.packet.marker||v.tag===A.packet.trust||v.tag===A.packet.padding)return;const k=QD(v.tag,t);try{a?.recordPacket(v.tag,l)}catch(D){if(n.enforceGrammar)throw D;B.printDebugError(D)}k.packets=new et,k.fromStream=B.isStream(v.packet),E=k.fromStream;try{await k.read(v.packet,n)}catch(D){throw D instanceof Xe?D:B.wrapError(new f6(`Parsing ${k.constructor.name} failed`),D)}await p.write(k)}catch(k){const D=k instanceof n1&&v.tag<=39,C=k instanceof Xe&&!(k instanceof n1)&&!n.ignoreUnsupportedPackets,N=k instanceof f6&&!n.ignoreMalformedPackets,M=t1(v.tag);if(D||C||N||M||!(k instanceof n1||k instanceof Xe||k instanceof f6))o?w=k:await p.abort(k);else{const K=new h2(v.tag,v.packet);await p.write(K)}B.printDebugError(k)}})),E&&(m=null),w)throw await y.readToEnd(),w;const S=await y.peekBytes(2);if(!S||!S.length){try{a?.recordEnd()}catch(v){if(n.enforceGrammar)throw v;B.printDebugError(v)}return await p.ready,void await p.close()}}}catch(m){await p.abort(m)}}));const u=aa(this.stream);for(;;){const{done:f,value:d}=await u.read();if(f?this.stream=null:this.push(d),f||t1(d.constructor.tag))break}u.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const n=this[t]instanceof h2?this[t].tag:this[t].constructor.tag,a=this[t].write();if(B.isStream(a)&&t1(this[t].constructor.tag)){let o=[],l=0;const u=512;e.push(B1(n)),e.push(Rt(a,(f=>{if(o.push(f),l+=f.length,l>=u){const d=Math.min(Math.log(l)/Math.LN2|0,30),y=2**d,p=B.concat([VU(d)].concat(o));return o=[p.subarray(1+y)],l=o[0].length,p.subarray(0,1+y)}}),(()=>B.concat([sh(l)].concat(o)))))}else{if(B.isStream(a)){let o=0;e.push(Rt(ao(a),(l=>{o+=l.length}),(()=>y9(n,o))))}else e.push(y9(n,a.length));e.push(a)}}return B.concat(e)}filterByTag(...e){const t=new et,n=a=>o=>a===o;for(let a=0;a<this.length;a++)e.some(n(this[a].constructor.tag))&&t.push(this[a]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],n=this,a=o=>l=>o===l;for(let o=0;o<this.length;o++)e.some(a(n[o].constructor.tag))&&t.push(o);return t}}class ni extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,ni),this.name="GrammarError"}}var Ct;(function(r){r[r.EmptyMessage=0]="EmptyMessage",r[r.PlaintextOrEncryptedData=1]="PlaintextOrEncryptedData",r[r.EncryptedSessionKeys=2]="EncryptedSessionKeys",r[r.StandaloneAdditionalAllowedData=3]="StandaloneAdditionalAllowedData"})(Ct||(Ct={}));class bh{constructor(){this.state=Ct.EmptyMessage,this.leadingOnePassSignatureCounter=0}recordPacket(e,t){switch(this.state){case Ct.EmptyMessage:case Ct.StandaloneAdditionalAllowedData:switch(e){case A.packet.literalData:case A.packet.compressedData:case A.packet.aeadEncryptedData:case A.packet.symEncryptedIntegrityProtectedData:case A.packet.symmetricallyEncryptedData:return void(this.state=Ct.PlaintextOrEncryptedData);case A.packet.signature:if(this.state===Ct.StandaloneAdditionalAllowedData&&--this.leadingOnePassSignatureCounter<0)throw new ni("Trailing signature packet without OPS");return;case A.packet.onePassSignature:if(this.state===Ct.StandaloneAdditionalAllowedData)throw new ni("OPS following StandaloneAdditionalAllowedData");return void this.leadingOnePassSignatureCounter++;case A.packet.publicKeyEncryptedSessionKey:case A.packet.symEncryptedSessionKey:return void(this.state=Ct.EncryptedSessionKeys);default:if(!t?.[e])throw new ni(`Unexpected packet ${e} in state ${this.state}`);return void(this.state=Ct.StandaloneAdditionalAllowedData)}case Ct.PlaintextOrEncryptedData:if(e===A.packet.signature){if(--this.leadingOnePassSignatureCounter<0)throw new ni("Trailing signature packet without OPS");return void(this.state=Ct.PlaintextOrEncryptedData)}if(!t?.[e])throw new ni(`Unexpected packet ${e} in state ${this.state}`);return void(this.state=Ct.PlaintextOrEncryptedData);case Ct.EncryptedSessionKeys:switch(e){case A.packet.publicKeyEncryptedSessionKey:case A.packet.symEncryptedSessionKey:return void(this.state=Ct.EncryptedSessionKeys);case A.packet.symEncryptedIntegrityProtectedData:case A.packet.aeadEncryptedData:case A.packet.symmetricallyEncryptedData:return void(this.state=Ct.PlaintextOrEncryptedData);case A.packet.signature:if(--this.leadingOnePassSignatureCounter<0)throw new ni("Trailing signature packet without OPS");return void(this.state=Ct.PlaintextOrEncryptedData);default:if(!t?.[e])throw new ni(`Unexpected packet ${e} in state ${this.state}`);this.state=Ct.EncryptedSessionKeys}}}recordEnd(){switch(this.state){case Ct.EmptyMessage:case Ct.PlaintextOrEncryptedData:case Ct.EncryptedSessionKeys:case Ct.StandaloneAdditionalAllowedData:if(this.leadingOnePassSignatureCounter>0)throw new ni("Missing trailing signature packets")}}}const HD=B.constructAllowedPackets([qc,Br,hn]);class i0{static get tag(){return A.packet.compressedData}constructor(e=de){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null}async read(e,t=de){await ah(e,(async n=>{this.algorithm=await n.readByte(),this.compressed=n.remainder(),await this.decompress(t)}))}write(){return this.compressed===null&&this.compress(),B.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=de){const t=A.read(A.compression,this.algorithm),n=FD[t];if(!n)throw Error(t+" decompression not supported");this.packets=await et.fromBinary(await n(this.compressed),HD,e,new bh)}compress(){const e=A.read(A.compression,this.algorithm),t=GD[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write())}}function O1(r,e){return t=>{if(!B.isStream(t)||Lt(t))return hs((()=>Ft(t).then((o=>new Promise(((l,u)=>{const f=new e;f.ondata=d=>{l(d)};try{f.push(o,!0)}catch(d){u(d)}}))))));if(r)try{const o=r();return t.pipeThrough(o)}catch(o){if(o.name!=="TypeError")throw o}const n=t.getReader(),a=new e;return new ReadableStream({async start(o){for(a.ondata=async(l,u)=>{o.enqueue(l),u&&o.close()};;){const{done:l,value:u}=await n.read();if(l)return void a.push(new Uint8Array,!0);u.length&&a.push(u)}}})}}function zD(){return async function(r){const{decode:e}=await Promise.resolve().then((function(){return tT}));return hs((async()=>e(await Ft(r))))}}const P1=r=>({compressor:typeof CompressionStream<"u"&&(()=>new CompressionStream(r)),decompressor:typeof DecompressionStream<"u"&&(()=>new DecompressionStream(r))}),GD={zip:O1(P1("deflate-raw").compressor,c1),zlib:O1(P1("deflate").compressor,PD)},FD={uncompressed:r=>r,zip:O1(P1("deflate-raw").decompressor,l1),zlib:O1(P1("deflate").decompressor,KD),bzip2:zD()},_D=B.constructAllowedPackets([qc,i0,Br,hn]);class Lc{static get tag(){return A.packet.symEncryptedIntegrityProtectedData}static fromObject({version:e,aeadAlgorithm:t}){if(e!==1&&e!==2)throw Error("Unsupported SEIPD version");const n=new Lc;return n.version=e,e===2&&(n.aeadAlgorithm=t),n}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}async read(e){await ah(e,(async t=>{if(this.version=await t.readByte(),this.version!==1&&this.version!==2)throw new Xe(`Version ${this.version} of the SEIP packet is unsupported.`);this.version===2&&(this.cipherAlgorithm=await t.readByte(),this.aeadAlgorithm=await t.readByte(),this.chunkSizeByte=await t.readByte(),this.salt=await t.readBytes(32)),this.encrypted=t.remainder()}))}write(){return this.version===2?B.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):B.concat([new Uint8Array([this.version]),this.encrypted])}async encrypt(e,t,n=de){const{blockSize:a,keySize:o}=ct(e);if(t.length!==o)throw Error("Unexpected session key size");let l=this.packets.write();if(Lt(l)&&(l=await Ft(l)),this.version===2)this.cipherAlgorithm=e,this.salt=rn(32),this.chunkSizeByte=n.aeadChunkSizeByte,this.encrypted=await K1(this,"encrypt",t,l);else{const u=await NA(e),f=new Uint8Array([211,20]),d=B.concat([u,l,f]),y=await Ai(A.hash.sha1,Bu(d)),p=B.concat([d,y]);this.encrypted=await _u(e,t,p,new Uint8Array(a))}return!0}async decrypt(e,t,n=de){if(t.length!==ct(e).keySize)throw Error("Unexpected session key size");let a,o=ao(this.encrypted);Lt(o)&&(o=await Ft(o));let l=!1;if(this.version===2){if(this.cipherAlgorithm!==e)throw Error("Unexpected session key algorithm");a=await K1(this,"decrypt",t,o)}else{const{blockSize:u}=ct(e),f=await dh(e,t,o,new Uint8Array(u)),d=fn(Bu(f),-20),y=fn(f,0,-20),p=Promise.all([Ft(await Ai(A.hash.sha1,Bu(y))),Ft(d)]).then((([w,E])=>{if(!B.equalsUint8Array(w,E))throw Error("Modification detected.");return new Uint8Array})),m=fn(y,u+2);a=fn(m,0,-2),a=Qn([a,hs((()=>p))]),B.isStream(o)&&n.allowUnauthenticatedStream?l=!0:a=await Ft(a)}return this.packets=await et.fromBinary(a,_D,n,new bh,l),!0}}async function K1(r,e,t,n){const a=r instanceof Lc&&r.version===2,o=!a&&r.constructor.tag===A.packet.aeadEncryptedData;if(!a&&!o)throw Error("Unexpected packet type");const l=ea(r.aeadAlgorithm,o),u=e==="decrypt"?l.tagLength:0,f=e==="encrypt"?l.tagLength:0,d=2**(r.chunkSizeByte+6)+u,y=o?8:0,p=new ArrayBuffer(13+y),m=new Uint8Array(p,0,5+y),w=new Uint8Array(p),E=new DataView(p),S=new Uint8Array(p,5,8);m.set([192|r.constructor.tag,r.version,r.cipherAlgorithm,r.aeadAlgorithm,r.chunkSizeByte],0);let v,k,D=0,C=Promise.resolve(),N=0,M=0;if(a){const{keySize:I}=ct(r.cipherAlgorithm),{ivLength:U}=l,R=new Uint8Array(p,0,5),L=await cs(A.hash.sha256,t,r.salt,R,I+U);t=L.subarray(0,I),v=L.subarray(I),v.fill(0,v.length-8),k=new DataView(v.buffer,v.byteOffset,v.byteLength)}else v=r.iv;const K=await l(r.cipherAlgorithm,t);return fs(n,(async(I,U)=>{if(B.isStream(I)!=="array"){const Q=new TransformStream({},{highWaterMark:B.getHardwareConcurrency()*2**(r.chunkSizeByte+6),size:F=>F.length});io(Q.readable,U),U=Q.writable}const R=aa(I),L=lr(U);try{for(;;){let Q=await R.readBytes(d+u)||new Uint8Array;const F=Q.subarray(Q.length-u);let G,Z,H;if(Q=Q.subarray(0,Q.length-u),a)H=v;else{H=v.slice();for(let O=0;O<8;O++)H[v.length-8+O]^=S[O]}if(!D||Q.length?(R.unshift(F),G=K[e](Q,H,m),G.catch((()=>{})),M+=Q.length-u+f):(E.setInt32(5+y+4,N),G=K[e](F,H,w),G.catch((()=>{})),M+=f,Z=!0),N+=Q.length-u,C=C.then((()=>G)).then((async O=>{await L.ready,await L.write(O),M-=O.length})).catch((O=>L.abort(O))),(Z||M>L.desiredSize)&&await C,Z){await L.close();break}a?k.setInt32(v.length-4,++D):E.setInt32(9,++D)}}catch(Q){await L.ready.catch((()=>{})),await L.abort(Q)}}))}const jD=B.constructAllowedPackets([qc,i0,Br,hn]);class VD{static get tag(){return A.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=A.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await ah(e,(async t=>{const n=await t.readByte();if(n!==1)throw new Xe(`Version ${n} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await t.readByte(),this.aeadAlgorithm=await t.readByte(),this.chunkSizeByte=await t.readByte();const a=ea(this.aeadAlgorithm,!0);this.iv=await t.readBytes(a.ivLength),this.encrypted=t.remainder()}))}write(){return B.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,n=de){this.packets=await et.fromBinary(await K1(this,"decrypt",t,ao(this.encrypted)),jD,n,new bh)}async encrypt(e,t,n=de){this.cipherAlgorithm=e;const{ivLength:a}=ea(this.aeadAlgorithm,!0);this.iv=rn(a),this.chunkSizeByte=n.aeadChunkSizeByte;const o=this.packets.write();this.encrypted=await K1(this,"encrypt",t,o)}}class Vu{static get tag(){return A.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new mi,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject({version:e,encryptionKeyPacket:t,anonymousRecipient:n,sessionKey:a,sessionKeyAlgorithm:o}){const l=new Vu;if(e!==3&&e!==6)throw Error("Unsupported PKESK version");return l.version=e,e===6&&(l.publicKeyVersion=n?null:t.version,l.publicKeyFingerprint=n?null:t.getFingerprintBytes()),l.publicKeyID=n?mi.wildcard():t.getKeyID(),l.publicKeyAlgorithm=t.algorithm,l.sessionKey=a,l.sessionKeyAlgorithm=o,l}read(e){let t=0;if(this.version=e[t++],this.version!==3&&this.version!==6)throw new Xe(`Version ${this.version} of the PKESK packet is unsupported.`);if(this.version===6){const n=e[t++];if(n){this.publicKeyVersion=e[t++];const a=n-1;this.publicKeyFingerprint=e.subarray(t,t+a),t+=a,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=mi.wildcard()}else t+=this.publicKeyID.read(e.subarray(t,t+8));if(this.publicKeyAlgorithm=e[t++],this.encrypted=(function(n,a){let o=0;switch(n){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:return{c:B.readMPI(a.subarray(o))};case A.publicKey.elgamal:{const l=B.readMPI(a.subarray(o));return o+=l.length+2,{c1:l,c2:B.readMPI(a.subarray(o))}}case A.publicKey.ecdh:{const l=B.readMPI(a.subarray(o));o+=l.length+2;const u=new RA;return u.read(a.subarray(o)),{V:l,C:u}}case A.publicKey.x25519:case A.publicKey.x448:{const l=bc(n),u=B.readExactSubarray(a,o,o+l);o+=u.length;const f=new hh;return f.read(a.subarray(o)),{ephemeralPublicKey:u,C:f}}default:throw new Xe("Unknown public key encryption algorithm.")}})(this.publicKeyAlgorithm,e.subarray(t)),this.publicKeyAlgorithm===A.publicKey.x25519||this.publicKeyAlgorithm===A.publicKey.x448){if(this.version===3)this.sessionKeyAlgorithm=A.write(A.symmetric,this.encrypted.C.algorithm);else if(this.encrypted.C.algorithm!==null)throw Error("Unexpected cleartext symmetric algorithm")}}write(){const e=[new Uint8Array([this.version])];return this.version===6?this.publicKeyFingerprint!==null?(e.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),e.push(this.publicKeyFingerprint)):e.push(new Uint8Array([0])):e.push(this.publicKeyID.write()),e.push(new Uint8Array([this.publicKeyAlgorithm]),Mc(this.publicKeyAlgorithm,this.encrypted)),B.concatUint8Array(e)}async encrypt(e){const t=A.write(A.publicKey,this.publicKeyAlgorithm),n=this.version===3?this.sessionKeyAlgorithm:null,a=e.version===5?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),o=z9(this.version,t,n,this.sessionKey);this.encrypted=await fD(t,n,e.publicParams,o,a)}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const n=t?z9(this.version,this.publicKeyAlgorithm,t.sessionKeyAlgorithm,t.sessionKey):null,a=e.version===5?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),o=await hD(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,a,n),{sessionKey:l,sessionKeyAlgorithm:u}=(function(f,d,y,p){switch(d){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.elgamal:case A.publicKey.ecdh:{const m=y.subarray(0,y.length-2),w=y.subarray(y.length-2),E=B.writeChecksum(m.subarray(m.length%8)),S=E[0]===w[0]&E[1]===w[1],v=f===6?{sessionKeyAlgorithm:null,sessionKey:m}:{sessionKeyAlgorithm:m[0],sessionKey:m.subarray(1)};if(p){const k=S&v.sessionKeyAlgorithm===p.sessionKeyAlgorithm&v.sessionKey.length===p.sessionKey.length;return{sessionKey:B.selectUint8Array(k,v.sessionKey,p.sessionKey),sessionKeyAlgorithm:f===6?null:B.selectUint8(k,v.sessionKeyAlgorithm,p.sessionKeyAlgorithm)}}if(S&&(f===6||A.read(A.symmetric,v.sessionKeyAlgorithm)))return v;throw Error("Decryption error")}case A.publicKey.x25519:case A.publicKey.x448:return{sessionKeyAlgorithm:null,sessionKey:y};default:throw Error("Unsupported public key algorithm")}})(this.version,this.publicKeyAlgorithm,o,t);if(this.version===3){const f=this.publicKeyAlgorithm!==A.publicKey.x25519&&this.publicKeyAlgorithm!==A.publicKey.x448;if(this.sessionKeyAlgorithm=f?u:this.sessionKeyAlgorithm,l.length!==ct(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}this.sessionKey=l}}function z9(r,e,t,n){switch(e){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.elgamal:case A.publicKey.ecdh:return B.concatUint8Array([new Uint8Array(r===6?[]:[t]),n,B.writeChecksum(n.subarray(n.length%8))]);case A.publicKey.x25519:case A.publicKey.x448:return n;default:throw Error("Unsupported public key algorithm")}}class Qc{static get tag(){return A.packet.symEncryptedSessionKey}constructor(e=de){this.version=e.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=null,this.aeadAlgorithm=A.write(A.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],this.version!==4&&this.version!==5&&this.version!==6)throw new Xe(`Version ${this.version} of the SKESK packet is unsupported.`);this.version===6&&t++;const n=e[t++];this.version>=5&&(this.aeadAlgorithm=e[t++],this.version===6&&t++);const a=e[t++];if(this.s2k=N1(a),t+=this.s2k.read(e.subarray(t,e.length)),this.version>=5){const o=ea(this.aeadAlgorithm,!0);this.iv=e.subarray(t,t+=o.ivLength)}this.version>=5||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;const n=this.s2k.write();if(this.version===6){const a=n.length,o=3+a+this.iv.length;t=B.concatUint8Array([new Uint8Array([this.version,o,e,this.aeadAlgorithm,a]),n,this.iv,this.encrypted])}else this.version===5?t=B.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),n,this.iv,this.encrypted]):(t=B.concatUint8Array([new Uint8Array([this.version,e]),n]),this.encrypted!==null&&(t=B.concatUint8Array([t,this.encrypted])));return t}async decrypt(e){const t=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:n,keySize:a}=ct(t),o=await this.s2k.produceKey(e,a);if(this.version>=5){const l=ea(this.aeadAlgorithm,!0),u=new Uint8Array([192|Qc.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),f=this.version===6?await cs(A.hash.sha256,o,new Uint8Array,u,a):o,d=await l(t,f);this.sessionKey=await d.decrypt(this.encrypted,this.iv,u)}else if(this.encrypted!==null){const l=await dh(t,o,this.encrypted,new Uint8Array(n));if(this.sessionKeyAlgorithm=A.write(A.symmetric,l[0]),this.sessionKey=l.subarray(1,l.length),this.sessionKey.length!==ct(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}else this.sessionKey=o}async encrypt(e,t=de){const n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=PA(t),this.s2k.generateSalt();const{blockSize:a,keySize:o}=ct(n),l=await this.s2k.produceKey(e,o);if(this.sessionKey===null&&(this.sessionKey=v2(this.sessionKeyAlgorithm)),this.version>=5){const u=ea(this.aeadAlgorithm);this.iv=rn(u.ivLength);const f=new Uint8Array([192|Qc.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),d=this.version===6?await cs(A.hash.sha256,l,new Uint8Array,f,o):l,y=await u(n,d);this.encrypted=await y.encrypt(this.sessionKey,this.iv,f)}else{const u=B.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await _u(n,l,u,new Uint8Array(a))}}}class yi{static get tag(){return A.packet.publicKey}constructor(e=new Date,t=de){this.version=t.v6Keys?6:4,this.created=B.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new yi,{version:n,created:a,algorithm:o,publicParams:l,keyID:u,fingerprint:f}=e;return t.version=n,t.created=a,t.algorithm=o,t.publicParams=l,t.keyID=u,t.fingerprint=f,t}async read(e,t=de){let n=0;if(this.version=e[n++],this.version===5&&!t.enableParsingV5Entities)throw new Xe("Support for parsing v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version===4||this.version===5||this.version===6){this.created=B.readDate(e.subarray(n,n+4)),n+=4,this.algorithm=e[n++],this.version>=5&&(n+=4);const{read:a,publicParams:o}=(function(l,u){let f=0;switch(l){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:{const d=B.readMPI(u.subarray(f));f+=d.length+2;const y=B.readMPI(u.subarray(f));return f+=y.length+2,{read:f,publicParams:{n:d,e:y}}}case A.publicKey.dsa:{const d=B.readMPI(u.subarray(f));f+=d.length+2;const y=B.readMPI(u.subarray(f));f+=y.length+2;const p=B.readMPI(u.subarray(f));f+=p.length+2;const m=B.readMPI(u.subarray(f));return f+=m.length+2,{read:f,publicParams:{p:d,q:y,g:p,y:m}}}case A.publicKey.elgamal:{const d=B.readMPI(u.subarray(f));f+=d.length+2;const y=B.readMPI(u.subarray(f));f+=y.length+2;const p=B.readMPI(u.subarray(f));return f+=p.length+2,{read:f,publicParams:{p:d,g:y,y:p}}}case A.publicKey.ecdsa:{const d=new $i;f+=d.read(u),y6(d);const y=B.readMPI(u.subarray(f));return f+=y.length+2,{read:f,publicParams:{oid:d,Q:y}}}case A.publicKey.eddsaLegacy:{const d=new $i;if(f+=d.read(u),y6(d),d.getName()!==A.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let y=B.readMPI(u.subarray(f));return f+=y.length+2,y=B.leftPad(y,33),{read:f,publicParams:{oid:d,Q:y}}}case A.publicKey.ecdh:{const d=new $i;f+=d.read(u),y6(d);const y=B.readMPI(u.subarray(f));f+=y.length+2;const p=new TA;return f+=p.read(u.subarray(f)),{read:f,publicParams:{oid:d,Q:y,kdfParams:p}}}case A.publicKey.ed25519:case A.publicKey.ed448:case A.publicKey.x25519:case A.publicKey.x448:{const d=B.readExactSubarray(u,f,f+bc(l));return f+=d.length,{read:f,publicParams:{A:d}}}default:throw new Xe("Unknown public key encryption algorithm.")}})(this.algorithm,e.subarray(n));if(this.version===6&&o.oid&&(o.oid.getName()===A.curve.curve25519Legacy||o.oid.getName()===A.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");return this.publicParams=o,n+=a,await this.computeFingerprintAndKeyID(),n}throw new Xe(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(B.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=Mc(this.algorithm,this.publicParams);return this.version>=5&&e.push(B.writeNumber(t.length,4)),e.push(t),B.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey(),n=149+e,a=e>=5?4:2;return B.concatUint8Array([new Uint8Array([n]),B.writeNumber(t.length,a),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new mi,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=await Ai(A.hash.sha256,e);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=await Ai(A.hash.sha1,e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return B.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&B.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=A.read(A.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=B.uint8ArrayBitLength(t):this.publicParams.oid&&(e.curve=this.publicParams.oid.getName()),e}}yi.prototype.readPublicKey=yi.prototype.read,yi.prototype.writePublicKey=yi.prototype.write;const qD=B.constructAllowedPackets([qc,i0,Br,hn]);class YD{static get tag(){return A.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,n=de){if(!n.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:a}=ct(e),o=await Ft(ao(this.encrypted)),l=await dh(e,t,o.subarray(a+2),o.subarray(2,a+2));this.packets=await et.fromBinary(l,qD,n)}async encrypt(e,t,n=de){const a=this.packets.write(),{blockSize:o}=ct(e),l=await NA(e),u=await _u(e,t,l,new Uint8Array(o)),f=await _u(e,t,a,u.subarray(2));this.encrypted=B.concat([u,f])}}class Ah extends yi{static get tag(){return A.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new Ah,{version:n,created:a,algorithm:o,publicParams:l,keyID:u,fingerprint:f}=e;return t.version=n,t.created=a,t.algorithm=o,t.publicParams=l,t.keyID=u,t.fingerprint=f,t}}class x3{static get tag(){return A.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const n=Jb(e.subarray(t,e.length));t+=n.offset,this.attributes.push(B.uint8ArrayToString(e.subarray(t,t+n.len))),t+=n.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(sh(this.attributes[t].length)),e.push(B.stringToUint8Array(this.attributes[t]));return B.concatUint8Array(e)}equals(e){return!!(e&&e instanceof x3)&&this.attributes.every((function(t,n){return t===e.attributes[n]}))}}class B3 extends yi{static get tag(){return A.packet.secretKey}constructor(e=new Date,t=de){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.isLegacyAEAD=null,this.privateParams=null,this.usedModernAEAD=null}async read(e,t=de){let n=await this.readPublicKey(e,t);const a=n;this.s2kUsage=e[n++],this.version===5&&n++,this.version===6&&this.s2kUsage&&n++;try{if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){this.symmetric=e[n++],this.s2kUsage===253&&(this.aead=e[n++]),this.version===6&&n++;const o=e[n++];if(this.s2k=N1(o),n+=this.s2k.read(e.subarray(n,e.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.isLegacyAEAD=this.s2kUsage===253&&(this.version===5||this.version===4&&t.parseAEADEncryptedV4KeysAsLegacy),this.s2kUsage!==253||this.isLegacyAEAD?(this.iv=e.subarray(n,n+ct(this.symmetric).blockSize),this.usedModernAEAD=!1):(this.iv=e.subarray(n,n+ea(this.aead).ivLength),this.usedModernAEAD=!0),n+=this.iv.length)}catch(o){if(!this.s2kUsage)throw o;this.unparseableKeyMaterial=e.subarray(a),this.isEncrypted=!0}if(this.version===5&&(n+=4),this.keyMaterial=e.subarray(n),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let o;if(this.version===6)o=this.keyMaterial;else if(o=this.keyMaterial.subarray(0,-2),!B.equalsUint8Array(B.writeChecksum(o),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{read:l,privateParams:u}=x9(this.algorithm,o,this.publicParams);if(l<o.length)throw Error("Error reading MPIs");this.privateParams=u}catch(l){throw l instanceof Xe?l:Error("Error reading MPIs")}}}write(){const e=this.writePublicKey();if(this.unparseableKeyMaterial)return B.concatUint8Array([e,this.unparseableKeyMaterial]);const t=[e];t.push(new Uint8Array([this.s2kUsage]));const n=[];if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){n.push(this.symmetric),this.s2kUsage===253&&n.push(this.aead);const a=this.s2k.write();this.version===6&&n.push(a.length),n.push(...a)}return this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&n.push(...this.iv),(this.version===5||this.version===6&&this.s2kUsage)&&t.push(new Uint8Array([n.length])),t.push(new Uint8Array(n)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Mc(this.algorithm,this.privateParams)),this.version===5&&t.push(B.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||this.version===6||t.push(B.writeChecksum(this.keyMaterial))),B.concatUint8Array(t)}isDecrypted(){return this.isEncrypted===!1}isMissingSecretKeyMaterial(){return this.unparseableKeyMaterial!==void 0||this.isDummy()}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(e=de){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=N1(A.s2k.gnu,e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=A.symmetric.aes256,this.isLegacyAEAD=null,this.usedModernAEAD=null)}async encrypt(e,t=de){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=PA(t),this.s2k.generateSalt();const n=Mc(this.algorithm,this.privateParams);this.symmetric=A.symmetric.aes256;const{blockSize:a}=ct(this.symmetric);if(t.aeadProtect){this.s2kUsage=253,this.aead=t.preferredAEADAlgorithm;const o=ea(this.aead);this.isLegacyAEAD=this.version===5,this.usedModernAEAD=!this.isLegacyAEAD;const l=B1(this.constructor.tag),u=await v6(this.version,this.s2k,e,this.symmetric,this.aead,l,this.isLegacyAEAD),f=await o(this.symmetric,u);this.iv=this.isLegacyAEAD?rn(a):rn(o.ivLength);const d=this.isLegacyAEAD?new Uint8Array:B.concatUint8Array([l,this.writePublicKey()]);this.keyMaterial=await f.encrypt(n,this.iv.subarray(0,o.ivLength),d)}else{this.s2kUsage=254,this.usedModernAEAD=!1;const o=await v6(this.version,this.s2k,e,this.symmetric);this.iv=rn(a),this.keyMaterial=await _u(this.symmetric,o,B.concatUint8Array([n,await Ai(A.hash.sha1,n)]),this.iv)}}async decrypt(e){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t;const n=B1(this.constructor.tag);if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let a;if(t=await v6(this.version,this.s2k,e,this.symmetric,this.aead,n,this.isLegacyAEAD),this.s2kUsage===253){const o=ea(this.aead,!0),l=await o(this.symmetric,t);try{const u=this.isLegacyAEAD?new Uint8Array:B.concatUint8Array([n,this.writePublicKey()]);a=await l.decrypt(this.keyMaterial,this.iv.subarray(0,o.ivLength),u)}catch(u){throw u.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+u.message):u}}else{const o=await dh(this.symmetric,t,this.keyMaterial,this.iv);a=o.subarray(0,-20);const l=await Ai(A.hash.sha1,a);if(!B.equalsUint8Array(l,o.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:o}=x9(this.algorithm,a,this.publicParams);this.privateParams=o}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null,this.isLegacyAEAD=null}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");if(this.usedModernAEAD)return;let e;try{e=await yD(this.algorithm,this.publicParams,this.privateParams)}catch{e=!1}if(!e)throw Error("Key is invalid")}async generate(e,t){if(this.version===6&&(this.algorithm===A.publicKey.ecdh&&t===A.curve.curve25519Legacy||this.algorithm===A.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${t}. Generate a key of type 'curve25519' instead`);const{privateParams:n,publicParams:a}=await dD(this.algorithm,e,t);this.privateParams=n,this.publicParams=a,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function v6(r,e,t,n,a,o,l){if(e.type==="argon2"&&!a)throw Error("Using Argon2 S2K without AEAD is not allowed");if(e.type==="simple"&&r===6)throw Error("Using Simple S2K with version 6 keys is not allowed");const{keySize:u}=ct(n),f=await e.produceKey(t,u);if(!a||r===5||l)return f;const d=B.concatUint8Array([o,new Uint8Array([r,n,a])]);return cs(A.hash.sha256,f,new Uint8Array,d,u)}class wh{static get tag(){return A.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(B.isString(e)||e.name&&!B.isString(e.name)||e.email&&!B.isEmailAddress(e.email)||e.comment&&!B.isString(e.comment))throw Error("Invalid user ID format");const t=new wh;Object.assign(t,e);const n=[];return t.name&&n.push(t.name),t.comment&&n.push(`(${t.comment})`),t.email&&n.push(`<${t.email}>`),t.userID=n.join(" "),t}read(e,t=de){const n=B.decodeUTF8(e);if(n.length>t.maxUserIDLength)throw Error("User ID string is too long");const a=u=>/^[^\s@]+@[^\s@]+$/.test(u),o=n.indexOf("<"),l=n.lastIndexOf(">");if(o!==-1&&l!==-1&&l>o){const u=n.substring(o+1,l);if(a(u)){this.email=u;const f=n.substring(0,o).trim(),d=f.indexOf("("),y=f.lastIndexOf(")");d!==-1&&y!==-1&&y>d?(this.comment=f.substring(d+1,y).trim(),this.name=f.substring(0,d).trim()):(this.name=f,this.comment="")}}else a(n.trim())&&(this.email=n.trim(),this.name="",this.comment="");this.userID=n}write(){return B.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class GA extends B3{static get tag(){return A.packet.secretSubkey}constructor(e=new Date,t=de){super(e,t)}}class FA{constructor(e){this.packets=e||new et}write(){return this.packets.write()}armor(e=de){const t=this.packets.some((n=>n.constructor.tag===hn.tag&&n.version!==6));return n0(A.armor.signature,this.write(),void 0,void 0,void 0,t,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function _A(r,e){const t=new GA(r.date,e);return t.packets=null,t.algorithm=A.write(A.publicKey,r.algorithm),await t.generate(r.rsaBits,r.curve),await t.computeFingerprintAndKeyID(),t}async function ZD(r,e){const t=new B3(r.date,e);return t.packets=null,t.algorithm=A.write(A.publicKey,r.algorithm),await t.generate(r.rsaBits,r.curve,r.config),await t.computeFingerprintAndKeyID(),t}async function Qr(r,e,t,n,a=new Date,o){let l,u;for(let f=r.length-1;f>=0;f--)try{(!l||r[f].created>=l.created)&&(await r[f].verify(e,t,n,a,void 0,o),l=r[f])}catch(d){u=d}if(!l)throw B.wrapError(`Could not find valid ${A.read(A.signature,t)} signature in key ${e.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((f,d,y)=>d+" "+y.toLowerCase())),u);return l}function D2(r,e,t=new Date){const n=B.normalizeDate(t);if(n!==null){const a=M1(r,e);return!(r.created<=n&&n<a)}return!1}async function jA(r,e,t,n){const a={};a.key=e,a.bind=r;const o={signatureType:A.signature.subkeyBinding};return t.sign?(o.keyFlags=[A.keyFlags.signData],o.embeddedSignature=await bi(a,[],r,{signatureType:A.signature.keyBinding},t.date,void 0,void 0,void 0,n)):o.keyFlags=[A.keyFlags.encryptCommunication|A.keyFlags.encryptStorage],t.keyExpirationTime>0&&(o.keyExpirationTime=t.keyExpirationTime,o.keyNeverExpires=!1),await bi(a,[],e,o,t.date,void 0,void 0,void 0,n)}async function JD(r,e,t=new Date,n=[],a){const o=A.hash.sha256,l=a.preferredHashAlgorithm,u=await Promise.all(r.map((async(p,m)=>(await p.getPrimarySelfSignature(t,n[m],a)).preferredHashAlgorithms||[]))),f=new Map;for(const p of u)for(const m of p)try{const w=A.write(A.hash,m);f.set(w,f.has(w)?f.get(w)+1:1)}catch{}const d=p=>r.length===0||f.get(p)===r.length||p===o,y=()=>{if(f.size===0)return o;const p=Array.from(f.keys()).filter((m=>d(m))).sort(((m,w)=>Vt(m)-Vt(w)))[0];return Vt(p)>=Vt(o)?p:o};if(new Set([A.publicKey.ecdsa,A.publicKey.eddsaLegacy,A.publicKey.ed25519,A.publicKey.ed448]).has(e.algorithm)){const p=(function(E,S){switch(E){case A.publicKey.ecdsa:case A.publicKey.eddsaLegacy:return bA(S);case A.publicKey.ed25519:case A.publicKey.ed448:return ch(E);default:throw Error("Unknown elliptic signing algo")}})(e.algorithm,e.publicParams.oid),m=d(l),w=Vt(l)>=Vt(p);if(m&&w)return l;{const E=y();return Vt(E)>=Vt(p)?E:p}}return d(l)?l:y()}async function bi(r,e,t,n,a,o,l=[],u=!1,f){if(t.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!t.isDecrypted())throw Error("Signing key is not decrypted.");const d=new hn;return Object.assign(d,n),d.publicKeyAlgorithm=t.algorithm,d.hashAlgorithm=await JD(e,t,a,o,f),d.rawNotations=[...l],await d.sign(t,r,a,u,f),d}async function $s(r,e,t,n=new Date,a){(r=r[t])&&(e[t].length?await Promise.all(r.map((async function(o){o.isExpired(n)||a&&!await a(o)||e[t].some((function(l){return B.equalsUint8Array(l.writeParams(),o.writeParams())}))||e[t].push(o)}))):e[t]=r)}async function Hc(r,e,t,n,a,o,l=new Date,u){o=o||r;const f=[];return await Promise.all(n.map((async function(d){try{if(!a||d.issuerKeyID.equals(a.issuerKeyID)){const y=![A.reasonForRevocation.keyRetired,A.reasonForRevocation.keySuperseded,A.reasonForRevocation.userIDInvalid].includes(d.reasonForRevocationFlag);await d.verify(o,e,t,y?null:l,!1,u),f.push(d.issuerKeyID)}}catch{}}))),a?(a.revoked=!!f.some((d=>d.equals(a.issuerKeyID)))||a.revoked||!1,a.revoked):f.length>0}function M1(r,e){let t;return e.keyNeverExpires===!1&&(t=r.created.getTime()+1e3*e.keyExpirationTime),t?new Date(t):1/0}function I2(r,e={}){switch(r.type=r.type||e.type,r.curve=r.curve||e.curve,r.rsaBits=r.rsaBits||e.rsaBits,r.keyExpirationTime=r.keyExpirationTime!==void 0?r.keyExpirationTime:e.keyExpirationTime,r.passphrase=B.isString(r.passphrase)?r.passphrase:e.passphrase,r.date=r.date||e.date,r.sign=r.sign||!1,r.type){case"ecc":try{r.curve=A.write(A.curve,r.curve)}catch{throw Error("Unknown curve")}r.curve!==A.curve.ed25519Legacy&&r.curve!==A.curve.curve25519Legacy&&r.curve!=="ed25519"&&r.curve!=="curve25519"||(r.curve=r.sign?A.curve.ed25519Legacy:A.curve.curve25519Legacy),r.sign?r.algorithm=r.curve===A.curve.ed25519Legacy?A.publicKey.eddsaLegacy:A.publicKey.ecdsa:r.algorithm=A.publicKey.ecdh;break;case"curve25519":r.algorithm=r.sign?A.publicKey.ed25519:A.publicKey.x25519;break;case"curve448":r.algorithm=r.sign?A.publicKey.ed448:A.publicKey.x448;break;case"rsa":r.algorithm=A.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+r.type)}return r}function G9(r,e,t){switch(r.algorithm){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:case A.publicKey.dsa:case A.publicKey.ecdsa:case A.publicKey.eddsaLegacy:case A.publicKey.ed25519:case A.publicKey.ed448:if(!e.keyFlags&&!t.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!e.keyFlags||!!(e.keyFlags[0]&A.keyFlags.signData);default:return!1}}function F9(r,e,t){switch(r.algorithm){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:case A.publicKey.elgamal:case A.publicKey.ecdh:case A.publicKey.x25519:case A.publicKey.x448:if(!e.keyFlags&&!t.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!e.keyFlags||!!(e.keyFlags[0]&A.keyFlags.encryptCommunication)||!!(e.keyFlags[0]&A.keyFlags.encryptStorage);default:return!1}}function _9(r,e,t){if(!e.keyFlags&&!t.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(r.algorithm){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaEncrypt:case A.publicKey.elgamal:case A.publicKey.ecdh:case A.publicKey.x25519:case A.publicKey.x448:return!(!(!e.keyFlags||e.keyFlags[0]&A.keyFlags.signData)||!t.allowInsecureDecryptionWithSigningKeys)||!e.keyFlags||!!(e.keyFlags[0]&A.keyFlags.encryptCommunication)||!!(e.keyFlags[0]&A.keyFlags.encryptStorage);default:return!1}}function Ja(r,e){const t=A.write(A.publicKey,r.algorithm),n=r.getAlgorithmInfo();if(e.rejectPublicKeyAlgorithms.has(t))throw Error(n.algorithm+" keys are considered too weak.");switch(t){case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:case A.publicKey.rsaEncrypt:if(n.bits<e.minRSABits)throw Error(`RSA keys shorter than ${e.minRSABits} bits are considered too weak.`);break;case A.publicKey.ecdsa:case A.publicKey.eddsaLegacy:case A.publicKey.ecdh:if(e.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class Cu{constructor(e,t){this.userID=e.constructor.tag===A.packet.userID?e:null,this.userAttribute=e.constructor.tag===A.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new et;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new Cu(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,n){const a=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:a},l=new Cu(o.userID||o.userAttribute,this.mainKey);return l.otherCertifications=await Promise.all(e.map((async function(u){if(!u.isPrivate())throw Error("Need private key for signing");if(u.hasSameFingerprintAs(a))throw Error("The user's own key can only be used for self-certifications");const f=await u.getSigningKey(void 0,t,void 0,n);return bi(o,[u],f.keyPacket,{signatureType:A.signature.certGeneric,keyFlags:[A.keyFlags.certifyKeys|A.keyFlags.signData]},t,void 0,void 0,void 0,n)}))),await l.update(this,t,n),l}async isRevoked(e,t,n=new Date,a=de){const o=this.mainKey.keyPacket;return Hc(o,A.signature.certRevocation,{key:o,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,n,a)}async verifyCertificate(e,t,n=new Date,a){const o=this,l=this.mainKey.keyPacket,u={userID:this.userID,userAttribute:this.userAttribute,key:l},{issuerKeyID:f}=e,d=t.filter((y=>y.getKeys(f).length>0));return d.length===0?null:(await Promise.all(d.map((async y=>{const p=await y.getSigningKey(f,e.created,void 0,a);if(e.revoked||await o.isRevoked(e,p.keyPacket,n,a))throw Error("User certificate is revoked");try{await e.verify(p.keyPacket,A.signature.certGeneric,u,n,void 0,a)}catch(m){throw B.wrapError("User certificate is invalid",m)}}))),!0)}async verifyAllCertifications(e,t=new Date,n){const a=this,o=this.selfCertifications.concat(this.otherCertifications);return Promise.all(o.map((async l=>({keyID:l.issuerKeyID,valid:await a.verifyCertificate(l,e,t,n).catch((()=>!1))}))))}async verify(e=new Date,t){if(!this.selfCertifications.length)throw Error("No self-certifications found");const n=this,a=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:a};let l;for(let u=this.selfCertifications.length-1;u>=0;u--)try{const f=this.selfCertifications[u];if(f.revoked||await n.isRevoked(f,void 0,e,t))throw Error("Self-certification is revoked");try{await f.verify(a,A.signature.certGeneric,o,e,void 0,t)}catch(d){throw B.wrapError("Self-certification is invalid",d)}return!0}catch(f){l=f}throw l}async update(e,t,n){const a=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:a};await $s(e,this,"selfCertifications",t,(async function(l){try{return await l.verify(a,A.signature.certGeneric,o,t,!1,n),!0}catch{return!1}})),await $s(e,this,"otherCertifications",t),await $s(e,this,"revocationSignatures",t,(function(l){return Hc(a,A.signature.certRevocation,o,[l],void 0,void 0,t,n)}))}async revoke(e,{flag:t=A.reasonForRevocation.noReason,string:n=""}={},a=new Date,o=de){const l={userID:this.userID,userAttribute:this.userAttribute,key:e},u=new Cu(l.userID||l.userAttribute,this.mainKey);return u.revocationSignatures.push(await bi(l,[],e,{signatureType:A.signature.certRevocation,reasonForRevocationFlag:A.write(A.reasonForRevocation,t),reasonForRevocationString:n},a,void 0,void 0,!1,o)),await u.update(this),u}}class zc{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new et;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new zc(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,n=new Date,a=de){const o=this.mainKey.keyPacket;return Hc(o,A.signature.subkeyRevocation,{key:o,bind:this.keyPacket},this.revocationSignatures,e,t,n,a)}async verify(e=new Date,t=de){const n=this.mainKey.keyPacket,a={key:n,bind:this.keyPacket},o=await Qr(this.bindingSignatures,n,A.signature.subkeyBinding,a,e,t);if(o.revoked||await this.isRevoked(o,null,e,t))throw Error("Subkey is revoked");if(D2(this.keyPacket,o,e))throw Error("Subkey is expired");return o}async getExpirationTime(e=new Date,t=de){const n=this.mainKey.keyPacket,a={key:n,bind:this.keyPacket};let o;try{o=await Qr(this.bindingSignatures,n,A.signature.subkeyBinding,a,e,t)}catch{return null}const l=M1(this.keyPacket,o),u=o.getExpirationTime();return l<u?l:u}async update(e,t=new Date,n=de){const a=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===A.packet.publicSubkey&&e.keyPacket.constructor.tag===A.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const o=this,l={key:a,bind:o.keyPacket};await $s(e,this,"bindingSignatures",t,(async function(u){for(let f=0;f<o.bindingSignatures.length;f++)if(o.bindingSignatures[f].issuerKeyID.equals(u.issuerKeyID))return u.created>o.bindingSignatures[f].created&&(o.bindingSignatures[f]=u),!1;try{return await u.verify(a,A.signature.subkeyBinding,l,t,void 0,n),!0}catch{return!1}})),await $s(e,this,"revocationSignatures",t,(function(u){return Hc(a,A.signature.subkeyRevocation,l,[u],void 0,void 0,t,n)}))}async revoke(e,{flag:t=A.reasonForRevocation.noReason,string:n=""}={},a=new Date,o=de){const l={key:e,bind:this.keyPacket},u=new zc(this.keyPacket,this.mainKey);return u.revocationSignatures.push(await bi(l,[],e,{signatureType:A.signature.subkeyRevocation,reasonForRevocationFlag:A.write(A.reasonForRevocation,t),reasonForRevocationString:n},a,void 0,void 0,!1,o)),await u.update(this),u}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((r=>{zc.prototype[r]=function(){return this.keyPacket[r]()}}));const XD=B.constructAllowedPackets([hn]),j9=new Set([A.packet.publicKey,A.packet.privateKey]),V9=new Set([A.packet.publicKey,A.packet.privateKey,A.packet.publicSubkey,A.packet.privateSubkey]);class VA{packetListToStructure(e,t=new Set){let n,a,o,l;for(const u of e){if(u instanceof h2){V9.has(u.tag)&&!l&&(l=j9.has(u.tag)?j9:V9);continue}const f=u.constructor.tag;if(l){if(!l.has(f))continue;l=null}if(t.has(f))throw Error("Unexpected packet type: "+f);switch(f){case A.packet.publicKey:case A.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=u,a=this.getKeyID(),!a)throw Error("Missing Key ID");break;case A.packet.userID:case A.packet.userAttribute:n=new Cu(u,this),this.users.push(n);break;case A.packet.publicSubkey:case A.packet.secretSubkey:n=null,o=new zc(u,this),this.subkeys.push(o);break;case A.packet.signature:switch(u.signatureType){case A.signature.certGeneric:case A.signature.certPersona:case A.signature.certCasual:case A.signature.certPositive:if(!n){B.printDebug("Dropping certification signatures without preceding user packet");continue}u.issuerKeyID.equals(a)?n.selfCertifications.push(u):n.otherCertifications.push(u);break;case A.signature.certRevocation:n?n.revocationSignatures.push(u):this.directSignatures.push(u);break;case A.signature.key:this.directSignatures.push(u);break;case A.signature.subkeyBinding:if(!o){B.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}o.bindingSignatures.push(u);break;case A.signature.keyRevocation:this.revocationSignatures.push(u);break;case A.signature.subkeyRevocation:if(!o){B.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}o.revocationSignatures.push(u)}}}}toPacketList(){const e=new et;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((n=>{if(n.keyPacket=Object.create(Object.getPrototypeOf(n.keyPacket),Object.getOwnPropertyDescriptors(n.keyPacket)),!n.keyPacket.isDecrypted())return;const a={};Object.keys(n.keyPacket.privateParams).forEach((o=>{a[o]=new Uint8Array(n.keyPacket.privateParams[o])})),n.keyPacket.privateParams=a})),t}getSubkeys(e=null){return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>e!==null))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,n={},a=de){await this.verifyPrimaryKey(t,n,a);const o=this.keyPacket;try{Ja(o,a)}catch(f){throw B.wrapError("Could not verify primary key",f)}const l=this.subkeys.slice().sort(((f,d)=>d.keyPacket.created-f.keyPacket.created||d.keyPacket.algorithm-f.keyPacket.algorithm));let u;for(const f of l)if(!e||f.getKeyID().equals(e))try{await f.verify(t,a);const d={key:o,bind:f.keyPacket},y=await Qr(f.bindingSignatures,o,A.signature.subkeyBinding,d,t,a);if(!G9(f.keyPacket,y,a))continue;if(!y.embeddedSignature)throw Error("Missing embedded signature");return await Qr([y.embeddedSignature],f.keyPacket,A.signature.keyBinding,d,t,a),Ja(f.keyPacket,a),f}catch(d){u=d}try{const f=await this.getPrimarySelfSignature(t,n,a);if((!e||o.getKeyID().equals(e))&&G9(o,f,a))return Ja(o,a),this}catch(f){u=f}throw B.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),u)}async getEncryptionKey(e,t=new Date,n={},a=de){await this.verifyPrimaryKey(t,n,a);const o=this.keyPacket;try{Ja(o,a)}catch(f){throw B.wrapError("Could not verify primary key",f)}const l=this.subkeys.slice().sort(((f,d)=>d.keyPacket.created-f.keyPacket.created||d.keyPacket.algorithm-f.keyPacket.algorithm));let u;for(const f of l)if(!e||f.getKeyID().equals(e))try{await f.verify(t,a);const d={key:o,bind:f.keyPacket},y=await Qr(f.bindingSignatures,o,A.signature.subkeyBinding,d,t,a);if(F9(f.keyPacket,y,a))return Ja(f.keyPacket,a),f}catch(d){u=d}try{const f=await this.getPrimarySelfSignature(t,n,a);if((!e||o.getKeyID().equals(e))&&F9(o,f,a))return Ja(o,a),this}catch(f){u=f}throw B.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),u)}async isRevoked(e,t,n=new Date,a=de){return Hc(this.keyPacket,A.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,n,a)}async verifyPrimaryKey(e=new Date,t={},n=de){const a=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw Error("Primary key is revoked");if(D2(a,await this.getPrimarySelfSignature(e,t,n),e))throw Error("Primary key is expired");if(a.version!==6){const o=await Qr(this.directSignatures,a,A.signature.key,{key:a},e,n).catch((()=>{}));if(o&&D2(a,o,e))throw Error("Primary key is expired")}}async getExpirationTime(e,t=de){let n;try{const a=await this.getPrimarySelfSignature(null,e,t),o=M1(this.keyPacket,a),l=a.getExpirationTime(),u=this.keyPacket.version!==6&&await Qr(this.directSignatures,this.keyPacket,A.signature.key,{key:this.keyPacket},null,t).catch((()=>{}));if(u){const f=M1(this.keyPacket,u);n=Math.min(o,l,f)}else n=o<l?o:l}catch{n=null}return B.normalizeDate(n)}async getPrimarySelfSignature(e=new Date,t={},n=de){const a=this.keyPacket;if(a.version===6)return Qr(this.directSignatures,a,A.signature.key,{key:a},e,n);const{selfCertification:o}=await this.getPrimaryUser(e,t,n);return o}async getPrimaryUser(e=new Date,t={},n=de){const a=this.keyPacket,o=[];let l;for(let y=0;y<this.users.length;y++)try{const p=this.users[y];if(!p.userID)continue;if(t.name!==void 0&&p.userID.name!==t.name||t.email!==void 0&&p.userID.email!==t.email||t.comment!==void 0&&p.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const m={userID:p.userID,key:a},w=await Qr(p.selfCertifications,a,A.signature.certGeneric,m,e,n);o.push({index:y,user:p,selfCertification:w})}catch(p){l=p}if(!o.length)throw l||Error("Could not find primary user");await Promise.all(o.map((async function(y){return y.selfCertification.revoked||y.user.isRevoked(y.selfCertification,null,e,n)})));const u=o.sort((function(y,p){const m=y.selfCertification,w=p.selfCertification;return w.revoked-m.revoked||m.isPrimaryUserID-w.isPrimaryUserID||m.created-w.created})).pop(),{user:f,selfCertification:d}=u;if(d.revoked||await f.isRevoked(d,null,e,n))throw Error("Primary user is revoked");return u}async update(e,t=new Date,n=de){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every((o=>e.subkeys.some((l=>o.hasSameFingerprintAs(l)))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,n)}const a=this.clone();return await $s(e,a,"revocationSignatures",t,(o=>Hc(a.keyPacket,A.signature.keyRevocation,a,[o],null,e.keyPacket,t,n))),await $s(e,a,"directSignatures",t),await Promise.all(e.users.map((async o=>{const l=a.users.filter((u=>o.userID&&o.userID.equals(u.userID)||o.userAttribute&&o.userAttribute.equals(u.userAttribute)));if(l.length>0)await Promise.all(l.map((u=>u.update(o,t,n))));else{const u=o.clone();u.mainKey=a,a.users.push(u)}}))),await Promise.all(e.subkeys.map((async o=>{const l=a.subkeys.filter((u=>u.hasSameFingerprintAs(o)));if(l.length>0)await Promise.all(l.map((u=>u.update(o,t,n))));else{const u=o.clone();u.mainKey=a,a.subkeys.push(u)}}))),a}async getRevocationCertificate(e=new Date,t=de){const n={key:this.keyPacket},a=await Qr(this.revocationSignatures,this.keyPacket,A.signature.keyRevocation,n,e,t),o=new et;o.push(a);const l=this.keyPacket.version!==6;return n0(A.armor.publicKey,o.write(),null,null,"This is a revocation certificate",l,t)}async applyRevocationCertificate(e,t=new Date,n=de){const a=await t0(e),o=(await et.fromBinary(a.data,XD,n)).findPacket(A.packet.signature);if(!o||o.signatureType!==A.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!o.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await o.verify(this.keyPacket,A.signature.keyRevocation,{key:this.keyPacket},t,void 0,n)}catch(u){throw B.wrapError("Could not verify revocation signature",u)}const l=this.clone();return l.revocationSignatures.push(o),l}async signPrimaryUser(e,t,n,a=de){const{index:o,user:l}=await this.getPrimaryUser(t,n,a),u=await l.certify(e,t,a),f=this.clone();return f.users[o]=u,f}async signAllUsers(e,t=new Date,n=de){const a=this.clone();return a.users=await Promise.all(this.users.map((function(o){return o.certify(e,t,n)}))),a}async verifyPrimaryUser(e,t=new Date,n,a=de){const o=this.keyPacket,{user:l}=await this.getPrimaryUser(t,n,a);return e?await l.verifyAllCertifications(e,t,a):[{keyID:o.getKeyID(),valid:await l.verify(t,a).catch((()=>!1))}]}async verifyAllUsers(e,t=new Date,n=de){const a=this.keyPacket,o=[];return await Promise.all(this.users.map((async l=>{const u=e?await l.verifyAllCertifications(e,t,n):[{keyID:a.getKeyID(),valid:await l.verify(t,n).catch((()=>!1))}];o.push(...u.map((f=>({userID:l.userID?l.userID.userID:null,userAttribute:l.userAttribute,keyID:f.keyID,valid:f.valid}))))}))),o}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((r=>{VA.prototype[r]=zc.prototype[r]}));class R2 extends VA{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([A.packet.secretKey,A.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=de){const t=this.keyPacket.version!==6;return n0(A.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}}class a0 extends R2{constructor(e){if(super(),this.packetListToStructure(e,new Set([A.packet.publicKey,A.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new et,t=this.toPacketList();for(const n of t)switch(n.constructor.tag){case A.packet.secretKey:{const a=yi.fromSecretKeyPacket(n);e.push(a);break}case A.packet.secretSubkey:{const a=Ah.fromSecretSubkeyPacket(n);e.push(a);break}default:e.push(n)}return new R2(e)}armor(e=de){const t=this.keyPacket.version!==6;return n0(A.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}async getDecryptionKeys(e,t=new Date,n={},a=de){const o=this.keyPacket,l=[];let u=null;for(let d=0;d<this.subkeys.length;d++)if(!e||this.subkeys[d].getKeyID().equals(e,!0)){if(this.subkeys[d].keyPacket.isDummy()){u=u||Error("Gnu-dummy key packets cannot be used for decryption");continue}try{const y={key:o,bind:this.subkeys[d].keyPacket},p=await Qr(this.subkeys[d].bindingSignatures,o,A.signature.subkeyBinding,y,t,a);_9(this.subkeys[d].keyPacket,p,a)&&l.push(this.subkeys[d])}catch(y){u=y}}const f=await this.getPrimarySelfSignature(t,n,a);if(e&&!o.getKeyID().equals(e,!0)||!_9(o,f,a)||(o.isDummy()?u=u||Error("Gnu-dummy key packets cannot be used for decryption"):l.push(this)),l.length===0)throw u||Error("No decryption key packets found");return l}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=de){if(!this.isPrivate())throw Error("Cannot validate a public key");let t;if(this.keyPacket.isDummy()){const n=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});n&&!n.keyPacket.isDummy()&&(t=n.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{const n=this.getKeys();if(n.map((a=>a.keyPacket.isDummy())).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(n.map((async a=>a.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=A.reasonForRevocation.noReason,string:t=""}={},n=new Date,a=de){if(!this.isPrivate())throw Error("Need private key for revoking");const o={key:this.keyPacket},l=this.clone();return l.revocationSignatures.push(await bi(o,[],this.keyPacket,{signatureType:A.signature.keyRevocation,reasonForRevocationFlag:A.write(A.reasonForRevocation,e),reasonForRevocationString:t},n,void 0,void 0,void 0,a)),l}async addSubkey(e={}){const t={...de,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const n=this.keyPacket;if(n.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw Error("Key is not decrypted");const a=n.getAlgorithmInfo();a.type=(function(f){switch(A.write(A.publicKey,f)){case A.publicKey.rsaEncrypt:case A.publicKey.rsaEncryptSign:case A.publicKey.rsaSign:case A.publicKey.dsa:return"rsa";case A.publicKey.ecdsa:case A.publicKey.eddsaLegacy:return"ecc";case A.publicKey.ed25519:return"curve25519";case A.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}})(a.algorithm),a.rsaBits=a.bits||4096,a.curve=a.curve||"curve25519Legacy",e=I2(e,a);const o=await _A(e,{...t,v6Keys:this.keyPacket.version===6});Ja(o,t);const l=await jA(o,n,e,t),u=this.toPacketList();return u.push(o,l),new a0(u)}}const qA=B.constructAllowedPackets([yi,Ah,B3,GA,wh,x3,hn]);function WD(r){for(const e of r)switch(e.constructor.tag){case A.packet.secretKey:return new a0(r);case A.packet.publicKey:return new R2(r)}throw Error("No key packet found")}async function $D(r,e,t,n){t.passphrase&&await r.encrypt(t.passphrase,n),await Promise.all(e.map((async function(f,d){const y=t.subkeys[d].passphrase;y&&await f.encrypt(y,n)})));const a=new et;function o(f,d){return[d,...f.filter((y=>y!==d))]}function l(){const f={};f.keyFlags=[A.keyFlags.certifyKeys|A.keyFlags.signData];const d=o([A.symmetric.aes256,A.symmetric.aes128],n.preferredSymmetricAlgorithm);if(f.preferredSymmetricAlgorithms=d,n.aeadProtect){const y=o([A.aead.gcm,A.aead.eax,A.aead.ocb],n.preferredAEADAlgorithm);f.preferredCipherSuites=y.flatMap((p=>d.map((m=>[m,p]))))}return f.preferredHashAlgorithms=o([A.hash.sha512,A.hash.sha256,A.hash.sha3_512,A.hash.sha3_256],n.preferredHashAlgorithm),f.preferredCompressionAlgorithms=o([A.compression.uncompressed,A.compression.zlib,A.compression.zip],n.preferredCompressionAlgorithm),f.features=[0],f.features[0]|=A.features.modificationDetection,n.aeadProtect&&(f.features[0]|=A.features.seipdv2),t.keyExpirationTime>0&&(f.keyExpirationTime=t.keyExpirationTime,f.keyNeverExpires=!1),f}if(a.push(r),r.version===6){const f={key:r},d=l();d.signatureType=A.signature.key;const y=await bi(f,[],r,d,t.date,void 0,void 0,void 0,n);a.push(y)}await Promise.all(t.userIDs.map((async function(f,d){const y=wh.fromObject(f),p={userID:y,key:r},m=r.version!==6?l():{};return m.signatureType=A.signature.certPositive,d===0&&(m.isPrimaryUserID=!0),{userIDPacket:y,signaturePacket:await bi(p,[],r,m,t.date,void 0,void 0,void 0,n)}}))).then((f=>{f.forEach((({userIDPacket:d,signaturePacket:y})=>{a.push(d),a.push(y)}))})),await Promise.all(e.map((async function(f,d){const y=t.subkeys[d];return{secretSubkeyPacket:f,subkeySignaturePacket:await jA(f,r,y,n)}}))).then((f=>{f.forEach((({secretSubkeyPacket:d,subkeySignaturePacket:y})=>{a.push(d),a.push(y)}))}));const u={key:r};return a.push(await bi(u,[],r,{signatureType:A.signature.keyRevocation,reasonForRevocationFlag:A.reasonForRevocation.noReason,reasonForRevocationString:""},t.date,void 0,void 0,void 0,n)),t.passphrase&&r.clearPrivateParams(),await Promise.all(e.map((async function(f,d){t.subkeys[d].passphrase&&f.clearPrivateParams()}))),new a0(a)}async function eI({armoredKey:r,binaryKey:e,config:t,...n}){if(t={...de,...t},!r&&!e)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(r&&!B.isString(r))throw Error("readKey: options.armoredKey must be a string");if(e&&!B.isUint8Array(e))throw Error("readKey: options.binaryKey must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let o;if(r){const{type:f,data:d}=await t0(r);if(f!==A.armor.publicKey&&f!==A.armor.privateKey)throw Error("Armored text not of type key");o=d}else o=e;const l=await et.fromBinary(o,qA,t),u=l.indexOfTag(A.packet.publicKey,A.packet.secretKey);if(u.length===0)throw Error("No key packet found");return WD(l.slice(u[0],u[1]))}async function tI({armoredKey:r,binaryKey:e,config:t,...n}){if(t={...de,...t},!r&&!e)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(r&&!B.isString(r))throw Error("readPrivateKey: options.armoredKey must be a string");if(e&&!B.isUint8Array(e))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let o;if(r){const{type:f,data:d}=await t0(r);if(f!==A.armor.privateKey)throw Error("Armored text not of type private key");o=d}else o=e;const l=await et.fromBinary(o,qA,t),u=l.indexOfTag(A.packet.publicKey,A.packet.secretKey);for(let f=0;f<u.length;f++){if(l[u[f]].constructor.tag===A.packet.publicKey)continue;const d=l.slice(u[f],u[f+1]);return new a0(d)}throw Error("No secret key packet found")}const nI=B.constructAllowedPackets([qc,i0,VD,Lc,YD,Vu,Qc,Br,hn]),rI=B.constructAllowedPackets([Qc]),iI=B.constructAllowedPackets([hn]);class Sr{constructor(e){this.packets=e||new et}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(A.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag(A.packet.onePassSignature);return t.length>0?t.map((n=>n.issuerKeyID)):e.packets.filterByTag(A.packet.signature).map((n=>n.issuerKeyID))}async decrypt(e,t,n,a=new Date,o=de){const l=this.packets.filterByTag(A.packet.symmetricallyEncryptedData,A.packet.symEncryptedIntegrityProtectedData,A.packet.aeadEncryptedData);if(l.length===0)throw Error("No encrypted data found");const u=l[0],f=u.cipherAlgorithm,d=n||await this.decryptSessionKeys(e,t,f,a,o);let y=null;const p=Promise.all(d.map((async({algorithm:w,data:E})=>{if(!B.isUint8Array(E)||!u.cipherAlgorithm&&!B.isString(w))throw Error("Invalid session key for decryption.");try{const S=u.cipherAlgorithm||A.write(A.symmetric,w);await u.decrypt(S,E,o)}catch(S){B.printDebugError(S),y=S}})));if(r2(u.encrypted),u.encrypted=null,await p,!u.packets||!u.packets.length)throw y||Error("Decryption failed.");const m=new Sr(u.packets);return u.packets=new et,m}async decryptSessionKeys(e,t,n,a=new Date,o=de){let l,u=[];if(t){const f=this.packets.filterByTag(A.packet.symEncryptedSessionKey);if(f.length===0)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(d,y){let p;p=y?await et.fromBinary(f.write(),rI,o):f,await Promise.all(p.map((async function(m){try{await m.decrypt(d),u.push(m)}catch(w){B.printDebugError(w),w instanceof ph&&(l=w)}})))})))}else{if(!e)throw Error("No key or password specified.");{const f=this.packets.filterByTag(A.packet.publicKeyEncryptedSessionKey);if(f.length===0)throw Error("No public key encrypted session key packet found.");await Promise.all(f.map((async function(d){await Promise.all(e.map((async function(y){let p;try{p=(await y.getDecryptionKeys(d.publicKeyID,null,void 0,o)).map((w=>w.keyPacket))}catch(w){return void(l=w)}let m=[A.symmetric.aes256,A.symmetric.aes128,A.symmetric.tripledes,A.symmetric.cast5];try{const w=await y.getPrimarySelfSignature(a,void 0,o);w.preferredSymmetricAlgorithms&&(m=m.concat(w.preferredSymmetricAlgorithms))}catch{}await Promise.all(p.map((async function(w){if(!w.isDecrypted())throw Error("Decryption key is not decrypted.");if(o.constantTimePKCS1Decryption&&(d.publicKeyAlgorithm===A.publicKey.rsaEncrypt||d.publicKeyAlgorithm===A.publicKey.rsaEncryptSign||d.publicKeyAlgorithm===A.publicKey.rsaSign||d.publicKeyAlgorithm===A.publicKey.elgamal)){const E=d.write();await Promise.all((n?[n]:Array.from(o.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map((async S=>{const v=new Vu;v.read(E);const k={sessionKeyAlgorithm:S,sessionKey:v2(S)};try{await v.decrypt(w,k),u.push(v)}catch(D){B.printDebugError(D),l=D}})))}else try{await d.decrypt(w);const E=n||d.sessionKeyAlgorithm;if(E&&!m.includes(A.write(A.symmetric,E)))throw Error("A non-preferred symmetric algorithm was used.");u.push(d)}catch(E){B.printDebugError(E),l=E}})))}))),r2(d.encrypted),d.encrypted=null})))}}if(u.length>0){if(u.length>1){const f=new Set;u=u.filter((d=>{const y=d.sessionKeyAlgorithm+B.uint8ArrayToString(d.sessionKey);return!f.has(y)&&(f.add(y),!0)}))}return u.map((f=>({data:f.sessionKey,algorithm:f.sessionKeyAlgorithm&&A.read(A.symmetric,f.sessionKeyAlgorithm)})))}throw l||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(A.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(A.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(A.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,n=[],a=de){const{symmetricAlgo:o,aeadAlgo:l}=await(async function(d=[],y=new Date,p=[],m=de){const w=await Promise.all(d.map(((v,k)=>v.getPrimarySelfSignature(y,p[k],m))));if(d.length?w.every((v=>v.features&&v.features[0]&A.features.seipdv2)):m.aeadProtect){const v={symmetricAlgo:A.symmetric.aes128,aeadAlgo:A.aead.ocb},k=[{symmetricAlgo:m.preferredSymmetricAlgorithm,aeadAlgo:m.preferredAEADAlgorithm},{symmetricAlgo:m.preferredSymmetricAlgorithm,aeadAlgo:A.aead.ocb},{symmetricAlgo:A.symmetric.aes128,aeadAlgo:m.preferredAEADAlgorithm}];for(const D of k)if(w.every((C=>C.preferredCipherSuites&&C.preferredCipherSuites.some((N=>N[0]===D.symmetricAlgo&&N[1]===D.aeadAlgo)))))return D;return v}const E=A.symmetric.aes128,S=m.preferredSymmetricAlgorithm;return{symmetricAlgo:w.every((v=>v.preferredSymmetricAlgorithms&&v.preferredSymmetricAlgorithms.includes(S)))?S:E,aeadAlgo:void 0}})(e,t,n,a),u=A.read(A.symmetric,o),f=l?A.read(A.aead,l):void 0;return await Promise.all(e.map((d=>d.getEncryptionKey().catch((()=>null)).then((y=>{if(y&&(y.keyPacket.algorithm===A.publicKey.x25519||y.keyPacket.algorithm===A.publicKey.x448)&&!f&&!B.isAES(o))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))))),{data:v2(o),algorithm:u,aeadAlgorithm:f}}async encrypt(e,t,n,a=!1,o=[],l=new Date,u=[],f=de){if(n){if(!B.isUint8Array(n.data)||!B.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)n=await Sr.generateSessionKey(e,l,u,f);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");n=await Sr.generateSessionKey(void 0,void 0,void 0,f)}const{data:d,algorithm:y,aeadAlgorithm:p}=n,m=await Sr.encryptSessionKey(d,y,p,e,t,a,o,l,u,f),w=Lc.fromObject({version:p?2:1,aeadAlgorithm:p?A.write(A.aead,p):null});w.packets=this.packets;const E=A.write(A.symmetric,y);return await w.encrypt(E,d,f),m.packets.push(w),w.packets=new et,m}static async encryptSessionKey(e,t,n,a,o,l=!1,u=[],f=new Date,d=[],y=de){const p=new et,m=A.write(A.symmetric,t),w=n&&A.write(A.aead,n);if(a){const E=await Promise.all(a.map((async function(S,v){const k=await S.getEncryptionKey(u[v],f,d,y),D=Vu.fromObject({version:w?6:3,encryptionKeyPacket:k.keyPacket,anonymousRecipient:l,sessionKey:e,sessionKeyAlgorithm:m});return await D.encrypt(k.keyPacket),delete D.sessionKey,D})));p.push(...E)}if(o){const E=async function(D,C){try{return await D.decrypt(C),1}catch{return 0}},S=(D,C)=>D+C,v=async function(D,C,N,M){const K=new Qc(y);return K.sessionKey=D,K.sessionKeyAlgorithm=C,N&&(K.aeadAlgorithm=N),await K.encrypt(M,y),y.passwordCollisionCheck&&(await Promise.all(o.map((I=>E(K,I))))).reduce(S)!==1?v(D,C,M):(delete K.sessionKey,K)},k=await Promise.all(o.map((D=>v(e,m,w,D))));p.push(...k)}return new Sr(p)}async sign(e=[],t=[],n=null,a=[],o=new Date,l=[],u=[],f=[],d=de){const y=new et,p=this.packets.findPacket(A.packet.literalData);if(!p)throw Error("No literal data packet to sign.");const m=await q9(p,e,t,n,a,o,l,u,f,!1,d),w=m.map(((E,S)=>Br.fromSignaturePacket(E,S===0))).reverse();return y.push(...w),y.push(p),y.push(...m),new Sr(y)}compress(e,t=de){if(e===A.compression.uncompressed)return this;const n=new i0(t);n.algorithm=e,n.packets=this.packets;const a=new et;return a.push(n),new Sr(a)}async signDetached(e=[],t=[],n=null,a=[],o=[],l=new Date,u=[],f=[],d=de){const y=this.packets.findPacket(A.packet.literalData);if(!y)throw Error("No literal data packet to sign.");return new FA(await q9(y,e,t,n,a,o,l,u,f,!0,d))}async verify(e,t=new Date,n=de){const a=this.unwrapCompressed(),o=a.packets.filterByTag(A.packet.literalData);if(o.length!==1)throw Error("Can only verify message with one literal data packet.");let l=a.packets;Lt(l.stream)&&(l=l.concat(await Ft(l.stream,(d=>d||[]))));const u=l.filterByTag(A.packet.onePassSignature).reverse(),f=l.filterByTag(A.packet.signature);return u.length&&!f.length&&B.isStream(l.stream)&&!Lt(l.stream)?(await Promise.all(u.map((async d=>{d.correspondingSig=new Promise(((y,p)=>{d.correspondingSigResolve=y,d.correspondingSigReject=p})),d.signatureData=hs((async()=>(await d.correspondingSig).signatureData)),d.hashed=Ft(await d.hash(d.signatureType,o[0],void 0,!1)),d.hashed.catch((()=>{}))}))),l.stream=fs(l.stream,(async(d,y)=>{const p=aa(d),m=lr(y);try{for(let w=0;w<u.length;w++){const{value:E}=await p.read();u[w].correspondingSigResolve(E)}await p.readToEnd(),await m.ready,await m.close()}catch(w){u.forEach((E=>{E.correspondingSigReject(w)})),await m.abort(w)}})),S6(u,o,e,t,!1,n)):S6(f,o,e,t,!1,n)}verifyDetached(e,t,n=new Date,a=de){const o=this.unwrapCompressed().packets.filterByTag(A.packet.literalData);if(o.length!==1)throw Error("Can only verify message with one literal data packet.");return S6(e.packets.filterByTag(A.packet.signature),o,t,n,!0,a)}unwrapCompressed(){const e=this.packets.filterByTag(A.packet.compressedData);return e.length?new Sr(e[0].packets):this}async appendSignature(e,t=de){await this.packets.read(B.isUint8Array(e)?e:(await t0(e)).data,iI,t)}write(){return this.packets.write()}armor(e=de){const t=this.packets[this.packets.length-1],n=t.constructor.tag===Lc.tag?t.version!==2:this.packets.some((a=>a.constructor.tag===hn.tag&&a.version!==6));return n0(A.armor.message,this.write(),null,null,null,n,e)}}async function q9(r,e,t=[],n=null,a=[],o=new Date,l=[],u=[],f=[],d=!1,y=de){const p=new et,m=r.text===null?A.signature.binary:A.signature.text;if(await Promise.all(e.map((async(w,E)=>{const S=l[E];if(!w.isPrivate())throw Error("Need private key for signing");const v=await w.getSigningKey(a[E],o,S,y);return bi(r,t.length?t:[w],v.keyPacket,{signatureType:m},o,u,f,d,y)}))).then((w=>{p.push(...w)})),n){const w=n.packets.filterByTag(A.packet.signature);p.push(...w)}return p}async function S6(r,e,t,n=new Date,a=!1,o=de){return Promise.all(r.filter((function(l){return["text","binary"].includes(A.read(A.signature,l.signatureType))})).map((async function(l){return(async function(u,f,d,y=new Date,p=!1,m=de){let w,E;for(const k of d){const D=k.getKeys(u.issuerKeyID);if(D.length>0){w=k,E=D[0];break}}const S=u instanceof Br?u.correspondingSig:u,v={keyID:u.issuerKeyID,verified:(async()=>{if(!E)throw Error("Could not find signing key with key ID "+u.issuerKeyID.toHex());await u.verify(E.keyPacket,u.signatureType,f[0],y,p,m);const k=await S;if(E.getCreationTime()>k.created)throw Error("Key is newer than the signature");try{await w.getSigningKey(E.getKeyID(),k.created,void 0,m)}catch(D){if(!m.allowInsecureVerificationWithReformattedKeys||!D.message.match(/Signature creation time is in the future/))throw D;await w.getSigningKey(E.getKeyID(),y,void 0,m)}return!0})(),signature:(async()=>{const k=await S,D=new et;return k&&D.push(k),new FA(D)})()};return v.signature.catch((()=>{})),v.verified.catch((()=>{})),v})(l,e,t,n,a,o)})))}async function aI({armoredMessage:r,binaryMessage:e,config:t,...n}){t={...de,...t};let a=r||e;if(!a)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(r&&!B.isString(r)&&!B.isStream(r))throw Error("readMessage: options.armoredMessage must be a string or stream");if(e&&!B.isUint8Array(e)&&!B.isStream(e))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const o=Object.keys(n);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const l=B.isStream(a);if(r){const{type:d,data:y}=await t0(a);if(d!==A.armor.message)throw Error("Armored text not of type message");a=y}const u=await et.fromBinary(a,nI,t,new bh),f=new Sr(u);return f.fromStream=l,f}async function sI({text:r,binary:e,filename:t,date:n=new Date,format:a=r!==void 0?"utf8":"binary",...o}){const l=r!==void 0?r:e;if(l===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(r&&!B.isString(r)&&!B.isStream(r))throw Error("createMessage: options.text must be a string or stream");if(e&&!B.isUint8Array(e)&&!B.isStream(e))throw Error("createMessage: options.binary must be a Uint8Array or stream");const u=Object.keys(o);if(u.length>0)throw Error("Unknown option: "+u.join(", "));const f=B.isStream(l),d=new qc(n);r!==void 0?d.setText(l,A.write(A.literal,a)):d.setBytes(l,A.write(A.literal,a)),t!==void 0&&d.setFilename(t);const y=new et;y.push(d);const p=new Sr(y);return p.fromStream=f,p}async function oI({userIDs:r=[],passphrase:e,type:t,curve:n,rsaBits:a=4096,keyExpirationTime:o=0,date:l=new Date,subkeys:u=[{}],format:f="armored",config:d,...y}){Eh(d={...de,...d}),t||n?(t=t||"ecc",n=n||"curve25519Legacy"):(t=d.v6Keys?"curve25519":"ecc",n="curve25519Legacy"),r=ar(r);const p=Object.keys(y);if(p.length>0)throw Error("Unknown option: "+p.join(", "));if(r.length===0&&!d.v6Keys)throw Error("UserIDs are required for V4 keys");if(t==="rsa"&&a<d.minRSABits)throw Error(`rsaBits should be at least ${d.minRSABits}, got: ${a}`);const m={userIDs:r,passphrase:e,type:t,rsaBits:a,curve:n,keyExpirationTime:o,date:l,subkeys:u};try{const{key:w,revocationCertificate:E}=await(async function(S,v){S.sign=!0,(S=I2(S)).subkeys=S.subkeys.map(((M,K)=>I2(S.subkeys[K],S)));let k=[ZD(S,v)];k=k.concat(S.subkeys.map((M=>_A(M,v))));const D=await Promise.all(k),C=await $D(D[0],D.slice(1),S,v),N=await C.getRevocationCertificate(S.date,v);return C.revocationSignatures=[],{key:C,revocationCertificate:N}})(m,d);return w.getKeys().forEach((({keyPacket:S})=>Ja(S,d))),{privateKey:Y9(w,f,d),publicKey:Y9(w.toPublic(),f,d),revocationCertificate:E}}catch(w){throw B.wrapError("Error generating keypair",w)}}async function cI({privateKey:r,passphrase:e,config:t,...n}){Eh(t={...de,...t});const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(!r.isPrivate())throw Error("Cannot decrypt a public key");const o=r.clone(!0),l=B.isArray(e)?e:[e];try{return await Promise.all(o.getKeys().map((u=>B.anyPromise(l.map((f=>u.keyPacket.decrypt(f))))))),await o.validate(t),o}catch(u){throw o.clearPrivateParams(),B.wrapError("Error decrypting private key",u)}}async function lI({message:r,encryptionKeys:e,signingKeys:t,passwords:n,sessionKey:a,format:o="armored",signature:l=null,wildcard:u=!1,signingKeyIDs:f=[],encryptionKeyIDs:d=[],date:y=new Date,signingUserIDs:p=[],encryptionUserIDs:m=[],signatureNotations:w=[],config:E,...S}){if(Eh(E={...de,...E}),YA(r),fI(o),e=ar(e),t=ar(t),n=ar(n),f=ar(f),d=ar(d),p=ar(p),m=ar(m),w=ar(w),S.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(S.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(S.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(S.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const v=Object.keys(S);if(v.length>0)throw Error("Unknown option: "+v.join(", "));t||(t=[]);try{if((t.length||l)&&(r=await r.sign(t,e,l,f,y,p,d,w,E)),r=r.compress(await(async function(D=[],C=new Date,N=[],M=de){const K=A.compression.uncompressed,I=M.preferredCompressionAlgorithm;return(await Promise.all(D.map((async function(R,L){const Q=(await R.getPrimarySelfSignature(C,N[L],M)).preferredCompressionAlgorithms;return!!Q&&Q.indexOf(I)>=0})))).every(Boolean)?I:K})(e,y,m,E),E),r=await r.encrypt(e,n,a,u,d,y,m,E),o==="object")return r;const k=o==="armored"?r.armor(E):r.write();return await ZA(k)}catch(k){throw B.wrapError("Error encrypting message",k)}}async function uI({message:r,decryptionKeys:e,passwords:t,sessionKeys:n,verificationKeys:a,expectSigned:o=!1,format:l="utf8",signature:u=null,date:f=new Date,config:d,...y}){if(Eh(d={...de,...d}),YA(r),a=ar(a),e=ar(e),t=ar(t),n=ar(n),y.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(y.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const p=Object.keys(y);if(p.length>0)throw Error("Unknown option: "+p.join(", "));try{const m=await r.decrypt(e,t,n,f,d);a||(a=[]);const w={};if(w.signatures=u?await m.verifyDetached(u,a,f,d):await m.verify(a,f,d),w.data=l==="binary"?m.getLiteralData():m.getText(),w.filename=m.getFilename(),dI(w,r,...new Set([m,m.unwrapCompressed()])),o){if(a.length===0)throw Error("Verification keys are required to verify message signatures");if(w.signatures.length===0)throw Error("Message is not signed");w.data=Qn([w.data,hs((async()=>(await B.anyPromise(w.signatures.map((E=>E.verified))),l==="binary"?new Uint8Array:"")))])}return w.data=await ZA(w.data),w}catch(m){throw B.wrapError("Error decrypting message",m)}}function YA(r){if(!(r instanceof Sr))throw Error("Parameter [message] needs to be of type Message")}function fI(r){if(r!=="armored"&&r!=="binary"&&r!=="object")throw Error("Unsupported format "+r)}const hI=Object.keys(de).length;function Eh(r){const e=Object.keys(r);if(e.length!==hI){for(const t of e)if(de[t]===void 0)throw Error("Unknown config property: "+t)}}function ar(r){return r&&!B.isArray(r)&&(r=[r]),r}async function ZA(r){return B.isStream(r)==="array"?Ft(r):r}function dI(r,e,...t){r.data=fs(e.packets.stream,(async(n,a)=>{await io(r.data,a,{preventClose:!0});const o=lr(a);try{await Ft(n,(l=>l)),await Promise.all(t.map((l=>Ft(l.packets.stream,(u=>u))))),await o.close()}catch(l){await o.abort(l)}}))}function Y9(r,e,t){switch(e){case"object":return r;case"armored":return r.armor(t);case"binary":return r.write();default:throw Error("Unsupported format "+e)}}const oc=typeof An=="object"&&"crypto"in An?An.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C3(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function qu(r){if(!Number.isSafeInteger(r)||r<0)throw Error("positive integer expected, got "+r)}function Dr(r,...e){if(!C3(r))throw Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw Error("Uint8Array expected of length "+e+", got length="+r.length)}function Gc(r,e=!0){if(r.destroyed)throw Error("Hash instance has been destroyed");if(e&&r.finished)throw Error("Hash#digest() has already been called")}function JA(r,e){Dr(r);const t=e.outputLen;if(r.length<t)throw Error("digestInto() expects output buffer of length at least "+t)}function Ir(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function k6(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Wr(r,e){return r<<32-e|r>>>e}function ts(r,e){return r<<e|r>>>32-e>>>0}const Z9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68?r=>r:function(r){for(let t=0;t<r.length;t++)r[t]=(e=r[t])<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;var e;return r},XA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yI=Array.from({length:256},((r,e)=>e.toString(16).padStart(2,"0")));function Fc(r){if(Dr(r),XA)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=yI[r[t]];return e}const J9=48,pI=57,X9=65,gI=70,W9=97,mI=102;function $9(r){return r>=J9&&r<=pI?r-J9:r>=X9&&r<=gI?r-(X9-10):r>=W9&&r<=mI?r-(W9-10):void 0}function U3(r){if(typeof r!="string")throw Error("hex string expected, got "+typeof r);if(XA)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let a=0,o=0;a<t;a++,o+=2){const l=$9(r.charCodeAt(o)),u=$9(r.charCodeAt(o+1));if(l===void 0||u===void 0){const f=r[o]+r[o+1];throw Error('hex string expected, got non-hex character "'+f+'" at index '+o)}n[a]=16*l+u}return n}function WA(r){if(typeof r!="string")throw Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function s0(r){return typeof r=="string"&&(r=WA(r)),Dr(r),r}function fi(...r){let e=0;for(let n=0;n<r.length;n++){const a=r[n];Dr(a),e+=a.length}const t=new Uint8Array(e);for(let n=0,a=0;n<r.length;n++){const o=r[n];t.set(o,a),a+=o.length}return t}class D3{}function ua(r){const e=n=>r().update(s0(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}const bI=ua;function I3(r=32){if(oc&&typeof oc.getRandomValues=="function")return oc.getRandomValues(new Uint8Array(r));if(oc&&typeof oc.randomBytes=="function")return Uint8Array.from(oc.randomBytes(r));throw Error("crypto.getRandomValues must be defined")}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R3=BigInt(0),T2=BigInt(1);function co(r,e){if(typeof e!="boolean")throw Error(r+" boolean expected, got "+e)}function Gf(r){const e=r.toString(16);return 1&e.length?"0"+e:e}function $A(r){if(typeof r!="string")throw Error("hex string expected, got "+typeof r);return r===""?R3:BigInt("0x"+r)}function L1(r){return $A(Fc(r))}function lo(r){return Dr(r),$A(Fc(Uint8Array.from(r).reverse()))}function T3(r,e){return U3(r.toString(16).padStart(2*e,"0"))}function o0(r,e){return T3(r,e).reverse()}function Et(r,e,t){let n;if(typeof e=="string")try{n=U3(e)}catch(o){throw Error(r+" must be hex string or Uint8Array, cause: "+o)}else{if(!C3(e))throw Error(r+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const a=n.length;if(typeof t=="number"&&a!==t)throw Error(r+" of length "+t+" expected, got "+a);return n}const x6=r=>typeof r=="bigint"&&R3<=r;function ns(r,e,t,n){if(!(function(a,o,l){return x6(a)&&x6(o)&&x6(l)&&o<=a&&a<l})(e,t,n))throw Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}const vh=r=>(T2<<BigInt(r))-T2;function Yc(r,e,t={}){if(!r||typeof r!="object")throw Error("expected valid options object");function n(a,o,l){const u=r[a];if(l&&u===void 0)return;const f=typeof u;if(f!==o||u===null)throw Error(`param "${a}" is invalid: expected ${o}, got ${f}`)}Object.entries(e).forEach((([a,o])=>n(a,o,!1))),Object.entries(t).forEach((([a,o])=>n(a,o,!0)))}function Q1(r){const e=new WeakMap;return(t,...n)=>{const a=e.get(t);if(a!==void 0)return a;const o=r(t,...n);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mn=BigInt(0),kn=BigInt(1),qs=BigInt(2),AI=BigInt(3),ew=BigInt(4),tw=BigInt(5),nw=BigInt(8);function zt(r,e){const t=r%e;return t>=Mn?t:e+t}function bt(r,e,t){let n=r;for(;e-- >Mn;)n*=n,n%=t;return n}function em(r,e){if(r===Mn)throw Error("invert: expected non-zero number");if(e<=Mn)throw Error("invert: expected positive modulus, got "+e);let t=zt(r,e),n=e,a=Mn,o=kn;for(;t!==Mn;){const l=n%t,u=a-o*(n/t);n=t,t=l,a=o,o=u}if(n!==kn)throw Error("invert: does not exist");return zt(a,e)}function tm(r,e){const t=(r.ORDER+kn)/ew,n=r.pow(e,t);if(!r.eql(r.sqr(n),e))throw Error("Cannot find square root");return n}function wI(r,e){const t=(r.ORDER-tw)/nw,n=r.mul(e,qs),a=r.pow(n,t),o=r.mul(e,a),l=r.mul(r.mul(o,qs),a),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),e))throw Error("Cannot find square root");return u}function EI(r){return r%ew===AI?tm:r%nw===tw?wI:(function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-kn,n=0;for(;t%qs===Mn;)t/=qs,n++;let a=qs;const o=Rr(e);for(;nm(o,a)===1;)if(a++>1e3)throw Error("Cannot find square root: probably non-prime P");if(n===1)return tm;let l=o.pow(a,t);const u=(t+kn)/qs;return function(f,d){if(f.is0(d))return d;if(nm(f,d)!==1)throw Error("Cannot find square root");let y=n,p=f.mul(f.ONE,l),m=f.pow(d,t),w=f.pow(d,u);for(;!f.eql(m,f.ONE);){if(f.is0(m))return f.ZERO;let E=1,S=f.sqr(m);for(;!f.eql(S,f.ONE);)if(E++,S=f.sqr(S),E===y)throw Error("Cannot find square root");const v=kn<<BigInt(y-E-1),k=f.pow(p,v);y=E,p=f.sqr(k),m=f.mul(m,p),w=f.mul(w,k)}return w}})(r)}const vI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rw(r,e,t=!1){const n=Array(e.length).fill(t?r.ZERO:void 0),a=e.reduce(((l,u,f)=>r.is0(u)?l:(n[f]=l,r.mul(l,u))),r.ONE),o=r.inv(a);return e.reduceRight(((l,u,f)=>r.is0(u)?l:(n[f]=r.mul(l,n[f]),r.mul(l,u))),o),n}function nm(r,e){const t=(r.ORDER-kn)/qs,n=r.pow(e,t),a=r.eql(n,r.ONE),o=r.eql(n,r.ZERO),l=r.eql(n,r.neg(r.ONE));if(!a&&!o&&!l)throw Error("invalid Legendre symbol result");return a?1:o?0:-1}function Rr(r,e,t=!1,n={}){if(r<=Mn)throw Error("invalid field: expected ORDER > 0, got "+r);let a,o;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw Error("cannot specify opts in two arguments");const y=e;y.BITS&&(a=y.BITS),y.sqrt&&(o=y.sqrt),typeof y.isLE=="boolean"&&(t=y.isLE)}else typeof e=="number"&&(a=e),n.sqrt&&(o=n.sqrt);const{nBitLength:l,nByteLength:u}=(function(y,p){p!==void 0&&qu(p);const m=p!==void 0?p:y.toString(2).length;return{nBitLength:m,nByteLength:Math.ceil(m/8)}})(r,a);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let f;const d=Object.freeze({ORDER:r,isLE:t,BITS:l,BYTES:u,MASK:vh(l),ZERO:Mn,ONE:kn,create:y=>zt(y,r),isValid:y=>{if(typeof y!="bigint")throw Error("invalid field element: expected bigint, got "+typeof y);return Mn<=y&&y<r},is0:y=>y===Mn,isValidNot0:y=>!d.is0(y)&&d.isValid(y),isOdd:y=>(y&kn)===kn,neg:y=>zt(-y,r),eql:(y,p)=>y===p,sqr:y=>zt(y*y,r),add:(y,p)=>zt(y+p,r),sub:(y,p)=>zt(y-p,r),mul:(y,p)=>zt(y*p,r),pow:(y,p)=>(function(m,w,E){if(E<Mn)throw Error("invalid exponent, negatives unsupported");if(E===Mn)return m.ONE;if(E===kn)return w;let S=m.ONE,v=w;for(;E>Mn;)E&kn&&(S=m.mul(S,v)),v=m.sqr(v),E>>=kn;return S})(d,y,p),div:(y,p)=>zt(y*em(p,r),r),sqrN:y=>y*y,addN:(y,p)=>y+p,subN:(y,p)=>y-p,mulN:(y,p)=>y*p,inv:y=>em(y,r),sqrt:o||(y=>(f||(f=EI(r)),f(d,y))),toBytes:y=>t?o0(y,u):T3(y,u),fromBytes:y=>{if(y.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+y.length);return t?lo(y):L1(y)},invertBatch:y=>rw(d,y),cmov:(y,p,m)=>m?p:y});return Object.freeze(d)}function iw(r){if(typeof r!="bigint")throw Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function rm(r){const e=iw(r);return e+Math.ceil(e/2)}function aw(r,e,t){return r&e^~r&t}function sw(r,e,t){return r&e^r&t^e&t}class c0 extends D3{constructor(e,t,n,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=a,this.buffer=new Uint8Array(e),this.view=k6(this.buffer)}update(e){Gc(this),Dr(e=s0(e));const{view:t,buffer:n,blockLen:a}=this,o=e.length;for(let l=0;l<o;){const u=Math.min(a-this.pos,o-l);if(u!==a)n.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===a&&(this.process(t,0),this.pos=0);else{const f=k6(e);for(;a<=o-l;l+=a)this.process(f,l)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gc(this),JA(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:o}=this;let{pos:l}=this;t[l++]=128,Ir(this.buffer.subarray(l)),this.padOffset>a-l&&(this.process(n,0),l=0);for(let p=l;p<a;p++)t[p]=0;(function(p,m,w,E){if(typeof p.setBigUint64=="function")return p.setBigUint64(m,w,E);const S=BigInt(32),v=BigInt(4294967295),k=Number(w>>S&v),D=Number(w&v),C=E?4:0,N=E?0:4;p.setUint32(m+C,k,E),p.setUint32(m+N,D,E)})(n,a-8,BigInt(8*this.length),o),this.process(n,0);const u=k6(e),f=this.outputLen;if(f%4)throw Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,y=this.get();if(d>y.length)throw Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)u.setUint32(4*p,y[p],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:a,finished:o,destroyed:l,pos:u}=this;return e.destroyed=l,e.finished=o,e.length=a,e.pos=u,a%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Ha=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),za=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),gn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),mn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ff=BigInt(2**32-1),im=BigInt(32);function SI(r,e=!1){return e?{h:Number(r&Ff),l:Number(r>>im&Ff)}:{h:0|Number(r>>im&Ff),l:0|Number(r&Ff)}}function ow(r,e=!1){const t=r.length;let n=new Uint32Array(t),a=new Uint32Array(t);for(let o=0;o<t;o++){const{h:l,l:u}=SI(r[o],e);[n[o],a[o]]=[l,u]}return[n,a]}const am=(r,e,t)=>r>>>t,sm=(r,e,t)=>r<<32-t|e>>>t,cc=(r,e,t)=>r>>>t|e<<32-t,lc=(r,e,t)=>r<<32-t|e>>>t,_f=(r,e,t)=>r<<64-t|e>>>t-32,jf=(r,e,t)=>r>>>t-32|e<<64-t;function Qi(r,e,t,n){const a=(e>>>0)+(n>>>0);return{h:r+t+(a/2**32|0)|0,l:0|a}}const kI=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),xI=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,BI=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),CI=(r,e,t,n,a)=>e+t+n+a+(r/2**32|0)|0,UI=(r,e,t,n,a)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0),DI=(r,e,t,n,a,o)=>e+t+n+a+o+(r/2**32|0)|0,II=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ga=new Uint32Array(64);class cw extends c0{constructor(e=32){super(64,e,8,!1),this.A=0|Ha[0],this.B=0|Ha[1],this.C=0|Ha[2],this.D=0|Ha[3],this.E=0|Ha[4],this.F=0|Ha[5],this.G=0|Ha[6],this.H=0|Ha[7]}get(){const{A:e,B:t,C:n,D:a,E:o,F:l,G:u,H:f}=this;return[e,t,n,a,o,l,u,f]}set(e,t,n,a,o,l,u,f){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|o,this.F=0|l,this.G=0|u,this.H=0|f}process(e,t){for(let p=0;p<16;p++,t+=4)Ga[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){const m=Ga[p-15],w=Ga[p-2],E=Wr(m,7)^Wr(m,18)^m>>>3,S=Wr(w,17)^Wr(w,19)^w>>>10;Ga[p]=S+Ga[p-7]+E+Ga[p-16]|0}let{A:n,B:a,C:o,D:l,E:u,F:f,G:d,H:y}=this;for(let p=0;p<64;p++){const m=y+(Wr(u,6)^Wr(u,11)^Wr(u,25))+aw(u,f,d)+II[p]+Ga[p]|0,w=(Wr(n,2)^Wr(n,13)^Wr(n,22))+sw(n,a,o)|0;y=d,d=f,f=u,u=l+m|0,l=o,o=a,a=n,n=m+w|0}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,f=f+this.F|0,d=d+this.G|0,y=y+this.H|0,this.set(n,a,o,l,u,f,d,y)}roundClean(){Ir(Ga)}destroy(){this.set(0,0,0,0,0,0,0,0),Ir(this.buffer)}}class RI extends cw{constructor(){super(28),this.A=0|za[0],this.B=0|za[1],this.C=0|za[2],this.D=0|za[3],this.E=0|za[4],this.F=0|za[5],this.G=0|za[6],this.H=0|za[7]}}const lw=ow(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((r=>BigInt(r)))),TI=lw[0],NI=lw[1],Fa=new Uint32Array(80),_a=new Uint32Array(80);class uw extends c0{constructor(e=64){super(128,e,16,!1),this.Ah=0|mn[0],this.Al=0|mn[1],this.Bh=0|mn[2],this.Bl=0|mn[3],this.Ch=0|mn[4],this.Cl=0|mn[5],this.Dh=0|mn[6],this.Dl=0|mn[7],this.Eh=0|mn[8],this.El=0|mn[9],this.Fh=0|mn[10],this.Fl=0|mn[11],this.Gh=0|mn[12],this.Gl=0|mn[13],this.Hh=0|mn[14],this.Hl=0|mn[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:a,Ch:o,Cl:l,Dh:u,Dl:f,Eh:d,El:y,Fh:p,Fl:m,Gh:w,Gl:E,Hh:S,Hl:v}=this;return[e,t,n,a,o,l,u,f,d,y,p,m,w,E,S,v]}set(e,t,n,a,o,l,u,f,d,y,p,m,w,E,S,v){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|a,this.Ch=0|o,this.Cl=0|l,this.Dh=0|u,this.Dl=0|f,this.Eh=0|d,this.El=0|y,this.Fh=0|p,this.Fl=0|m,this.Gh=0|w,this.Gl=0|E,this.Hh=0|S,this.Hl=0|v}process(e,t){for(let C=0;C<16;C++,t+=4)Fa[C]=e.getUint32(t),_a[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){const N=0|Fa[C-15],M=0|_a[C-15],K=cc(N,M,1)^cc(N,M,8)^am(N,0,7),I=lc(N,M,1)^lc(N,M,8)^sm(N,M,7),U=0|Fa[C-2],R=0|_a[C-2],L=cc(U,R,19)^_f(U,R,61)^am(U,0,6),Q=lc(U,R,19)^jf(U,R,61)^sm(U,R,6),F=BI(I,Q,_a[C-7],_a[C-16]),G=CI(F,K,L,Fa[C-7],Fa[C-16]);Fa[C]=0|G,_a[C]=0|F}let{Ah:n,Al:a,Bh:o,Bl:l,Ch:u,Cl:f,Dh:d,Dl:y,Eh:p,El:m,Fh:w,Fl:E,Gh:S,Gl:v,Hh:k,Hl:D}=this;for(let C=0;C<80;C++){const N=cc(p,m,14)^cc(p,m,18)^_f(p,m,41),M=lc(p,m,14)^lc(p,m,18)^jf(p,m,41),K=p&w^~p&S,I=UI(D,M,m&E^~m&v,NI[C],_a[C]),U=DI(I,k,N,K,TI[C],Fa[C]),R=0|I,L=cc(n,a,28)^_f(n,a,34)^_f(n,a,39),Q=lc(n,a,28)^jf(n,a,34)^jf(n,a,39),F=n&o^n&u^o&u,G=a&l^a&f^l&f;k=0|S,D=0|v,S=0|w,v=0|E,w=0|p,E=0|m,{h:p,l:m}=Qi(0|d,0|y,0|U,0|R),d=0|u,y=0|f,u=0|o,f=0|l,o=0|n,l=0|a;const Z=kI(R,Q,G);n=xI(Z,U,L,F),a=0|Z}({h:n,l:a}=Qi(0|this.Ah,0|this.Al,0|n,0|a)),{h:o,l}=Qi(0|this.Bh,0|this.Bl,0|o,0|l),{h:u,l:f}=Qi(0|this.Ch,0|this.Cl,0|u,0|f),{h:d,l:y}=Qi(0|this.Dh,0|this.Dl,0|d,0|y),{h:p,l:m}=Qi(0|this.Eh,0|this.El,0|p,0|m),{h:w,l:E}=Qi(0|this.Fh,0|this.Fl,0|w,0|E),{h:S,l:v}=Qi(0|this.Gh,0|this.Gl,0|S,0|v),{h:k,l:D}=Qi(0|this.Hh,0|this.Hl,0|k,0|D),this.set(n,a,o,l,u,f,d,y,p,m,w,E,S,v,k,D)}roundClean(){Ir(Fa,_a)}destroy(){Ir(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class OI extends uw{constructor(){super(48),this.Ah=0|gn[0],this.Al=0|gn[1],this.Bh=0|gn[2],this.Bl=0|gn[3],this.Ch=0|gn[4],this.Cl=0|gn[5],this.Dh=0|gn[6],this.Dl=0|gn[7],this.Eh=0|gn[8],this.El=0|gn[9],this.Fh=0|gn[10],this.Fl=0|gn[11],this.Gh=0|gn[12],this.Gl=0|gn[13],this.Hh=0|gn[14],this.Hl=0|gn[15]}}const N3=ua((()=>new cw)),PI=ua((()=>new RI)),fw=ua((()=>new uw)),hw=ua((()=>new OI));class dw extends D3{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(function(l){if(typeof l!="function"||typeof l.create!="function")throw Error("Hash should be wrapped by utils.createHasher");qu(l.outputLen),qu(l.blockLen)})(e);const n=s0(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(n.length>a?e.create().update(n).digest():n);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),Ir(o)}update(e){return Gc(this),this.iHash.update(e),this}digestInto(e){Gc(this),Dr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:a,destroyed:o,blockLen:l,outputLen:u}=this;return e.finished=a,e.destroyed=o,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yw=(r,e,t)=>new dw(r,e).update(t).digest();yw.create=(r,e)=>new dw(r,e);const _c=BigInt(0),Ys=BigInt(1);function Uu(r,e){const t=e.negate();return r?t:e}function pw(r,e,t){const n=e==="pz"?l=>l.pz:l=>l.ez,a=rw(r.Fp,t.map(n));return t.map(((l,u)=>l.toAffine(a[u]))).map(r.fromAffine)}function gw(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw Error("invalid window size, expected [1.."+e+"], got W="+r)}function B6(r,e){gw(r,e);const t=2**r;return{windows:Math.ceil(e/r)+1,windowSize:2**(r-1),mask:vh(r),maxNumber:t,shiftBy:BigInt(r)}}function om(r,e,t){const{windowSize:n,mask:a,maxNumber:o,shiftBy:l}=t;let u=Number(r&a),f=r>>l;u>n&&(u-=o,f+=Ys);const d=e*n;return{nextN:f,offset:d+Math.abs(u)-1,isZero:u===0,isNeg:u<0,isNegF:e%2!=0,offsetF:d}}const C6=new WeakMap,mw=new WeakMap;function U6(r){return mw.get(r)||1}function cm(r){if(r!==_c)throw Error("invalid wNAF")}function bw(r,e){return{constTimeNegate:Uu,hasPrecomputes:t=>U6(t)!==1,unsafeLadder(t,n,a=r.ZERO){let o=t;for(;n>_c;)n&Ys&&(a=a.add(o)),o=o.double(),n>>=Ys;return a},precomputeWindow(t,n){const{windows:a,windowSize:o}=B6(n,e),l=[];let u=t,f=u;for(let d=0;d<a;d++){f=u,l.push(f);for(let y=1;y<o;y++)f=f.add(u),l.push(f);u=f.double()}return l},wNAF(t,n,a){let o=r.ZERO,l=r.BASE;const u=B6(t,e);for(let f=0;f<u.windows;f++){const{nextN:d,offset:y,isZero:p,isNeg:m,isNegF:w,offsetF:E}=om(a,f,u);a=d,p?l=l.add(Uu(w,n[E])):o=o.add(Uu(m,n[y]))}return cm(a),{p:o,f:l}},wNAFUnsafe(t,n,a,o=r.ZERO){const l=B6(t,e);for(let u=0;u<l.windows&&a!==_c;u++){const{nextN:f,offset:d,isZero:y,isNeg:p}=om(a,u,l);if(a=f,!y){const m=n[d];o=o.add(p?m.negate():m)}}return cm(a),o},getPrecomputes(t,n,a){let o=C6.get(n);return o||(o=this.precomputeWindow(n,t),t!==1&&(typeof a=="function"&&(o=a(o)),C6.set(n,o))),o},wNAFCached(t,n,a){const o=U6(t);return this.wNAF(o,this.getPrecomputes(o,t,a),n)},wNAFCachedUnsafe(t,n,a,o){const l=U6(t);return l===1?this.unsafeLadder(t,n,o):this.wNAFUnsafe(l,this.getPrecomputes(l,t,a),n,o)},setWindowSize(t,n){gw(n,e),mw.set(t,n),C6.delete(t)}}}function Aw(r,e,t,n){(function(m,w){if(!Array.isArray(m))throw Error("array expected");m.forEach(((E,S)=>{if(!(E instanceof w))throw Error("invalid point at index "+S)}))})(t,r),(function(m,w){if(!Array.isArray(m))throw Error("array of scalars expected");m.forEach(((E,S)=>{if(!w.isValid(E))throw Error("invalid scalar at index "+S)}))})(n,e);const a=t.length,o=n.length;if(a!==o)throw Error("arrays of points and scalars must have equal length");const l=r.ZERO,u=(function(m){let w;for(w=0;m>R3;m>>=T2,w+=1);return w})(BigInt(a));let f=1;u>12?f=u-3:u>4?f=u-2:u>0&&(f=2);const d=vh(f),y=Array(Number(d)+1).fill(l);let p=l;for(let m=Math.floor((e.BITS-1)/f)*f;m>=0;m-=f){y.fill(l);for(let E=0;E<o;E++){const S=n[E],v=Number(S>>BigInt(m)&d);y[v]=y[v].add(t[E])}let w=l;for(let E=y.length-1,S=l;E>0;E--)S=S.add(y[E]),w=w.add(S);if(p=p.add(w),m!==0)for(let E=0;E<f;E++)p=p.double()}return p}function lm(r,e){if(e){if(e.ORDER!==r)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(function(t){Yc(t,vI.reduce(((n,a)=>(n[a]="function",n)),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))})(e),e}return Rr(r)}function ww(r,e,t={}){if(!e||typeof e!="object")throw Error(`expected valid ${r} CURVE object`);for(const l of["p","n","h"]){const u=e[l];if(!(typeof u=="bigint"&&u>_c))throw Error(`CURVE.${l} must be positive bigint`)}const n=lm(e.p,t.Fp),a=lm(e.n,t.Fn),o=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const l of o)if(!n.isValid(e[l]))throw Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function um(r){r.lowS!==void 0&&co("lowS",r.lowS),r.prehash!==void 0&&co("prehash",r.prehash)}const Vi={Err:class extends Error{constructor(r=""){super(r)}},_tlv:{encode:(r,e)=>{const{Err:t}=Vi;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(1&e.length)throw new t("tlv.encode: unpadded data");const n=e.length/2,a=Gf(n);if(a.length/2&128)throw new t("tlv.encode: long form length too big");const o=n>127?Gf(a.length/2|128):"";return Gf(r)+o+a+e},decode(r,e){const{Err:t}=Vi;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const a=e[n++];let o=0;if(128&a){const u=127&a;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");const f=e.subarray(n,n+u);if(f.length!==u)throw new t("tlv.decode: length bytes not complete");if(f[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const d of f)o=o<<8|d;if(n+=u,o<128)throw new t("tlv.decode(long): not minimal encoding")}else o=a;const l=e.subarray(n,n+o);if(l.length!==o)throw new t("tlv.decode: wrong value length");return{v:l,l:e.subarray(n+o)}}},_int:{encode(r){const{Err:e}=Vi;if(r<Du)throw new e("integer: negative integers are not allowed");let t=Gf(r);if(8&Number.parseInt(t[0],16)&&(t="00"+t),1&t.length)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Vi;if(128&r[0])throw new e("invalid signature integer: negative");if(r[0]===0&&!(128&r[1]))throw new e("invalid signature integer: unnecessary leading zero");return L1(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=Vi,a=Et("signature",r),{v:o,l}=n.decode(48,a);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:f}=n.decode(2,o),{v:d,l:y}=n.decode(2,f);if(y.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(d)}},hexFromSig(r){const{_tlv:e,_int:t}=Vi,n=e.encode(2,t.encode(r.r))+e.encode(2,t.encode(r.s));return e.encode(48,n)}},Du=BigInt(0),Iu=BigInt(1),KI=BigInt(2),Vf=BigInt(3),MI=BigInt(4);function Ew(r,e,t){const{BYTES:n}=r;return function(a){let o;if(typeof a=="bigint")o=a;else{let l=Et("private key",a);if(e){if(!e.includes(2*l.length))throw Error("invalid private key");const u=new Uint8Array(n);u.set(l,u.length-l.length),l=u}try{o=r.fromBytes(l)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof a}`)}}if(t&&(o=r.create(o)),!r.isValidNot0(o))throw Error("invalid private key: out of range [1..N-1]");return o}}function LI(r,e={}){const{Fp:t,Fn:n}=ww("weierstrass",r,e),{h:a,n:o}=r;Yc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!t.is0(r.a)||typeof l.beta!="bigint"||typeof l.splitScalar!="function"))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!t.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}const f=e.toBytes||function(K,I,U){const{x:R,y:L}=I.toAffine(),Q=t.toBytes(R);return co("isCompressed",U),U?(u(),fi(vw(!t.isOdd(L)),Q)):fi(Uint8Array.of(4),Q,t.toBytes(L))},d=e.fromBytes||function(K){Dr(K);const I=t.BYTES,U=I+1,R=2*I+1,L=K.length,Q=K[0],F=K.subarray(1);if(L!==U||Q!==2&&Q!==3){if(L===R&&Q===4){const G=t.fromBytes(F.subarray(0*I,1*I)),Z=t.fromBytes(F.subarray(1*I,2*I));if(!p(G,Z))throw Error("bad point: is not on curve");return{x:G,y:Z}}throw Error(`bad point: got length ${L}, expected compressed=${U} or uncompressed=${R}`)}{const G=t.fromBytes(F);if(!t.isValid(G))throw Error("bad point: is not on curve, wrong x");const Z=y(G);let H;try{H=t.sqrt(Z)}catch(O){const j=O instanceof Error?": "+O.message:"";throw Error("bad point: is not on curve, sqrt error"+j)}return u(),!(1&~Q)!==t.isOdd(H)&&(H=t.neg(H)),{x:G,y:H}}},y=(function(K,I,U){return function(R){const L=K.sqr(R),Q=K.mul(L,R);return K.add(K.add(Q,K.mul(R,I)),U)}})(t,r.a,r.b);function p(K,I){const U=t.sqr(I),R=y(K);return t.eql(U,R)}if(!p(r.Gx,r.Gy))throw Error("bad curve params: generator point");const m=t.mul(t.pow(r.a,Vf),MI),w=t.mul(t.sqr(r.b),BigInt(27));if(t.is0(t.add(m,w)))throw Error("bad curve params: a or b");function E(K,I,U=!1){if(!t.isValid(I)||U&&t.is0(I))throw Error("bad point coordinate "+K);return I}function S(K){if(!(K instanceof C))throw Error("ProjectivePoint expected")}const v=Q1(((K,I)=>{const{px:U,py:R,pz:L}=K;if(t.eql(L,t.ONE))return{x:U,y:R};const Q=K.is0();I==null&&(I=Q?t.ONE:t.inv(L));const F=t.mul(U,I),G=t.mul(R,I),Z=t.mul(L,I);if(Q)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Z,t.ONE))throw Error("invZ was invalid");return{x:F,y:G}})),k=Q1((K=>{if(K.is0()){if(e.allowInfinityPoint&&!t.is0(K.py))return;throw Error("bad point: ZERO")}const{x:I,y:U}=K.toAffine();if(!t.isValid(I)||!t.isValid(U))throw Error("bad point: x or y not field elements");if(!p(I,U))throw Error("bad point: equation left != right");if(!K.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0}));function D(K,I,U,R,L){return U=new C(t.mul(U.px,K),U.py,U.pz),I=Uu(R,I),U=Uu(L,U),I.add(U)}class C{constructor(I,U,R){this.px=E("x",I),this.py=E("y",U,!0),this.pz=E("z",R),Object.freeze(this)}static fromAffine(I){const{x:U,y:R}=I||{};if(!I||!t.isValid(U)||!t.isValid(R))throw Error("invalid affine point");if(I instanceof C)throw Error("projective point not allowed");return t.is0(U)&&t.is0(R)?C.ZERO:new C(U,R,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return pw(C,"pz",I)}static fromBytes(I){return Dr(I),C.fromHex(I)}static fromHex(I){const U=C.fromAffine(d(Et("pointHex",I)));return U.assertValidity(),U}static fromPrivateKey(I){const U=Ew(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return C.BASE.multiply(U(I))}static msm(I,U){return Aw(C,n,I,U)}precompute(I=8,U=!0){return M.setWindowSize(this,I),U||this.multiply(Vf),this}_setWindowSize(I){this.precompute(I)}assertValidity(){k(this)}hasEvenY(){const{y:I}=this.toAffine();if(!t.isOdd)throw Error("Field doesn't support isOdd");return!t.isOdd(I)}equals(I){S(I);const{px:U,py:R,pz:L}=this,{px:Q,py:F,pz:G}=I,Z=t.eql(t.mul(U,G),t.mul(Q,L)),H=t.eql(t.mul(R,G),t.mul(F,L));return Z&&H}negate(){return new C(this.px,t.neg(this.py),this.pz)}double(){const{a:I,b:U}=r,R=t.mul(U,Vf),{px:L,py:Q,pz:F}=this;let G=t.ZERO,Z=t.ZERO,H=t.ZERO,O=t.mul(L,L),j=t.mul(Q,Q),ee=t.mul(F,F),ne=t.mul(L,Q);return ne=t.add(ne,ne),H=t.mul(L,F),H=t.add(H,H),G=t.mul(I,H),Z=t.mul(R,ee),Z=t.add(G,Z),G=t.sub(j,Z),Z=t.add(j,Z),Z=t.mul(G,Z),G=t.mul(ne,G),H=t.mul(R,H),ee=t.mul(I,ee),ne=t.sub(O,ee),ne=t.mul(I,ne),ne=t.add(ne,H),H=t.add(O,O),O=t.add(H,O),O=t.add(O,ee),O=t.mul(O,ne),Z=t.add(Z,O),ee=t.mul(Q,F),ee=t.add(ee,ee),O=t.mul(ee,ne),G=t.sub(G,O),H=t.mul(ee,j),H=t.add(H,H),H=t.add(H,H),new C(G,Z,H)}add(I){S(I);const{px:U,py:R,pz:L}=this,{px:Q,py:F,pz:G}=I;let Z=t.ZERO,H=t.ZERO,O=t.ZERO;const j=r.a,ee=t.mul(r.b,Vf);let ne=t.mul(U,Q),P=t.mul(R,F),_=t.mul(L,G),q=t.add(U,R),W=t.add(Q,F);q=t.mul(q,W),W=t.add(ne,P),q=t.sub(q,W),W=t.add(U,L);let X=t.add(Q,G);return W=t.mul(W,X),X=t.add(ne,_),W=t.sub(W,X),X=t.add(R,L),Z=t.add(F,G),X=t.mul(X,Z),Z=t.add(P,_),X=t.sub(X,Z),O=t.mul(j,W),Z=t.mul(ee,_),O=t.add(Z,O),Z=t.sub(P,O),O=t.add(P,O),H=t.mul(Z,O),P=t.add(ne,ne),P=t.add(P,ne),_=t.mul(j,_),W=t.mul(ee,W),P=t.add(P,_),_=t.sub(ne,_),_=t.mul(j,_),W=t.add(W,_),ne=t.mul(P,W),H=t.add(H,ne),ne=t.mul(X,W),Z=t.mul(q,Z),Z=t.sub(Z,ne),ne=t.mul(q,P),O=t.mul(X,O),O=t.add(O,ne),new C(Z,H,O)}subtract(I){return this.add(I.negate())}is0(){return this.equals(C.ZERO)}multiply(I){const{endo:U}=e;if(!n.isValidNot0(I))throw Error("invalid scalar: out of range");let R,L;const Q=F=>M.wNAFCached(this,F,C.normalizeZ);if(U){const{k1neg:F,k1:G,k2neg:Z,k2:H}=U.splitScalar(I),{p:O,f:j}=Q(G),{p:ee,f:ne}=Q(H);L=j.add(ne),R=D(U.beta,O,ee,F,Z)}else{const{p:F,f:G}=Q(I);R=F,L=G}return C.normalizeZ([R,L])[0]}multiplyUnsafe(I){const{endo:U}=e,R=this;if(!n.isValid(I))throw Error("invalid scalar: out of range");if(I===Du||R.is0())return C.ZERO;if(I===Iu)return R;if(M.hasPrecomputes(this))return this.multiply(I);if(U){const{k1neg:L,k1:Q,k2neg:F,k2:G}=U.splitScalar(I),{p1:Z,p2:H}=(function(O,j,ee,ne){let P=j,_=O.ZERO,q=O.ZERO;for(;ee>_c||ne>_c;)ee&Ys&&(_=_.add(P)),ne&Ys&&(q=q.add(P)),P=P.double(),ee>>=Ys,ne>>=Ys;return{p1:_,p2:q}})(C,R,Q,G);return D(U.beta,Z,H,L,F)}return M.wNAFCachedUnsafe(R,I)}multiplyAndAddUnsafe(I,U,R){const L=this.multiplyUnsafe(U).add(I.multiplyUnsafe(R));return L.is0()?void 0:L}toAffine(I){return v(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return a===Iu||(I?I(C,this):M.wNAFCachedUnsafe(this,o).is0())}clearCofactor(){const{clearCofactor:I}=e;return a===Iu?this:I?I(C,this):this.multiplyUnsafe(a)}toBytes(I=!0){return co("isCompressed",I),this.assertValidity(),f(C,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return Fc(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(r.Gx,r.Gy,t.ONE),C.ZERO=new C(t.ZERO,t.ONE,t.ZERO),C.Fp=t,C.Fn=n;const N=n.BITS,M=bw(C,e.endo?Math.ceil(N/2):N);return C}function vw(r){return Uint8Array.of(r?2:3)}function QI(r,e,t={}){Yc(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||I3,a=e.hmac||((K,...I)=>yw(e.hash,K,fi(...I))),{Fp:o,Fn:l}=r,{ORDER:u,BITS:f}=l;function d(K){return K>u>>Iu}function y(K,I){if(!l.isValidNot0(I))throw Error(`invalid signature ${K}: out of range 1..CURVE.n`)}class p{constructor(I,U,R){y("r",I),y("s",U),this.r=I,this.s=U,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(I){const U=l.BYTES,R=Et("compactSignature",I,2*U);return new p(l.fromBytes(R.subarray(0,U)),l.fromBytes(R.subarray(U,2*U)))}static fromDER(I){const{r:U,s:R}=Vi.toSig(Et("DER",I));return new p(U,R)}assertValidity(){}addRecoveryBit(I){return new p(this.r,this.s,I)}recoverPublicKey(I){const U=o.ORDER,{r:R,s:L,recovery:Q}=this;if(Q==null||![0,1,2,3].includes(Q))throw Error("recovery id invalid");if(u*KI<U&&Q>1)throw Error("recovery id is ambiguous for h>1 curve");const F=Q===2||Q===3?R+u:R;if(!o.isValid(F))throw Error("recovery id 2 or 3 invalid");const G=o.toBytes(F),Z=r.fromHex(fi(vw(!(1&Q)),G)),H=l.inv(F),O=v(Et("msgHash",I)),j=l.create(-O*H),ee=l.create(L*H),ne=r.BASE.multiplyUnsafe(j).add(Z.multiplyUnsafe(ee));if(ne.is0())throw Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,l.neg(this.s),this.recovery):this}toBytes(I){if(I==="compact")return fi(l.toBytes(this.r),l.toBytes(this.s));if(I==="der")return U3(Vi.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Fc(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Fc(this.toBytes("compact"))}}const m=Ew(l,t.allowedPrivateKeyLengths,t.wrapPrivateKey),w={isValidPrivateKey(K){try{return m(K),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const K=u;return(function(I,U,R=!1){const L=I.length,Q=iw(U),F=rm(U);if(L<16||L<F||L>1024)throw Error("expected "+F+"-1024 bytes of input, got "+L);const G=zt(R?lo(I):L1(I),U-kn)+kn;return R?o0(G,Q):T3(G,Q)})(n(rm(K)),K)},precompute:(K=8,I=r.BASE)=>I.precompute(K,!1)};function E(K){if(typeof K=="bigint")return!1;if(K instanceof r)return!0;const I=Et("key",K).length,U=o.BYTES,R=U+1,L=2*U+1;return t.allowedPrivateKeyLengths||l.BYTES===R?void 0:I===R||I===L}const S=e.bits2int||function(K){if(K.length>8192)throw Error("input is too large");const I=L1(K),U=8*K.length-f;return U>0?I>>BigInt(U):I},v=e.bits2int_modN||function(K){return l.create(S(K))},k=vh(f);function D(K){return ns("num < 2^"+f,K,Du,k),l.toBytes(K)}function C(K,I,U=N){if(["recovered","canonical"].some((ee=>ee in U)))throw Error("sign() legacy options not supported");const{hash:R}=e;let{lowS:L,prehash:Q,extraEntropy:F}=U;L==null&&(L=!0),K=Et("msgHash",K),um(U),Q&&(K=Et("prehashed msgHash",R(K)));const G=v(K),Z=m(I),H=[D(Z),D(G)];if(F!=null&&F!==!1){const ee=F===!0?n(o.BYTES):F;H.push(Et("extraEntropy",ee))}const O=fi(...H),j=G;return{seed:O,k2sig:function(ee){const ne=S(ee);if(!l.isValidNot0(ne))return;const P=l.inv(ne),_=r.BASE.multiply(ne).toAffine(),q=l.create(_.x);if(q===Du)return;const W=l.create(P*l.create(j+q*Z));if(W===Du)return;let X=(_.x===q?0:2)|Number(_.y&Iu),ce=W;return L&&d(W)&&(ce=(function(le){return d(le)?l.neg(le):le})(W),X^=1),new p(q,ce,X)}}}const N={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};return r.BASE.precompute(8),Object.freeze({getPublicKey:function(K,I=!0){return r.fromPrivateKey(K).toBytes(I)},getSharedSecret:function(K,I,U=!0){if(E(K)===!0)throw Error("first arg must be private key");if(E(I)===!1)throw Error("second arg must be public key");return r.fromHex(I).multiply(m(K)).toBytes(U)},sign:function(K,I,U=N){const{seed:R,k2sig:L}=C(K,I,U);return(function(F,G,Z){if(typeof F!="number"||F<2)throw Error("hashLen must be a number");if(typeof G!="number"||G<2)throw Error("qByteLen must be a number");if(typeof Z!="function")throw Error("hmacFn must be a function");const H=X=>new Uint8Array(X),O=X=>Uint8Array.of(X);let j=H(F),ee=H(F),ne=0;const P=()=>{j.fill(1),ee.fill(0),ne=0},_=(...X)=>Z(ee,j,...X),q=(X=H(0))=>{ee=_(O(0),X),j=_(),X.length!==0&&(ee=_(O(1),X),j=_())},W=()=>{if(ne++>=1e3)throw Error("drbg: tried 1000 values");let X=0;const ce=[];for(;X<G;){j=_();const le=j.slice();ce.push(le),X+=j.length}return fi(...ce)};return(X,ce)=>{let le;for(P(),q(X);!(le=ce(W()));)q();return P(),le}})(e.hash.outputLen,l.BYTES,a)(R,L)},verify:function(K,I,U,R=M){const L=K;I=Et("msgHash",I),U=Et("publicKey",U),um(R);const{lowS:Q,prehash:F,format:G}=R;if("strict"in R)throw Error("options.strict was renamed to lowS");if(G!==void 0&&!["compact","der","js"].includes(G))throw Error('format must be "compact", "der" or "js"');const Z=typeof L=="string"||C3(L),H=!Z&&!G&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!Z&&!H)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,j;try{if(H){if(G!==void 0&&G!=="js")throw Error("invalid format");O=new p(L.r,L.s)}if(Z){try{G!=="compact"&&(O=p.fromDER(L))}catch(ce){if(!(ce instanceof Vi.Err))throw ce}O||G==="der"||(O=p.fromCompact(L))}j=r.fromHex(U)}catch{return!1}if(!O||Q&&O.hasHighS())return!1;F&&(I=e.hash(I));const{r:ee,s:ne}=O,P=v(I),_=l.inv(ne),q=l.create(P*_),W=l.create(ee*_),X=r.BASE.multiplyUnsafe(q).add(j.multiplyUnsafe(W));return!X.is0()&&l.create(X.x)===ee},utils:w,Point:r,Signature:p})}function HI(r){const{CURVE:e,curveOpts:t}=(function(n){const a={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy};return{CURVE:a,curveOpts:{Fp:n.Fp,Fn:Rr(a.n,n.nBitLength),allowedPrivateKeyLengths:n.allowedPrivateKeyLengths,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,wrapPrivateKey:n.wrapPrivateKey,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes}}})(r);return{CURVE:e,curveOpts:t,ecdsaOpts:{hash:r.hash,hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN}}}function zI(r){const{CURVE:e,curveOpts:t,ecdsaOpts:n}=HI(r);return(function(a,o){return Object.assign({},o,{ProjectivePoint:o.Point,CURVE:a})})(r,QI(LI(e,t),n,t))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yo(r,e){const t=n=>zI({...r,hash:n});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sw={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},kw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},xw={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},GI=Rr(Sw.p),FI=Rr(kw.p),_I=Rr(xw.p),jI=yo({...Sw,Fp:GI,lowS:!1},N3),VI=yo({...kw,Fp:FI,lowS:!1},hw),qI=yo({...xw,Fp:_I,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},fw),YI=BigInt(0),su=BigInt(1),ZI=BigInt(2),JI=BigInt(7),XI=BigInt(256),WI=BigInt(113),Bw=[],Cw=[],Uw=[];for(let r=0,e=su,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Bw.push(2*(5*n+t)),Cw.push((r+1)*(r+2)/2%64);let a=YI;for(let o=0;o<7;o++)e=(e<<su^(e>>JI)*WI)%XI,e&ZI&&(a^=su<<(su<<BigInt(o))-su);Uw.push(a)}const Dw=ow(Uw,!0),$I=Dw[0],eR=Dw[1],fm=(r,e,t)=>t>32?((n,a,o)=>a<<o-32|n>>>64-o)(r,e,t):((n,a,o)=>n<<o|a>>>32-o)(r,e,t),hm=(r,e,t)=>t>32?((n,a,o)=>n<<o-32|a>>>64-o)(r,e,t):((n,a,o)=>a<<o|n>>>32-o)(r,e,t);class Sh extends D3{constructor(e,t,n,a=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=o,qu(n),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");var l;this.state=new Uint8Array(200),this.state32=(l=this.state,new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Z9(this.state32),(function(e,t=24){const n=new Uint32Array(10);for(let a=24-t;a<24;a++){for(let u=0;u<10;u++)n[u]=e[u]^e[u+10]^e[u+20]^e[u+30]^e[u+40];for(let u=0;u<10;u+=2){const f=(u+8)%10,d=(u+2)%10,y=n[d],p=n[d+1],m=fm(y,p,1)^n[f],w=hm(y,p,1)^n[f+1];for(let E=0;E<50;E+=10)e[u+E]^=m,e[u+E+1]^=w}let o=e[2],l=e[3];for(let u=0;u<24;u++){const f=Cw[u],d=fm(o,l,f),y=hm(o,l,f),p=Bw[u];o=e[p],l=e[p+1],e[p]=d,e[p+1]=y}for(let u=0;u<50;u+=10){for(let f=0;f<10;f++)n[f]=e[u+f];for(let f=0;f<10;f++)e[u+f]^=~n[(f+2)%10]&n[(f+4)%10]}e[0]^=$I[a],e[1]^=eR[a]}Ir(n)})(this.state32,this.rounds),Z9(this.state32),this.posOut=0,this.pos=0}update(e){Gc(this),Dr(e=s0(e));const{blockLen:t,state:n}=this,a=e.length;for(let o=0;o<a;){const l=Math.min(t-this.pos,a-o);for(let u=0;u<l;u++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:a}=this;e[n]^=t,128&t&&n===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){Gc(this,!1),Dr(e),this.finish();const t=this.state,{blockLen:n}=this;for(let a=0,o=e.length;a<o;){this.posOut>=n&&this.keccak();const l=Math.min(n-this.posOut,o-a);e.set(t.subarray(this.posOut,this.posOut+l),a),this.posOut+=l,a+=l}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(JA(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ir(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:a,rounds:o,enableXOF:l}=this;return e||(e=new Sh(t,n,a,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=a,e.enableXOF=l,e.destroyed=this.destroyed,e}}const Iw=(r,e,t)=>ua((()=>new Sh(e,r,t))),tR=Iw(6,136,32),nR=Iw(6,72,64),rR=(r,e,t)=>(function(n){const a=(l,u)=>n(u).update(s0(l)).digest(),o=n({});return a.outputLen=o.outputLen,a.blockLen=o.blockLen,a.create=l=>n(l),a})(((n={})=>new Sh(e,r,n.dkLen===void 0?t:n.dkLen,!0))),iR=rR(31,136,32),ti=BigInt(0),vn=BigInt(1),D6=BigInt(2),aR=BigInt(8),sR={zip215:!0};function Rw(r,e={}){const{Fp:t,Fn:n}=ww("edwards",r,e),{h:a,n:o}=r;Yc(e,{},{uvRatio:"function"});const l=D6<<BigInt(8*n.BYTES)-vn,u=S=>t.create(S),f=e.uvRatio||((S,v)=>{try{return{isValid:!0,value:t.sqrt(t.div(S,v))}}catch{return{isValid:!1,value:ti}}});if(!(function(S,v,k,D){const C=S.sqr(k),N=S.sqr(D),M=S.add(S.mul(v.a,C),N),K=S.add(S.ONE,S.mul(v.d,S.mul(C,N)));return S.eql(M,K)})(t,r,r.Gx,r.Gy))throw Error("bad curve params: generator point");function d(S,v,k=!1){return ns("coordinate "+S,v,k?vn:ti,l),v}function y(S){if(!(S instanceof w))throw Error("ExtendedPoint expected")}const p=Q1(((S,v)=>{const{ex:k,ey:D,ez:C}=S,N=S.is0();v==null&&(v=N?aR:t.inv(C));const M=u(k*v),K=u(D*v),I=u(C*v);if(N)return{x:ti,y:vn};if(I!==vn)throw Error("invZ was invalid");return{x:M,y:K}})),m=Q1((S=>{const{a:v,d:k}=r;if(S.is0())throw Error("bad point: ZERO");const{ex:D,ey:C,ez:N,et:M}=S,K=u(D*D),I=u(C*C),U=u(N*N),R=u(U*U),L=u(K*v);if(u(U*u(L+I))!==u(R+u(k*u(K*I))))throw Error("bad point: equation left != right (1)");if(u(D*C)!==u(N*M))throw Error("bad point: equation left != right (2)");return!0}));class w{constructor(v,k,D,C){this.ex=d("x",v),this.ey=d("y",k),this.ez=d("z",D,!0),this.et=d("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof w)throw Error("extended point not allowed");const{x:k,y:D}=v||{};return d("x",k),d("y",D),new w(k,D,vn,u(k*D))}static normalizeZ(v){return pw(w,"ez",v)}static msm(v,k){return Aw(w,n,v,k)}_setWindowSize(v){this.precompute(v)}precompute(v=8,k=!0){return E.setWindowSize(this,v),k||this.multiply(D6),this}assertValidity(){m(this)}equals(v){y(v);const{ex:k,ey:D,ez:C}=this,{ex:N,ey:M,ez:K}=v,I=u(k*K),U=u(N*C),R=u(D*K),L=u(M*C);return I===U&&R===L}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:v}=r,{ex:k,ey:D,ez:C}=this,N=u(k*k),M=u(D*D),K=u(D6*u(C*C)),I=u(v*N),U=k+D,R=u(u(U*U)-N-M),L=I+M,Q=L-K,F=I-M,G=u(R*Q),Z=u(L*F),H=u(R*F),O=u(Q*L);return new w(G,Z,O,H)}add(v){y(v);const{a:k,d:D}=r,{ex:C,ey:N,ez:M,et:K}=this,{ex:I,ey:U,ez:R,et:L}=v,Q=u(C*I),F=u(N*U),G=u(K*D*L),Z=u(M*R),H=u((C+N)*(I+U)-Q-F),O=Z-G,j=Z+G,ee=u(F-k*Q),ne=u(H*O),P=u(j*ee),_=u(H*ee),q=u(O*j);return new w(ne,P,q,_)}subtract(v){return this.add(v.negate())}multiply(v){const k=v;ns("scalar",k,vn,o);const{p:D,f:C}=E.wNAFCached(this,k,w.normalizeZ);return w.normalizeZ([D,C])[0]}multiplyUnsafe(v,k=w.ZERO){const D=v;return ns("scalar",D,ti,o),D===ti?w.ZERO:this.is0()||D===vn?this:E.wNAFCachedUnsafe(this,D,w.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return E.wNAFCachedUnsafe(this,o).is0()}toAffine(v){return p(this,v)}clearCofactor(){return a===vn?this:this.multiplyUnsafe(a)}static fromBytes(v,k=!1){return Dr(v),this.fromHex(v,k)}static fromHex(v,k=!1){const{d:D,a:C}=r,N=t.BYTES;v=Et("pointHex",v,N),co("zip215",k);const M=v.slice(),K=v[N-1];M[N-1]=-129&K;const I=lo(M),U=k?l:t.ORDER;ns("pointHex.y",I,ti,U);const R=u(I*I),L=u(R-vn),Q=u(D*R-C);let{isValid:F,value:G}=f(L,Q);if(!F)throw Error("Point.fromHex: invalid y coordinate");const Z=(G&vn)===vn,H=!!(128&K);if(!k&&G===ti&&H)throw Error("Point.fromHex: x=0 and x_0=1");return H!==Z&&(G=u(-G)),w.fromAffine({x:G,y:I})}static fromPrivateScalar(v){return w.BASE.multiply(v)}toBytes(){const{x:v,y:k}=this.toAffine(),D=o0(k,t.BYTES);return D[D.length-1]|=v&vn?128:0,D}toRawBytes(){return this.toBytes()}toHex(){return Fc(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(r.Gx,r.Gy,vn,u(r.Gx*r.Gy)),w.ZERO=new w(ti,vn,vn,ti),w.Fp=t,w.Fn=n;const E=bw(w,8*n.BYTES);return w}function oR(r,e){Yc(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:t,hash:n}=e,{BASE:a,Fp:o,Fn:l}=r,u=l.ORDER,f=e.randomBytes||I3,d=e.adjustScalarBytes||(v=>v),y=e.domain||((v,k,D)=>{if(co("phflag",D),k.length||D)throw Error("Contexts/pre-hash are not supported");return v});function p(v){return l.create(v)}function m(v){return p(lo(v))}function w(v){const{head:k,prefix:D,scalar:C}=(function(K){const I=o.BYTES;K=Et("private key",K,I);const U=Et("hashed private key",n(K),2*I),R=d(U.slice(0,I));return{head:R,prefix:U.slice(I,2*I),scalar:m(R)}})(v),N=a.multiply(C),M=N.toBytes();return{head:k,prefix:D,scalar:C,point:N,pointBytes:M}}function E(v=Uint8Array.of(),...k){const D=fi(...k);return m(n(y(D,Et("context",v),!!t)))}const S=sR;return a.precompute(8),{getPublicKey:function(v){return w(v).pointBytes},sign:function(v,k,D={}){v=Et("message",v),t&&(v=t(v));const{prefix:C,scalar:N,pointBytes:M}=w(k),K=E(D.context,C,v),I=a.multiply(K).toBytes(),U=p(K+E(D.context,I,M,v)*N);ns("signature.s",U,ti,u);const R=o.BYTES;return Et("result",fi(I,o0(U,R)),2*R)},verify:function(v,k,D,C=S){const{context:N,zip215:M}=C,K=o.BYTES;v=Et("signature",v,2*K),k=Et("message",k),D=Et("publicKey",D,K),M!==void 0&&co("zip215",M),t&&(k=t(k));const I=lo(v.slice(K,2*K));let U,R,L;try{U=r.fromHex(D,M),R=r.fromHex(v.slice(0,K),M),L=a.multiplyUnsafe(I)}catch{return!1}if(!M&&U.isSmallOrder())return!1;const Q=E(N,R.toBytes(),U.toBytes(),k);return R.add(U.multiplyUnsafe(Q)).subtract(L).clearCofactor().is0()},utils:{getExtendedPublicKey:w,randomPrivateKey:()=>f(o.BYTES),precompute:(v=8,k=r.BASE)=>k.precompute(v,!1)},Point:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ou=BigInt(0),uc=BigInt(1),qf=BigInt(2);function cR(r){const e=(Yc(t=r,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t}));var t;const{P:n,type:a,adjustScalarBytes:o,powPminus2:l,randomBytes:u}=e,f=a==="x25519";if(!f&&a!=="x448")throw Error("invalid type");const d=u||I3,y=f?255:448,p=f?32:56,m=BigInt(f?9:5),w=BigInt(f?121665:39081),E=f?qf**BigInt(254):qf**BigInt(447),S=f?BigInt(8)*qf**BigInt(251)-uc:BigInt(4)*qf**BigInt(445)-uc,v=E+S+uc,k=I=>zt(I,n),D=C(m);function C(I){return o0(k(I),p)}function N(I,U){const R=(function(L,Q){ns("u",L,ou,n),ns("scalar",Q,E,v);const F=Q,G=L;let Z=uc,H=ou,O=L,j=uc,ee=ou;for(let P=BigInt(y-1);P>=ou;P--){const _=F>>P&uc;ee^=_,{x_2:Z,x_3:O}=K(ee,Z,O),{x_2:H,x_3:j}=K(ee,H,j),ee=_;const q=Z+H,W=k(q*q),X=Z-H,ce=k(X*X),le=W-ce,ve=O+j,ye=k((O-j)*q),Be=k(ve*X),Ie=ye+Be,Me=ye-Be;O=k(Ie*Ie),j=k(G*k(Me*Me)),Z=k(W*ce),H=k(le*(W+k(w*le)))}({x_2:Z,x_3:O}=K(ee,Z,O)),{x_2:H,x_3:j}=K(ee,H,j);const ne=l(H);return k(Z*ne)})((function(L){const Q=Et("u coordinate",L,p);return f&&(Q[31]&=127),k(lo(Q))})(U),(function(L){return lo(o(Et("scalar",L,p)))})(I));if(R===ou)throw Error("invalid private or public key received");return C(R)}function M(I){return N(I,D)}function K(I,U,R){const L=k(I*(U-R));return{x_2:U=k(U-L),x_3:R=k(R+L)}}return{scalarMult:N,scalarMultBase:M,getSharedSecret:(I,U)=>N(I,U),getPublicKey:I=>M(I),utils:{randomPrivateKey:()=>d(p)},GuBytes:D.slice()}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zc={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x3fffffffffffffffffffffffffffffffffffffffffffffffffffffff7cca23e9c44edb49aed63690216cc2728dc58f552378c292ab5844f3"),h:BigInt(4),a:BigInt(1),d:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffff6756"),Gx:BigInt("0x4f1970c66bed0ded221d15a622bf36da9e146570470f1767ea6de324a3d3a46412ae1af72ab66511433b80e18b00938e2626a82bc70cc05e"),Gy:BigInt("0x693f46716eb6bc248876203756c9c7624bea73736ca3984087789c1e05a0c2d73ad3ff1ce67c39c4fdbd132c4ed7c8ad9808795bf230fa14")};Rw(Object.assign({},Zc,{d:BigInt("0xd78b4bdc7f0daf19f24f38c29373a2ccad46157242a50f37809b1da3412a12e79ccc9c81264cfe9ad080997058fb61c4243cc32dbaa156b9"),Gx:BigInt("0x79a70b2b70400553ae7c9df416c792c61128751ac92969240c25a07d728bdc93e21f7787ed6972249de732f38496cd11698713093e9c04fc"),Gy:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffff80000000000000000000000000000000000000000000000000000001")}));const lR=ua((()=>iR.create({dkLen:114}))),uR=BigInt(1),N2=BigInt(2),dm=BigInt(3);BigInt(4);const fR=BigInt(11),hR=BigInt(22),ym=BigInt(44),dR=BigInt(88),yR=BigInt(223);function Tw(r){const e=Zc.p,t=r*r*r%e,n=t*t*r%e,a=bt(n,dm,e)*n%e,o=bt(a,dm,e)*n%e,l=bt(o,N2,e)*t%e,u=bt(l,fR,e)*l%e,f=bt(u,hR,e)*u%e,d=bt(f,ym,e)*f%e,y=bt(d,dR,e)*d%e,p=bt(y,ym,e)*f%e,m=bt(p,N2,e)*t%e,w=bt(m,uR,e)*r%e;return bt(w,yR,e)*m%e}function Nw(r){return r[0]&=252,r[55]|=128,r[56]=0,r}function pR(r,e){const t=Zc.p,n=zt(r*r*e,t),a=zt(n*r,t),o=zt(a*n*e,t),l=zt(a*Tw(o),t),u=zt(l*l,t);return{isValid:zt(u*e,t)===r,value:l}}const gR=Rr(Zc.p,456,!0),mR=(function(r){const{CURVE:e,curveOpts:t,eddsaOpts:n}=(function(a){const o={a:a.a,d:a.d,p:a.Fp.ORDER,n:a.n,h:a.h,Gx:a.Gx,Gy:a.Gy};return{CURVE:o,curveOpts:{Fp:a.Fp,Fn:Rr(o.n,a.nBitLength,!0),uvRatio:a.uvRatio},eddsaOpts:{hash:a.hash,randomBytes:a.randomBytes,adjustScalarBytes:a.adjustScalarBytes,domain:a.domain,prehash:a.prehash,mapToCurve:a.mapToCurve}}})(r);return(function(a,o){return Object.assign({},o,{ExtendedPoint:o.Point,CURVE:a})})(r,oR(Rw(e,t),n))})({...Zc,Fp:gR,nBitLength:456,hash:lR,adjustScalarBytes:Nw,domain:(r,e,t)=>{if(e.length>255)throw Error("context must be smaller than 255, got: "+e.length);return fi(WA("SigEd448"),new Uint8Array([t?1:0,e.length]),e,r)},uvRatio:pR}),bR=(()=>{const r=Zc.p;return cR({P:r,type:"x448",powPminus2:e=>zt(bt(Tw(e),N2,r)*e,r),adjustScalarBytes:Nw})})(),H1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const AR=BigInt(1),O2=BigInt(2),pm=(r,e)=>(r+e/O2)/e,P2=Rr(H1.p,void 0,void 0,{sqrt:function(r){const e=H1.p,t=BigInt(3),n=BigInt(6),a=BigInt(11),o=BigInt(22),l=BigInt(23),u=BigInt(44),f=BigInt(88),d=r*r*r%e,y=d*d*r%e,p=bt(y,t,e)*y%e,m=bt(p,t,e)*y%e,w=bt(m,O2,e)*d%e,E=bt(w,a,e)*w%e,S=bt(E,o,e)*E%e,v=bt(S,u,e)*S%e,k=bt(v,f,e)*v%e,D=bt(k,u,e)*S%e,C=bt(D,t,e)*y%e,N=bt(C,l,e)*E%e,M=bt(N,n,e)*d%e,K=bt(M,O2,e);if(!P2.eql(P2.sqr(K),r))throw Error("Cannot find square root");return K}}),wR=yo({...H1,Fp:P2,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=H1.n,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-AR*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,l=BigInt("0x100000000000000000000000000000000"),u=pm(o*r,e),f=pm(-n*r,e);let d=zt(r-u*t-f*a,e),y=zt(-u*n-f*o,e);const p=d>l,m=y>l;if(p&&(d=e-d),m&&(y=e-y),d>l||y>l)throw Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:d,k2neg:m,k2:y}}}},N3),Ow=N3,ER=PI,gm=Rr(BigInt("0xa9fb57dba1eea9bc3e660a909d838d726e3bf623d52620282013481d1f6e5377")),vR=yo({a:gm.create(BigInt("0x7d5a0975fc2c3057eef67530417affe7fb8055c126dc5c6ce94a4b44f330b5d9")),b:BigInt("0x26dc5c6ce94a4b44f330b5d9bbd77cbf958416295cf7e1ce6bccdc18ff8c07b6"),Fp:gm,n:BigInt("0xa9fb57dba1eea9bc3e660a909d838d718c397aa3b561a6f7901e0e82974856a7"),Gx:BigInt("0x8bd2aeb9cb7e57cb2c4b482ffc81b7afb9de27e1e3bd23c23a4453bd9ace3262"),Gy:BigInt("0x547ef835c3dac4fd97f8461a14611dc9c27745132ded8e545c1d54c72f046997"),h:BigInt(1),lowS:!1},Ow),Pw=fw,Kw=hw,mm=Rr(BigInt("0x8cb91e82a3386d280f5d6f7e50e641df152f7109ed5456b412b1da197fb71123acd3a729901d1a71874700133107ec53")),SR=yo({a:mm.create(BigInt("0x7bc382c63d8c150c3c72080ace05afa0c2bea28e4fb22787139165efba91f90f8aa5814a503ad4eb04a8c7dd22ce2826")),b:BigInt("0x04a8c7dd22ce28268b39b55416f0447c2fb77de107dcd2a62e880ea53eeb62d57cb4390295dbc9943ab78696fa504c11"),Fp:mm,n:BigInt("0x8cb91e82a3386d280f5d6f7e50e641df152f7109ed5456b31f166e6cac0425a7cf3ab6af6b7fc3103b883202e9046565"),Gx:BigInt("0x1d1c64f068cf45ffa2a63a81b7c13f6b8847a3e77ef14fe3db7fcafe0cbd10e8e826e03436d646aaef87b2e247d4af1e"),Gy:BigInt("0x8abe1d7520f9c2a45cb1eb8e95cfd55262b70b29feec5864e19c054ff99129280e4646217791811142820341263c5315"),h:BigInt(1),lowS:!1},Kw),bm=Rr(BigInt("0xaadd9db8dbe9c48b3fd4e6ae33c9fc07cb308db3b3c9d20ed6639cca703308717d4d9b009bc66842aecda12ae6a380e62881ff2f2d82c68528aa6056583a48f3")),kR=yo({a:bm.create(BigInt("0x7830a3318b603b89e2327145ac234cc594cbdd8d3df91610a83441caea9863bc2ded5d5aa8253aa10a2ef1c98b9ac8b57f1117a72bf2c7b9e7c1ac4d77fc94ca")),b:BigInt("0x3df91610a83441caea9863bc2ded5d5aa8253aa10a2ef1c98b9ac8b57f1117a72bf2c7b9e7c1ac4d77fc94cadc083e67984050b75ebae5dd2809bd638016f723"),Fp:bm,n:BigInt("0xaadd9db8dbe9c48b3fd4e6ae33c9fc07cb308db3b3c9d20ed6639cca70330870553e5c414ca92619418661197fac10471db1d381085ddaddb58796829ca90069"),Gx:BigInt("0x81aee4bdd82ed9645a21322e9c4c6a9385ed9f70b5d916c1b43b62eef4d0098eff3b1f78e2d0d48d50d1687b93b97d5f7c6d5047406a5e688b352209bcb9f822"),Gy:BigInt("0x7dde385d566332ecc0eabfa9cf7822fdf209f70024a57b1aa000c55b881f8111b2dcde494a5f485e5bca4bd88a2763aed1ca2b2fa8f0540678cd1e0f3ad80892"),h:BigInt(1),lowS:!1},Pw),xR=new Map(Object.entries({nistP256:jI,nistP384:VI,nistP521:qI,brainpoolP256r1:vR,brainpoolP384r1:SR,brainpoolP512r1:kR,secp256k1:wR,x448:bR,ed448:mR}));var BR=Object.freeze({__proto__:null,nobleCurves:xR});const cu=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),ja=new Uint32Array(80);class CR extends c0{constructor(){super(64,20,8,!1),this.A=0|cu[0],this.B=0|cu[1],this.C=0|cu[2],this.D=0|cu[3],this.E=0|cu[4]}get(){const{A:e,B:t,C:n,D:a,E:o}=this;return[e,t,n,a,o]}set(e,t,n,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|o}process(e,t){for(let f=0;f<16;f++,t+=4)ja[f]=e.getUint32(t,!1);for(let f=16;f<80;f++)ja[f]=ts(ja[f-3]^ja[f-8]^ja[f-14]^ja[f-16],1);let{A:n,B:a,C:o,D:l,E:u}=this;for(let f=0;f<80;f++){let d,y;f<20?(d=aw(a,o,l),y=1518500249):f<40?(d=a^o^l,y=1859775393):f<60?(d=sw(a,o,l),y=2400959708):(d=a^o^l,y=3395469782);const p=ts(n,5)+d+u+y+ja[f]|0;u=l,l=o,o=ts(a,30),a=n,n=p}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,this.set(n,a,o,l,u)}roundClean(){Ir(ja)}destroy(){this.set(0,0,0,0,0),Ir(this.buffer)}}const UR=ua((()=>new CR)),DR=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Mw=Uint8Array.from(Array(16).fill(0).map(((r,e)=>e))),IR=Mw.map((r=>(9*r+5)%16)),Lw=(()=>{const r=[[Mw],[IR]];for(let e=0;e<4;e++)for(let t of r)t.push(t[e].map((n=>DR[n])));return r})(),Qw=Lw[0],Hw=Lw[1],zw=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((r=>Uint8Array.from(r))),RR=Qw.map(((r,e)=>r.map((t=>zw[e][t])))),TR=Hw.map(((r,e)=>r.map((t=>zw[e][t])))),NR=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),OR=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Am(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const Yf=new Uint32Array(16);class PR extends c0{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:a,h4:o}=this;return[e,t,n,a,o]}set(e,t,n,a,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|a,this.h4=0|o}process(e,t){for(let w=0;w<16;w++,t+=4)Yf[w]=e.getUint32(t,!0);let n=0|this.h0,a=n,o=0|this.h1,l=o,u=0|this.h2,f=u,d=0|this.h3,y=d,p=0|this.h4,m=p;for(let w=0;w<5;w++){const E=4-w,S=NR[w],v=OR[w],k=Qw[w],D=Hw[w],C=RR[w],N=TR[w];for(let M=0;M<16;M++){const K=ts(n+Am(w,o,u,d)+Yf[k[M]]+S,C[M])+p|0;n=p,p=d,d=0|ts(u,10),u=o,o=K}for(let M=0;M<16;M++){const K=ts(a+Am(E,l,f,y)+Yf[D[M]]+v,N[M])+m|0;a=m,m=y,y=0|ts(f,10),f=l,l=K}}this.set(this.h1+u+y|0,this.h2+d+m|0,this.h3+p+a|0,this.h4+n+l|0,this.h0+o+f|0)}roundClean(){Ir(Yf)}destroy(){this.destroyed=!0,Ir(this.buffer),this.set(0,0,0,0,0)}}const KR=UR,MR=ua((()=>new PR)),LR=Array.from({length:64},((r,e)=>Math.floor(2**32*Math.abs(Math.sin(e+1))))),wm=(r,e,t)=>r&e^~r&t,Zf=new Uint32Array([1732584193,4023233417,2562383102,271733878]),I6=new Uint32Array(16);class QR extends c0{constructor(){super(64,16,8,!0),this.A=0|Zf[0],this.B=0|Zf[1],this.C=0|Zf[2],this.D=0|Zf[3]}get(){const{A:e,B:t,C:n,D:a}=this;return[e,t,n,a]}set(e,t,n,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)I6[u]=e.getUint32(t,!0);let{A:n,B:a,C:o,D:l}=this;for(let u=0;u<64;u++){let f,d,y;u<16?(f=wm(a,o,l),d=u,y=[7,12,17,22]):u<32?(f=wm(l,a,o),d=(5*u+1)%16,y=[5,9,14,20]):u<48?(f=a^o^l,d=(3*u+5)%16,y=[4,11,16,23]):(f=o^(a|~l),d=7*u%16,y=[6,10,15,21]),f=f+n+LR[u]+I6[d],n=l,l=o,o=a,a+=ts(f,y[u%4])}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,l=l+this.D|0,this.set(n,a,o,l)}roundClean(){I6.fill(0)}destroy(){this.set(0,0,0,0),this.buffer.fill(0)}}const HR=new Map(Object.entries({md5:bI((()=>new QR)),sha1:KR,sha224:ER,sha256:Ow,sha384:Kw,sha512:Pw,sha3_256:tR,sha3_512:nR,ripemd160:MR}));var zR=Object.freeze({__proto__:null,nobleHashes:HR});function R6(r,e,t,n,a,o){const l=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],f=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],d=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],y=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],p=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],m=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],w=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let E,S,v,k,D,C,N,M,K,I,U=0,R=e.length;const L=r.length===32?3:9;M=L===3?t?[0,32,2]:[30,-2,-2]:t?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],t&&(e=(function(G){const Z=8-G.length%8;let H;if(!(Z<8)){if(Z===8)return G;throw Error("des: invalid padding")}H=0;const O=new Uint8Array(G.length+Z);for(let j=0;j<G.length;j++)O[j]=G[j];for(let j=0;j<Z;j++)O[G.length+j]=H;return O})(e),R=e.length);let Q=new Uint8Array(R),F=0;for(;U<R;){for(C=e[U++]<<24|e[U++]<<16|e[U++]<<8|e[U++],N=e[U++]<<24|e[U++]<<16|e[U++]<<8|e[U++],v=252645135&(C>>>4^N),N^=v,C^=v<<4,v=65535&(C>>>16^N),N^=v,C^=v<<16,v=858993459&(N>>>2^C),C^=v,N^=v<<2,v=16711935&(N>>>8^C),C^=v,N^=v<<8,v=1431655765&(C>>>1^N),N^=v,C^=v<<1,C=C<<1|C>>>31,N=N<<1|N>>>31,S=0;S<L;S+=3){for(K=M[S+1],I=M[S+2],E=M[S];E!==K;E+=I)k=N^r[E],D=(N>>>4|N<<28)^r[E+1],v=C,C=N,N=v^(u[k>>>24&63]|d[k>>>16&63]|p[k>>>8&63]|w[63&k]|l[D>>>24&63]|f[D>>>16&63]|y[D>>>8&63]|m[63&D]);v=C,C=N,N=v}C=C>>>1|C<<31,N=N>>>1|N<<31,v=1431655765&(C>>>1^N),N^=v,C^=v<<1,v=16711935&(N>>>8^C),C^=v,N^=v<<8,v=858993459&(N>>>2^C),C^=v,N^=v<<2,v=65535&(C>>>16^N),N^=v,C^=v<<16,v=252645135&(C>>>4^N),N^=v,C^=v<<4,Q[F++]=C>>>24,Q[F++]=C>>>16&255,Q[F++]=C>>>8&255,Q[F++]=255&C,Q[F++]=N>>>24,Q[F++]=N>>>16&255,Q[F++]=N>>>8&255,Q[F++]=255&N}return t||(Q=(function(G){let Z,H=null;if(Z=0,!H){for(H=1;G[G.length-H]===Z;)H++;H--}return G.subarray(0,G.length-H)})(Q)),Q}function T6(r){const e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],t=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],m=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],w=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],E=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],S=r.length>8?3:1,v=Array(32*S),k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let D,C,N,M=0,K=0;for(let I=0;I<S;I++){let U=r[M++]<<24|r[M++]<<16|r[M++]<<8|r[M++],R=r[M++]<<24|r[M++]<<16|r[M++]<<8|r[M++];N=252645135&(U>>>4^R),R^=N,U^=N<<4,N=65535&(R>>>-16^U),U^=N,R^=N<<-16,N=858993459&(U>>>2^R),R^=N,U^=N<<2,N=65535&(R>>>-16^U),U^=N,R^=N<<-16,N=1431655765&(U>>>1^R),R^=N,U^=N<<1,N=16711935&(R>>>8^U),U^=N,R^=N<<8,N=1431655765&(U>>>1^R),R^=N,U^=N<<1,N=U<<8|R>>>20&240,U=R<<24|R<<8&16711680|R>>>8&65280|R>>>24&240,R=N;for(let L=0;L<16;L++)k[L]?(U=U<<2|U>>>26,R=R<<2|R>>>26):(U=U<<1|U>>>27,R=R<<1|R>>>27),U&=-15,R&=-15,D=e[U>>>28]|t[U>>>24&15]|n[U>>>20&15]|a[U>>>16&15]|o[U>>>12&15]|l[U>>>8&15]|u[U>>>4&15],C=f[R>>>28]|d[R>>>24&15]|y[R>>>20&15]|p[R>>>16&15]|m[R>>>12&15]|w[R>>>8&15]|E[R>>>4&15],N=65535&(C>>>16^D),v[K++]=D^N,v[K++]=C^N<<16}return v}function Eu(r){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(r.subarray(8*e,8*e+8)));this.encrypt=function(e){return R6(T6(this.key[2]),R6(T6(this.key[1]),R6(T6(this.key[0]),e,!0),!1),!0)}}function GR(){this.BlockSize=8,this.KeySize=16,this.setKey=function(l){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),l.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(l),!0},this.reset=function(){for(let l=0;l<16;l++)this.masking[l]=0,this.rotate[l]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(l){const u=Array(l.length);for(let f=0;f<l.length;f+=8){let d,y=l[f]<<24|l[f+1]<<16|l[f+2]<<8|l[f+3],p=l[f+4]<<24|l[f+5]<<16|l[f+6]<<8|l[f+7];d=p,p=y^t(p,this.masking[0],this.rotate[0]),y=d,d=p,p=y^n(p,this.masking[1],this.rotate[1]),y=d,d=p,p=y^a(p,this.masking[2],this.rotate[2]),y=d,d=p,p=y^t(p,this.masking[3],this.rotate[3]),y=d,d=p,p=y^n(p,this.masking[4],this.rotate[4]),y=d,d=p,p=y^a(p,this.masking[5],this.rotate[5]),y=d,d=p,p=y^t(p,this.masking[6],this.rotate[6]),y=d,d=p,p=y^n(p,this.masking[7],this.rotate[7]),y=d,d=p,p=y^a(p,this.masking[8],this.rotate[8]),y=d,d=p,p=y^t(p,this.masking[9],this.rotate[9]),y=d,d=p,p=y^n(p,this.masking[10],this.rotate[10]),y=d,d=p,p=y^a(p,this.masking[11],this.rotate[11]),y=d,d=p,p=y^t(p,this.masking[12],this.rotate[12]),y=d,d=p,p=y^n(p,this.masking[13],this.rotate[13]),y=d,d=p,p=y^a(p,this.masking[14],this.rotate[14]),y=d,d=p,p=y^t(p,this.masking[15],this.rotate[15]),y=d,u[f]=p>>>24&255,u[f+1]=p>>>16&255,u[f+2]=p>>>8&255,u[f+3]=255&p,u[f+4]=y>>>24&255,u[f+5]=y>>>16&255,u[f+6]=y>>>8&255,u[f+7]=255&y}return u},this.decrypt=function(l){const u=Array(l.length);for(let f=0;f<l.length;f+=8){let d,y=l[f]<<24|l[f+1]<<16|l[f+2]<<8|l[f+3],p=l[f+4]<<24|l[f+5]<<16|l[f+6]<<8|l[f+7];d=p,p=y^t(p,this.masking[15],this.rotate[15]),y=d,d=p,p=y^a(p,this.masking[14],this.rotate[14]),y=d,d=p,p=y^n(p,this.masking[13],this.rotate[13]),y=d,d=p,p=y^t(p,this.masking[12],this.rotate[12]),y=d,d=p,p=y^a(p,this.masking[11],this.rotate[11]),y=d,d=p,p=y^n(p,this.masking[10],this.rotate[10]),y=d,d=p,p=y^t(p,this.masking[9],this.rotate[9]),y=d,d=p,p=y^a(p,this.masking[8],this.rotate[8]),y=d,d=p,p=y^n(p,this.masking[7],this.rotate[7]),y=d,d=p,p=y^t(p,this.masking[6],this.rotate[6]),y=d,d=p,p=y^a(p,this.masking[5],this.rotate[5]),y=d,d=p,p=y^n(p,this.masking[4],this.rotate[4]),y=d,d=p,p=y^t(p,this.masking[3],this.rotate[3]),y=d,d=p,p=y^a(p,this.masking[2],this.rotate[2]),y=d,d=p,p=y^n(p,this.masking[1],this.rotate[1]),y=d,d=p,p=y^t(p,this.masking[0],this.rotate[0]),y=d,u[f]=p>>>24&255,u[f+1]=p>>>16&255,u[f+2]=p>>>8&255,u[f+3]=255&p,u[f+4]=y>>>24&255,u[f+5]=y>>16&255,u[f+6]=y>>8&255,u[f+7]=255&y}return u};const r=[,,,,];r[0]=[,,,,],r[0][0]=[4,0,13,15,12,14,8],r[0][1]=[5,2,16,18,17,19,10],r[0][2]=[6,3,23,22,21,20,9],r[0][3]=[7,1,26,25,27,24,11],r[1]=[,,,,],r[1][0]=[0,6,21,23,20,22,16],r[1][1]=[1,4,0,2,1,3,18],r[1][2]=[2,5,7,6,5,4,17],r[1][3]=[3,7,10,9,11,8,19],r[2]=[,,,,],r[2][0]=[4,0,13,15,12,14,8],r[2][1]=[5,2,16,18,17,19,10],r[2][2]=[6,3,23,22,21,20,9],r[2][3]=[7,1,26,25,27,24,11],r[3]=[,,,,],r[3][0]=[0,6,21,23,20,22,16],r[3][1]=[1,4,0,2,1,3,18],r[3][2]=[2,5,7,6,5,4,17],r[3][3]=[3,7,10,9,11,8,19];const e=[,,,,];function t(l,u,f){const d=u+l,y=d<<f|d>>>32-f;return(o[0][y>>>24]^o[1][y>>>16&255])-o[2][y>>>8&255]+o[3][255&y]}function n(l,u,f){const d=u^l,y=d<<f|d>>>32-f;return o[0][y>>>24]-o[1][y>>>16&255]+o[2][y>>>8&255]^o[3][255&y]}function a(l,u,f){const d=u-l,y=d<<f|d>>>32-f;return(o[0][y>>>24]+o[1][y>>>16&255]^o[2][y>>>8&255])-o[3][255&y]}e[0]=[,,,,],e[0][0]=[24,25,23,22,18],e[0][1]=[26,27,21,20,22],e[0][2]=[28,29,19,18,25],e[0][3]=[30,31,17,16,28],e[1]=[,,,,],e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=[,,,,],e[2][0]=[19,18,28,29,25],e[2][1]=[17,16,30,31,28],e[2][2]=[23,22,24,25,18],e[2][3]=[21,20,26,27,22],e[3]=[,,,,],e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(l){const u=[,,,,,,,,],f=Array(32);let d;for(let w=0;w<4;w++)d=4*w,u[w]=l[d]<<24|l[d+1]<<16|l[d+2]<<8|l[d+3];const y=[6,7,4,5];let p,m=0;for(let w=0;w<2;w++)for(let E=0;E<4;E++){for(d=0;d<4;d++){const S=r[E][d];p=u[S[1]],p^=o[4][u[S[2]>>>2]>>>24-8*(3&S[2])&255],p^=o[5][u[S[3]>>>2]>>>24-8*(3&S[3])&255],p^=o[6][u[S[4]>>>2]>>>24-8*(3&S[4])&255],p^=o[7][u[S[5]>>>2]>>>24-8*(3&S[5])&255],p^=o[y[d]][u[S[6]>>>2]>>>24-8*(3&S[6])&255],u[S[0]]=p}for(d=0;d<4;d++){const S=e[E][d];p=o[4][u[S[0]>>>2]>>>24-8*(3&S[0])&255],p^=o[5][u[S[1]>>>2]>>>24-8*(3&S[1])&255],p^=o[6][u[S[2]>>>2]>>>24-8*(3&S[2])&255],p^=o[7][u[S[3]>>>2]>>>24-8*(3&S[3])&255],p^=o[4+d][u[S[4]>>>2]>>>24-8*(3&S[4])&255],f[m]=p,m++}}for(let w=0;w<16;w++)this.masking[w]=f[w],this.rotate[w]=31&f[16+w]};const o=[,,,,,,,,];o[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],o[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],o[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],o[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],o[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],o[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],o[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],o[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function vu(r){this.cast5=new GR,this.cast5.setKey(r),this.encrypt=function(e){return this.cast5.encrypt(e)}}Eu.keySize=Eu.prototype.keySize=24,Eu.blockSize=Eu.prototype.blockSize=8,vu.blockSize=vu.prototype.blockSize=8,vu.keySize=vu.prototype.keySize=16;const wr=4294967295;function $r(r,e){return(r<<e|r>>>32-e)&wr}function Hi(r,e){return r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24}function Va(r,e,t){r.splice(e,4,255&t,t>>>8&255,t>>>16&255,t>>>24&255)}function De(r,e){return r>>>8*e&255}function Su(r){this.tf=(function(){let e=null,t=null,n=-1,a=[],o=[[],[],[],[]];function l(y){return o[0][De(y,0)]^o[1][De(y,1)]^o[2][De(y,2)]^o[3][De(y,3)]}function u(y){return o[0][De(y,3)]^o[1][De(y,0)]^o[2][De(y,1)]^o[3][De(y,2)]}function f(y,p){let m=l(p[0]),w=u(p[1]);p[2]=$r(p[2]^m+w+a[4*y+8]&wr,31),p[3]=$r(p[3],1)^m+2*w+a[4*y+9]&wr,m=l(p[2]),w=u(p[3]),p[0]=$r(p[0]^m+w+a[4*y+10]&wr,31),p[1]=$r(p[1],1)^m+2*w+a[4*y+11]&wr}function d(y,p){let m=l(p[0]),w=u(p[1]);p[2]=$r(p[2],1)^m+w+a[4*y+10]&wr,p[3]=$r(p[3]^m+2*w+a[4*y+11]&wr,31),m=l(p[2]),w=u(p[3]),p[0]=$r(p[0],1)^m+w+a[4*y+8]&wr,p[1]=$r(p[1]^m+2*w+a[4*y+9]&wr,31)}return{name:"twofish",blocksize:16,open:function(y){let p,m,w,E,S;e=y;const v=[],k=[],D=[];let C;const N=[];let M,K,I;const U=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],R=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],L=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],Q=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],F=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],G=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],Z=[[],[]],H=[[],[],[],[]];function O(_){return _^_>>2^[0,90,180,238][3&_]}function j(_){return _^_>>1^_>>2^[0,238,180,90][3&_]}function ee(_,q){let W,X,ce;for(W=0;W<8;W++)X=q>>>24,q=q<<8&wr|_>>>24,_=_<<8&wr,ce=X<<1,128&X&&(ce^=333),q^=X^ce<<16,ce^=X>>>1,1&X&&(ce^=166),q^=ce<<24|ce<<8;return q}function ne(_,q){const W=q>>4,X=15&q,ce=U[_][W^X],le=R[_][F[X]^G[W]];return Q[_][F[le]^G[ce]]<<4|L[_][ce^le]}function P(_,q){let W=De(_,0),X=De(_,1),ce=De(_,2),le=De(_,3);switch(C){case 4:W=Z[1][W]^De(q[3],0),X=Z[0][X]^De(q[3],1),ce=Z[0][ce]^De(q[3],2),le=Z[1][le]^De(q[3],3);case 3:W=Z[1][W]^De(q[2],0),X=Z[1][X]^De(q[2],1),ce=Z[0][ce]^De(q[2],2),le=Z[0][le]^De(q[2],3);case 2:W=Z[0][Z[0][W]^De(q[1],0)]^De(q[0],0),X=Z[0][Z[1][X]^De(q[1],1)]^De(q[0],1),ce=Z[1][Z[0][ce]^De(q[1],2)]^De(q[0],2),le=Z[1][Z[1][le]^De(q[1],3)]^De(q[0],3)}return H[0][W]^H[1][X]^H[2][ce]^H[3][le]}for(e=e.slice(0,32),p=e.length;p!==16&&p!==24&&p!==32;)e[p++]=0;for(p=0;p<e.length;p+=4)D[p>>2]=Hi(e,p);for(p=0;p<256;p++)Z[0][p]=ne(0,p),Z[1][p]=ne(1,p);for(p=0;p<256;p++)M=Z[1][p],K=O(M),I=j(M),H[0][p]=M+(K<<8)+(I<<16)+(I<<24),H[2][p]=K+(I<<8)+(M<<16)+(I<<24),M=Z[0][p],K=O(M),I=j(M),H[1][p]=I+(I<<8)+(K<<16)+(M<<24),H[3][p]=K+(M<<8)+(I<<16)+(K<<24);for(C=D.length/2,p=0;p<C;p++)m=D[p+p],v[p]=m,w=D[p+p+1],k[p]=w,N[C-p-1]=ee(m,w);for(p=0;p<40;p+=2)m=16843009*p,w=m+16843009,m=P(m,v),w=$r(P(w,k),8),a[p]=m+w&wr,a[p+1]=$r(m+2*w,9);for(p=0;p<256;p++)switch(m=w=E=S=p,C){case 4:m=Z[1][m]^De(N[3],0),w=Z[0][w]^De(N[3],1),E=Z[0][E]^De(N[3],2),S=Z[1][S]^De(N[3],3);case 3:m=Z[1][m]^De(N[2],0),w=Z[1][w]^De(N[2],1),E=Z[0][E]^De(N[2],2),S=Z[0][S]^De(N[2],3);case 2:o[0][p]=H[0][Z[0][Z[0][m]^De(N[1],0)]^De(N[0],0)],o[1][p]=H[1][Z[0][Z[1][w]^De(N[1],1)]^De(N[0],1)],o[2][p]=H[2][Z[1][Z[0][E]^De(N[1],2)]^De(N[0],2)],o[3][p]=H[3][Z[1][Z[1][S]^De(N[1],3)]^De(N[0],3)]}},close:function(){a=[],o=[[],[],[],[]]},encrypt:function(y,p){t=y,n=p;const m=[Hi(t,n)^a[0],Hi(t,n+4)^a[1],Hi(t,n+8)^a[2],Hi(t,n+12)^a[3]];for(let w=0;w<8;w++)f(w,m);return Va(t,n,m[2]^a[4]),Va(t,n+4,m[3]^a[5]),Va(t,n+8,m[0]^a[6]),Va(t,n+12,m[1]^a[7]),n+=16,t},decrypt:function(y,p){t=y,n=p;const m=[Hi(t,n)^a[4],Hi(t,n+4)^a[5],Hi(t,n+8)^a[6],Hi(t,n+12)^a[7]];for(let w=7;w>=0;w--)d(w,m);Va(t,n,m[2]^a[0]),Va(t,n+4,m[3]^a[1]),Va(t,n+8,m[0]^a[2]),Va(t,n+12,m[1]^a[3]),n+=16},finalize:function(){return t}}})(),this.tf.open(Array.from(r),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Kr(){}function ku(r){this.bf=new Kr,this.bf.init(r),this.encrypt=function(e){return this.bf.encryptBlock(e)}}Su.keySize=Su.prototype.keySize=32,Su.blockSize=Su.prototype.blockSize=16,Kr.prototype.BLOCKSIZE=8,Kr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Kr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Kr.prototype.NN=16,Kr.prototype._clean=function(r){return r<0&&(r=(2147483647&r)+2147483648),r},Kr.prototype._F=function(r){let e;const t=255&r,n=255&(r>>>=8),a=255&(r>>>=8),o=255&(r>>>=8);return e=this.sboxes[0][o]+this.sboxes[1][a],e^=this.sboxes[2][n],e+=this.sboxes[3][t],e},Kr.prototype._encryptBlock=function(r){let e,t=r[0],n=r[1];for(e=0;e<this.NN;++e){t^=this.parray[e],n=this._F(t)^n;const a=t;t=n,n=a}t^=this.parray[this.NN+0],n^=this.parray[this.NN+1],r[0]=this._clean(n),r[1]=this._clean(t)},Kr.prototype.encryptBlock=function(r){let e;const t=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)t[0]=t[0]<<8|255&r[e+0],t[1]=t[1]<<8|255&r[e+n];this._encryptBlock(t);const a=[];for(e=0;e<this.BLOCKSIZE/2;++e)a[e+0]=t[0]>>>24-8*e&255,a[e+n]=t[1]>>>24-8*e&255;return a},Kr.prototype._decryptBlock=function(r){let e,t=r[0],n=r[1];for(e=this.NN+1;e>1;--e){t^=this.parray[e],n=this._F(t)^n;const a=t;t=n,n=a}t^=this.parray[1],n^=this.parray[0],r[0]=this._clean(n),r[1]=this._clean(t)},Kr.prototype.init=function(r){let e,t=0;for(this.parray=[],e=0;e<this.NN+2;++e){let a=0;for(let o=0;o<4;++o)a=a<<8|255&r[t],++t>=r.length&&(t=0);this.parray[e]=this.PARRAY[e]^a}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],t=0;t<256;++t)this.sboxes[e][t]=this.SBOXES[e][t];const n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encryptBlock(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(t=0;t<256;t+=2)this._encryptBlock(n),this.sboxes[e][t+0]=n[0],this.sboxes[e][t+1]=n[1]},ku.keySize=ku.prototype.keySize=16,ku.blockSize=ku.prototype.blockSize=8;const FR=new Map(Object.entries({tripledes:Eu,cast5:vu,twofish:Su,blowfish:ku}));var _R=Object.freeze({__proto__:null,legacyCiphers:FR});function fc(r,e,t,n){r[e]+=t[n],r[e+1]+=t[n+1]+(r[e]<t[n])}function Em(r,e){r[0]+=e,r[1]+=r[0]<e}function qa(r,e,t,n,a,o,l,u){fc(r,t,r,n),fc(r,t,e,l);let f=r[o]^r[t],d=r[o+1]^r[t+1];r[o]=d,r[o+1]=f,fc(r,a,r,o),f=r[n]^r[a],d=r[n+1]^r[a+1],r[n]=f>>>24^d<<8,r[n+1]=d>>>24^f<<8,fc(r,t,r,n),fc(r,t,e,u),f=r[o]^r[t],d=r[o+1]^r[t+1],r[o]=f>>>16^d<<16,r[o+1]=d>>>16^f<<16,fc(r,a,r,o),f=r[n]^r[a],d=r[n+1]^r[a+1],r[n]=d>>>31^f<<1,r[n+1]=f>>>31^d<<1}const Gw=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),bn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((r=>2*r)));function vm(r,e){const t=new Uint32Array(32),n=new Uint32Array(r.b.buffer,r.b.byteOffset,32);for(let o=0;o<16;o++)t[o]=r.h[o],t[o+16]=Gw[o];t[24]^=r.t0[0],t[25]^=r.t0[1];const a=e?4294967295:0;t[28]^=a,t[29]^=a;for(let o=0;o<12;o++){const l=o<<4;qa(t,n,0,8,16,24,bn[l+0],bn[l+1]),qa(t,n,2,10,18,26,bn[l+2],bn[l+3]),qa(t,n,4,12,20,28,bn[l+4],bn[l+5]),qa(t,n,6,14,22,30,bn[l+6],bn[l+7]),qa(t,n,0,10,20,30,bn[l+8],bn[l+9]),qa(t,n,2,12,22,24,bn[l+10],bn[l+11]),qa(t,n,4,14,16,26,bn[l+12],bn[l+13]),qa(t,n,6,8,18,28,bn[l+14],bn[l+15])}for(let o=0;o<16;o++)r.h[o]^=t[o]^t[o+16]}class jR{constructor(e,t,n,a){const o=new Uint8Array(64);this.S={b:new Uint8Array(lu),h:new Uint32Array(K2/4),t0:new Uint32Array(2),c:0,outlen:e},o[0]=e,t&&(o[1]=t.length),o[2]=1,o[3]=1,n&&o.set(n,32),a&&o.set(a,48);const l=new Uint32Array(o.buffer,o.byteOffset,o.length/Uint32Array.BYTES_PER_ELEMENT);for(let u=0;u<16;u++)this.S.h[u]=Gw[u]^l[u];if(t){const u=new Uint8Array(lu);u.set(t),this.update(u)}}update(e){if(!(e instanceof Uint8Array))throw Error("Input must be Uint8Array or Buffer");let t=0;for(;t<e.length;){this.S.c===lu&&(Em(this.S.t0,this.S.c),vm(this.S,!1),this.S.c=0);let n=lu-this.S.c;this.S.b.set(e.subarray(t,t+n),this.S.c);const a=Math.min(n,e.length-t);this.S.c+=a,t+=a}return this}digest(e){Em(this.S.t0,this.S.c),this.S.b.fill(0,this.S.c),this.S.c=lu,vm(this.S,!0);const t=e||new Uint8Array(this.S.outlen);for(let n=0;n<this.S.outlen;n++)t[n]=this.S.h[n>>2]>>8*(3&n);return this.S.h=null,t.buffer}}function u1(r,e,t,n){if(r>K2)throw Error(`outlen must be at most ${K2} (given: ${r})`);return new jR(r,e,t,n)}const K2=64,lu=128,zi=1024,VR=new Uint8Array(new Uint16Array([43981]).buffer)[0]===205;function Pn(r,e,t){return r[t+0]=e,r[t+1]=e>>8,r[t+2]=e>>16,r[t+3]=e>>24,r}function Ms(r,e,t){if(e>Number.MAX_SAFE_INTEGER)throw Error("LE64: large numbers unsupported");let n=e;for(let a=t;a<t+7;a++)r[a]=n,n=(n-r[a])/256;return r}function N6(r,e,t){const n=new Uint8Array(64),a=new Uint8Array(4+e.length);if(Pn(a,r,0),a.set(e,4),r<=64)return u1(r).update(a).digest(t),t;const o=Math.ceil(r/32)-2;for(let u=0;u<o;u++)u1(64).update(u===0?a:n).digest(n),t.set(n.subarray(0,32),32*u);const l=new Uint8Array(u1(r-32*o).update(n).digest());return t.set(l,32*o),t}function Sm(r,e,t,n){return r.fn.XOR(e.byteOffset,t.byteOffset,n.byteOffset),e}function qR(r,e,t,n){return r.fn.G(e.byteOffset,t.byteOffset,n.byteOffset,r.refs.gZ.byteOffset),n}function YR(r,e,t,n){return r.fn.G2(e.byteOffset,t.byteOffset,n.byteOffset,r.refs.gZ.byteOffset),n}function*ZR(r,e,t,n,a,o,l,u){r.refs.prngTmp.fill(0);const f=r.refs.prngTmp.subarray(0,48);Ms(f,e,0),Ms(f,t,8),Ms(f,n,16),Ms(f,a,24),Ms(f,o,32),Ms(f,2,40);for(let d=1;d<=l;d++){Ms(r.refs.prngTmp,d,f.length);const y=YR(r,r.refs.ZERO1024,r.refs.prngTmp,r.refs.prngR);for(let p=d===1?8*u:0;p<y.length;p+=8)yield y.subarray(p,p+8)}return[]}function JR(r,{memory:e,instance:t}){if(!VR)throw Error("BigEndian system not supported");const n=(function({type:R,version:L,tagLength:Q,password:F,salt:G,ad:Z,secret:H,parallelism:O,memorySize:j,passes:ee}){const ne=(P,_,q,W)=>{if(_<q||_>W)throw Error(`${P} size should be between ${q} and ${W} bytes`)};if(R!==2||L!==19)throw Error("Unsupported type or version");return ne("password",F,8,4294967295),ne("salt",G,8,4294967295),ne("tag",Q,4,4294967295),ne("memory",j,8*O,4294967295),Z&&ne("associated data",Z,0,4294967295),H&&ne("secret",H,0,32),{type:R,version:L,tagLength:Q,password:F,salt:G,ad:Z,secret:H,lanes:O,memorySize:j,passes:ee}})({type:2,version:19,...r}),{G:a,G2:o,xor:l,getLZ:u}=t.exports,f={},d={};d.G=a,d.G2=o,d.XOR=l;const y=4*n.lanes*Math.floor(n.memorySize/(4*n.lanes)),p=y*zi+10240;if(e.buffer.byteLength<p){const R=Math.ceil((p-e.buffer.byteLength)/65536);e.grow(R)}let m=0;f.gZ=new Uint8Array(e.buffer,m,zi),m+=f.gZ.length,f.prngR=new Uint8Array(e.buffer,m,zi),m+=f.prngR.length,f.prngTmp=new Uint8Array(e.buffer,m,zi),m+=f.prngTmp.length,f.ZERO1024=new Uint8Array(e.buffer,m,1024),m+=f.ZERO1024.length;const w=new Uint32Array(e.buffer,m,2);m+=w.length*Uint32Array.BYTES_PER_ELEMENT;const E={fn:d,refs:f},S=new Uint8Array(e.buffer,m,zi);m+=S.length;const v=new Uint8Array(e.buffer,m,n.memorySize*zi),k=new Uint8Array(e.buffer,0,m),D=(function(R){const L=u1(64),Q=new Uint8Array(4),F=new Uint8Array(24);Pn(F,R.lanes,0),Pn(F,R.tagLength,4),Pn(F,R.memorySize,8),Pn(F,R.passes,12),Pn(F,R.version,16),Pn(F,R.type,20);const G=[F];R.password?(G.push(Pn(new Uint8Array(4),R.password.length,0)),G.push(R.password)):G.push(Q),R.salt?(G.push(Pn(new Uint8Array(4),R.salt.length,0)),G.push(R.salt)):G.push(Q),R.secret?(G.push(Pn(new Uint8Array(4),R.secret.length,0)),G.push(R.secret)):G.push(Q),R.ad?(G.push(Pn(new Uint8Array(4),R.ad.length,0)),G.push(R.ad)):G.push(Q),L.update((function(H){if(H.length===1)return H[0];let O=0;for(let ne=0;ne<H.length;ne++){if(!(H[ne]instanceof Uint8Array))throw Error("concatArrays: Data must be in the form of a Uint8Array");O+=H[ne].length}const j=new Uint8Array(O);let ee=0;return H.forEach((ne=>{j.set(ne,ee),ee+=ne.length})),j})(G));const Z=L.digest();return new Uint8Array(Z)})(n),C=y/n.lanes,N=Array(n.lanes).fill(null).map((()=>Array(C))),M=(R,L)=>(N[R][L]=v.subarray(R*C*1024+1024*L,R*C*1024+1024*L+zi),N[R][L]);for(let R=0;R<n.lanes;R++){const L=new Uint8Array(D.length+8);L.set(D),Pn(L,0,D.length),Pn(L,R,D.length+4),N6(zi,L,M(R,0)),Pn(L,1,D.length),N6(zi,L,M(R,1))}const K=C/4;for(let R=0;R<n.passes;R++)for(let L=0;L<4;L++){const Q=R===0&&L<=1;for(let F=0;F<n.lanes;F++){let G=L===0&&R===0?2:0;const Z=Q?ZR(E,R,F,L,y,n.passes,K,G):null;for(;G<K;G++){const H=L*K+G,O=H>0?N[F][H-1]:N[F][C-1],j=Q?Z.next().value:O;u(w.byteOffset,j.byteOffset,F,n.lanes,R,L,G,4,K);const ee=w[0],ne=w[1];R===0&&M(F,H),qR(E,O,N[ee][ne],R>0?S:N[F][H]),R>0&&Sm(E,N[F][H],S,N[F][H])}}}const I=N[0][C-1];for(let R=1;R<n.lanes;R++)Sm(E,I,I,N[R][C-1]);const U=N6(n.tagLength,I,new Uint8Array(n.tagLength));return k.fill(0),e.grow(0),U}let Jf;async function XR(r,e){const t=new WebAssembly.Memory({initial:1040,maximum:65536}),n=await(async function(a,o,l){const u={env:{memory:a}};if(Jf===void 0)try{const f=await o(u);return Jf=!0,f}catch{Jf=!1}return(Jf?o:l)(u)})(t,r,e);return a=>JR(a,{instance:n.instance,memory:t})}function km(r,e,t,n){var a=null,o=An.atob(t),l=o.length;a=new Uint8Array(new ArrayBuffer(l));for(var u=0;u<l;u++)a[u]=o.charCodeAt(u);return(function(f,d,y){var p=WebAssembly.instantiate,m=WebAssembly.compile;return d?p(f,d):m(f)})(a,n)}var xm,Bm,Cm,Um,Dm,Im,Rm,Tm,WR=Object.freeze({__proto__:null,default:async()=>XR((r=>km(0,0,"AGFzbQEAAAABKwdgBH9/f38AYAABf2AAAGADf39/AGAJf39/f39/f39/AX9gAX8AYAF/AX8CEwEDZW52Bm1lbW9yeQIBkAiAgAQDCgkCAwAABAEFBgEEBQFwAQICBgkBfwFBkIjAAgsHfQoDeG9yAAEBRwACAkcyAAMFZ2V0TFoABBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALX2luaXRpYWxpemUAABBfX2Vycm5vX2xvY2F0aW9uAAgJc3RhY2tTYXZlAAUMc3RhY2tSZXN0b3JlAAYKc3RhY2tBbGxvYwAHCQcBAEEBCwEACs0gCQMAAQtYAQJ/A0AgACAEQQR0IgNqIAIgA2r9AAQAIAEgA2r9AAQA/VH9CwQAIAAgA0EQciIDaiACIANq/QAEACABIANq/QAEAP1R/QsEACAEQQJqIgRBwABHDQALC7ceAgt7A38DQCADIBFBBHQiD2ogASAPav0ABAAgACAPav0ABAD9USIF/QsEACACIA9qIAX9CwQAIAMgD0EQciIPaiABIA9q/QAEACAAIA9q/QAEAP1RIgX9CwQAIAIgD2ogBf0LBAAgEUECaiIRQcAARw0ACwNAIAMgEEEHdGoiAEEQaiAA/QAEcCAA/QAEMCIFIAD9AAQQIgT9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAQgBP0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9USIJQSD9ywEgCUEg/c0B/VAiCSAA/QAEUCIG/c4BIAkgCf0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIGIAX9USIFQSj9ywEgBUEY/c0B/VAiCCAE/c4BIAggCP0NAAECAwgJCgsAAQIDCAkKCyAEIAT9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIKIAogCf1RIgVBMP3LASAFQRD9zQH9UCIFIAb9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgkgCP1RIgRBAf3LASAEQT/9zQH9UCIMIAD9AARgIAD9AAQgIgQgAP0ABAAiBv3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBv1RIghBIP3LASAIQSD9zQH9UCIIIABBQGsiAf0ABAAiB/3OASAIIAj9DQABAgMICQoLAAECAwgJCgsgByAH/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiByAE/VEiBEEo/csBIARBGP3NAf1QIgsgBv3OASALIAv9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAI/VEiBEEw/csBIARBEP3NAf1QIgQgB/3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgByAH/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCCAL/VEiB0EB/csBIAdBP/3NAf1QIg0gDf0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eHyIH/c4BIAcgB/0NAAECAwgJCgsAAQIDCAkKCyAKIAr9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIKIAQgBSAF/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/VEiC0Eg/csBIAtBIP3NAf1QIgsgCP3OASALIAv9DQABAgMICQoLAAECAwgJCgsgCCAI/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCCAH/VEiB0Eo/csBIAdBGP3NAf1QIgcgCv3OASAHIAf9DQABAgMICQoLAAECAwgJCgsgCiAK/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiDv0LBAAgACAGIA0gDCAM/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4fIgr9zgEgCiAK/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgYgBSAEIAT9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9USIFQSD9ywEgBUEg/c0B/VAiBSAJ/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAJIAn9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJIAr9USIEQSj9ywEgBEEY/c0B/VAiCiAG/c4BIAogCv0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIE/QsEACAAIAQgBf1RIgVBMP3LASAFQRD9zQH9UCIFIA4gC/1RIgRBMP3LASAEQRD9zQH9UCIEIAT9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwRgIAAgBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwRwIAEgBCAI/c4BIAQgBP0NAAECAwgJCgsAAQIDCAkKCyAIIAj9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIE/QsEACAAIAUgCf3OASAFIAX9DQABAgMICQoLAAECAwgJCgsgCSAJ/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCf0LBFAgACAEIAf9USIFQQH9ywEgBUE//c0B/VAiBSAJIAr9USIEQQH9ywEgBEE//c0B/VAiBCAE/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEICAAIAQgBSAF/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEMCAQQQFqIhBBCEcNAAtBACEQA0AgAyAQQQR0aiIAQYABaiAA/QAEgAcgAP0ABIADIgUgAP0ABIABIgT9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAQgBP0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9USIJQSD9ywEgCUEg/c0B/VAiCSAA/QAEgAUiBv3OASAJIAn9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAF/VEiBUEo/csBIAVBGP3NAf1QIgggBP3OASAIIAj9DQABAgMICQoLAAECAwgJCgsgBCAE/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCiAKIAn9USIFQTD9ywEgBUEQ/c0B/VAiBSAG/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJIAj9USIEQQH9ywEgBEE//c0B/VAiDCAA/QAEgAYgAP0ABIACIgQgAP0ABAAiBv3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBv1RIghBIP3LASAIQSD9zQH9UCIIIAD9AASABCIH/c4BIAggCP0NAAECAwgJCgsAAQIDCAkKCyAHIAf9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIHIAT9USIEQSj9ywEgBEEY/c0B/VAiCyAG/c4BIAsgC/0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIGIAj9USIEQTD9ywEgBEEQ/c0B/VAiBCAH/c4BIAQgBP0NAAECAwgJCgsAAQIDCAkKCyAHIAf9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIIIAv9USIHQQH9ywEgB0E//c0B/VAiDSAN/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4fIgf9zgEgByAH/Q0AAQIDCAkKCwABAgMICQoLIAogCv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgogBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9USILQSD9ywEgC0Eg/c0B/VAiCyAI/c4BIAsgC/0NAAECAwgJCgsAAQIDCAkKCyAIIAj9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIIIAf9USIHQSj9ywEgB0EY/c0B/VAiByAK/c4BIAcgB/0NAAECAwgJCgsAAQIDCAkKCyAKIAr9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIO/QsEACAAIAYgDSAMIAz9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh8iCv3OASAKIAr9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAFIAQgBP0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/1RIgVBIP3LASAFQSD9zQH9UCIFIAn9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAkgCf0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgkgCv1RIgRBKP3LASAEQRj9zQH9UCIKIAb9zgEgCiAK/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9CwQAIAAgBCAF/VEiBUEw/csBIAVBEP3NAf1QIgUgDiAL/VEiBEEw/csBIARBEP3NAf1QIgQgBP0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/0LBIAGIAAgBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwSAByAAIAQgCP3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgCCAI/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBP0LBIAEIAAgBSAJ/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAJIAn9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJ/QsEgAUgACAEIAf9USIFQQH9ywEgBUE//c0B/VAiBSAJIAr9USIEQQH9ywEgBEE//c0B/VAiBCAE/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEgAIgACAEIAUgBf0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/0LBIADIBBBAWoiEEEIRw0AC0EAIRADQCACIBBBBHQiAGoiASAAIANq/QAEACAB/QAEAP1R/QsEACACIABBEHIiAWoiDyABIANq/QAEACAP/QAEAP1R/QsEACACIABBIHIiAWoiDyABIANq/QAEACAP/QAEAP1R/QsEACACIABBMHIiAGoiASAAIANq/QAEACAB/QAEAP1R/QsEACAQQQRqIhBBwABHDQALCxYAIAAgASACIAMQAiAAIAIgAiADEAILewIBfwF+IAIhCSABNQIAIQogBCAFcgRAIAEoAgQgA3AhCQsgACAJNgIAIAAgB0EBayAFIAQbIAhsIAZBAWtBAEF/IAYbIAIgCUYbaiIBIAVBAWogCGxBACAEG2ogAa0gCiAKfkIgiH5CIIinQX9zaiAHIAhscDYCBCAACwQAIwALBgAgACQACxAAIwAgAGtBcHEiACQAIAALBQBBgAgL",r)),(r=>km(0,0,"AGFzbQEAAAABPwhgBH9/f38AYAABf2AAAGADf39/AGARf39/f39/f39/f39/f39/f38AYAl/f39/f39/f38Bf2ABfwBgAX8BfwITAQNlbnYGbWVtb3J5AgGQCICABAMLCgIDBAAABQEGBwEEBQFwAQICBgkBfwFBkIjAAgsHfQoDeG9yAAEBRwADAkcyAAQFZ2V0TFoABRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALX2luaXRpYWxpemUAABBfX2Vycm5vX2xvY2F0aW9uAAkJc3RhY2tTYXZlAAYMc3RhY2tSZXN0b3JlAAcKc3RhY2tBbGxvYwAICQcBAEEBCwEACssaCgMAAQtQAQJ/A0AgACAEQQN0IgNqIAIgA2opAwAgASADaikDAIU3AwAgACADQQhyIgNqIAIgA2opAwAgASADaikDAIU3AwAgBEECaiIEQYABRw0ACwveDwICfgF/IAAgAUEDdGoiEyATKQMAIhEgACAFQQN0aiIBKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA1BA3RqIgUgESAFKQMAhUIgiSIRNwMAIAAgCUEDdGoiCSARIAkpAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAEgESABKQMAhUIoiSIRNwMAIBMgESATKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAFIBEgBSkDAIVCMIkiETcDACAJIBEgCSkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgASARIAEpAwCFQgGJNwMAIAAgAkEDdGoiDSANKQMAIhEgACAGQQN0aiICKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA5BA3RqIgYgESAGKQMAhUIgiSIRNwMAIAAgCkEDdGoiCiARIAopAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAIgESACKQMAhUIoiSIRNwMAIA0gESANKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAGIBEgBikDAIVCMIkiETcDACAKIBEgCikDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAiARIAIpAwCFQgGJNwMAIAAgA0EDdGoiDiAOKQMAIhEgACAHQQN0aiIDKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA9BA3RqIgcgESAHKQMAhUIgiSIRNwMAIAAgC0EDdGoiCyARIAspAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAMgESADKQMAhUIoiSIRNwMAIA4gESAOKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAHIBEgBykDAIVCMIkiETcDACALIBEgCykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAyARIAMpAwCFQgGJNwMAIAAgBEEDdGoiDyAPKQMAIhEgACAIQQN0aiIEKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIBBBA3RqIgggESAIKQMAhUIgiSIRNwMAIAAgDEEDdGoiACARIAApAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAQgESAEKQMAhUIoiSIRNwMAIA8gESAPKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAIIBEgCCkDAIVCMIkiETcDACAAIBEgACkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgBCARIAQpAwCFQgGJNwMAIBMgEykDACIRIAIpAwAiEnwgEUIBhkL+////H4MgEkL/////D4N+fCIRNwMAIAggESAIKQMAhUIgiSIRNwMAIAsgESALKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACACIBEgAikDAIVCKIkiETcDACATIBEgEykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgCCARIAgpAwCFQjCJIhE3AwAgCyARIAspAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAIgESACKQMAhUIBiTcDACANIA0pAwAiESADKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAFIBEgBSkDAIVCIIkiETcDACAAIBEgACkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAyARIAMpAwCFQiiJIhE3AwAgDSARIA0pAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAUgESAFKQMAhUIwiSIRNwMAIAAgESAAKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACADIBEgAykDAIVCAYk3AwAgDiAOKQMAIhEgBCkDACISfCARQgGGQv7///8fgyASQv////8Pg358IhE3AwAgBiARIAYpAwCFQiCJIhE3AwAgCSARIAkpAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAQgESAEKQMAhUIoiSIRNwMAIA4gESAOKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAGIBEgBikDAIVCMIkiETcDACAJIBEgCSkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgBCARIAQpAwCFQgGJNwMAIA8gDykDACIRIAEpAwAiEnwgEUIBhkL+////H4MgEkL/////D4N+fCIRNwMAIAcgESAHKQMAhUIgiSIRNwMAIAogESAKKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACABIBEgASkDAIVCKIkiETcDACAPIBEgDykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgByARIAcpAwCFQjCJIhE3AwAgCiARIAopAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAEgESABKQMAhUIBiTcDAAvdCAEPfwNAIAIgBUEDdCIGaiABIAZqKQMAIAAgBmopAwCFNwMAIAIgBkEIciIGaiABIAZqKQMAIAAgBmopAwCFNwMAIAVBAmoiBUGAAUcNAAsDQCADIARBA3QiAGogACACaikDADcDACADIARBAXIiAEEDdCIBaiABIAJqKQMANwMAIAMgBEECciIBQQN0IgVqIAIgBWopAwA3AwAgAyAEQQNyIgVBA3QiBmogAiAGaikDADcDACADIARBBHIiBkEDdCIHaiACIAdqKQMANwMAIAMgBEEFciIHQQN0IghqIAIgCGopAwA3AwAgAyAEQQZyIghBA3QiCWogAiAJaikDADcDACADIARBB3IiCUEDdCIKaiACIApqKQMANwMAIAMgBEEIciIKQQN0IgtqIAIgC2opAwA3AwAgAyAEQQlyIgtBA3QiDGogAiAMaikDADcDACADIARBCnIiDEEDdCINaiACIA1qKQMANwMAIAMgBEELciINQQN0Ig5qIAIgDmopAwA3AwAgAyAEQQxyIg5BA3QiD2ogAiAPaikDADcDACADIARBDXIiD0EDdCIQaiACIBBqKQMANwMAIAMgBEEOciIQQQN0IhFqIAIgEWopAwA3AwAgAyAEQQ9yIhFBA3QiEmogAiASaikDADcDACADIARB//8DcSAAQf//A3EgAUH//wNxIAVB//8DcSAGQf//A3EgB0H//wNxIAhB//8DcSAJQf//A3EgCkH//wNxIAtB//8DcSAMQf//A3EgDUH//wNxIA5B//8DcSAPQf//A3EgEEH//wNxIBFB//8DcRACIARB8ABJIQAgBEEQaiEEIAANAAtBACEBIANBAEEBQRBBEUEgQSFBMEExQcAAQcEAQdAAQdEAQeAAQeEAQfAAQfEAEAIgA0ECQQNBEkETQSJBI0EyQTNBwgBBwwBB0gBB0wBB4gBB4wBB8gBB8wAQAiADQQRBBUEUQRVBJEElQTRBNUHEAEHFAEHUAEHVAEHkAEHlAEH0AEH1ABACIANBBkEHQRZBF0EmQSdBNkE3QcYAQccAQdYAQdcAQeYAQecAQfYAQfcAEAIgA0EIQQlBGEEZQShBKUE4QTlByABByQBB2ABB2QBB6ABB6QBB+ABB+QAQAiADQQpBC0EaQRtBKkErQTpBO0HKAEHLAEHaAEHbAEHqAEHrAEH6AEH7ABACIANBDEENQRxBHUEsQS1BPEE9QcwAQc0AQdwAQd0AQewAQe0AQfwAQf0AEAIgA0EOQQ9BHkEfQS5BL0E+QT9BzgBBzwBB3gBB3wBB7gBB7wBB/gBB/wAQAgNAIAIgAUEDdCIAaiIEIAAgA2opAwAgBCkDAIU3AwAgAiAAQQhyIgRqIgUgAyAEaikDACAFKQMAhTcDACACIABBEHIiBGoiBSADIARqKQMAIAUpAwCFNwMAIAIgAEEYciIAaiIEIAAgA2opAwAgBCkDAIU3AwAgAUEEaiIBQYABRw0ACwsWACAAIAEgAiADEAMgACACIAIgAxADC3sCAX8BfiACIQkgATUCACEKIAQgBXIEQCABKAIEIANwIQkLIAAgCTYCACAAIAdBAWsgBSAEGyAIbCAGQQFrQQBBfyAGGyACIAlGG2oiASAFQQFqIAhsQQAgBBtqIAGtIAogCn5CIIh+QiCIp0F/c2ogByAIbHA2AgQgAAsEACMACwYAIAAkAAsQACMAIABrQXBxIgAkACAACwUAQYAICw==",r)))});function $R(){if(Bm)return xm;Bm=1;var r=[0,1,3,7,15,31,63,127,255],e=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};return e.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},e.prototype.read=function(t){for(var n=0;t>0;){this._ensureByte();var a=8-this.bitOffset;if(t>=a)n<<=a,n|=r[a]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=a;else{n<<=t;var o=a-t;n|=(this.curByte&r[t]<<o)>>o,this.bitOffset+=t,t=0}}return n},e.prototype.seek=function(t){var n=t%8,a=(t-n)/8;this.bitOffset=n,this.stream.seek(a),this.hasByte=!1},e.prototype.pi=function(){var t,n=new Uint8Array(6);for(t=0;t<n.length;t++)n[t]=this.read(8);return(function(a){return Array.prototype.map.call(a,(o=>("00"+o.toString(16)).slice(-2))).join("")})(n)},xm=e}var eT=(function(){if(Tm)return Rm;Tm=1;var r,e=$R(),t=(function(){if(Um)return Cm;Um=1;var p=function(){};return p.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},p.prototype.read=function(m,w,E){for(var S=0;S<E;){var v=this.readByte();if(v<0)return S===0?-1:S;m[w++]=v,S++}return S},p.prototype.seek=function(m){throw Error("abstract method seek() not implemented")},p.prototype.writeByte=function(m){throw Error("abstract method readByte() not implemented")},p.prototype.write=function(m,w,E){var S;for(S=0;S<E;S++)this.writeByte(m[w++]);return E},p.prototype.flush=function(){},Cm=p})(),n=Im?Dm:(Im=1,r=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),Dm=function(){var p=4294967295;this.getCRC=function(){return~p>>>0},this.updateCRC=function(m){p=p<<8^r[255&(p>>>24^m)]},this.updateCRCRun=function(m,w){for(;w-- >0;)p=p<<8^r[255&(p>>>24^m)]}}),a=function(p,m){var w,E=p[m];for(w=m;w>0;w--)p[w]=p[w-1];return p[0]=E,E},o={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},l={};l[o.LAST_BLOCK]="Bad file checksum",l[o.NOT_BZIP_DATA]="Not bzip data",l[o.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",l[o.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",l[o.DATA_ERROR]="Data error",l[o.OUT_OF_MEMORY]="Out of memory",l[o.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var u=function(p,m){var w=l[p]||"unknown error";m&&(w+=": "+m);var E=new TypeError(w);throw E.errorCode=p,E},f=function(p,m){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(p,m)};f.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new n,!0):(this.writeCount=-1,!1)},f.prototype._start_bunzip=function(p,m){var w=new Uint8Array(4);p.read(w,0,4)===4&&String.fromCharCode(w[0],w[1],w[2])==="BZh"||u(o.NOT_BZIP_DATA,"bad magic");var E=w[3]-48;(E<1||E>9)&&u(o.NOT_BZIP_DATA,"level out of range"),this.reader=new e(p),this.dbufSize=1e5*E,this.nextoutput=0,this.outputStream=m,this.streamCRC=0},f.prototype._get_next_block=function(){var p,m,w,E=this.reader,S=E.pi();if(S==="177245385090")return!1;S!=="314159265359"&&u(o.NOT_BZIP_DATA),this.targetBlockCRC=E.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,E.read(1)&&u(o.OBSOLETE_INPUT);var v=E.read(24);v>this.dbufSize&&u(o.DATA_ERROR,"initial position out of bounds");var k=E.read(16),D=new Uint8Array(256),C=0;for(p=0;p<16;p++)if(k&1<<15-p){var N=16*p;for(w=E.read(16),m=0;m<16;m++)w&1<<15-m&&(D[C++]=N+m)}var M=E.read(3);(M<2||M>6)&&u(o.DATA_ERROR);var K=E.read(15);K===0&&u(o.DATA_ERROR);var I=new Uint8Array(256);for(p=0;p<M;p++)I[p]=p;var U=new Uint8Array(K);for(p=0;p<K;p++){for(m=0;E.read(1);m++)m>=M&&u(o.DATA_ERROR);U[p]=a(I,m)}var R,L=C+2,Q=[];for(m=0;m<M;m++){var F,G,Z=new Uint8Array(L),H=new Uint16Array(21);for(k=E.read(5),p=0;p<L;p++){for(;(k<1||k>20)&&u(o.DATA_ERROR),E.read(1);)E.read(1)?k--:k++;Z[p]=k}for(F=G=Z[0],p=1;p<L;p++)Z[p]>G?G=Z[p]:Z[p]<F&&(F=Z[p]);R={},Q.push(R),R.permute=new Uint16Array(258),R.limit=new Uint32Array(22),R.base=new Uint32Array(21),R.minLen=F,R.maxLen=G;var O=0;for(p=F;p<=G;p++)for(H[p]=R.limit[p]=0,k=0;k<L;k++)Z[k]===p&&(R.permute[O++]=k);for(p=0;p<L;p++)H[Z[p]]++;for(O=k=0,p=F;p<G;p++)O+=H[p],R.limit[p]=O-1,O<<=1,k+=H[p],R.base[p+1]=O-k;R.limit[G+1]=Number.MAX_VALUE,R.limit[G]=O+H[G]-1,R.base[F]=0}var j=new Uint32Array(256);for(p=0;p<256;p++)I[p]=p;var ee,ne=0,P=0,_=0,q=this.dbuf=new Uint32Array(this.dbufSize);for(L=0;;){for(L--||(L=49,_>=K&&u(o.DATA_ERROR),R=Q[U[_++]]),p=R.minLen,m=E.read(p);p>R.maxLen&&u(o.DATA_ERROR),!(m<=R.limit[p]);p++)m=m<<1|E.read(1);((m-=R.base[p])<0||m>=258)&&u(o.DATA_ERROR);var W=R.permute[m];if(W!==0&&W!==1){if(ne)for(ne=0,P+k>this.dbufSize&&u(o.DATA_ERROR),j[ee=D[I[0]]]+=k;k--;)q[P++]=ee;if(W>C)break;P>=this.dbufSize&&u(o.DATA_ERROR),j[ee=D[ee=a(I,p=W-1)]]++,q[P++]=ee}else ne||(ne=1,k=0),k+=W===0?ne:2*ne,ne<<=1}for((v<0||v>=P)&&u(o.DATA_ERROR),m=0,p=0;p<256;p++)w=m+j[p],j[p]=m,m=w;for(p=0;p<P;p++)q[j[ee=255&q[p]]]|=p<<8,j[ee]++;var X=0,ce=0,le=0;return P&&(ce=255&(X=q[v]),X>>=8,le=-1),this.writePos=X,this.writeCurrent=ce,this.writeCount=P,this.writeRun=le,!0},f.prototype._read_bunzip=function(p,m){var w,E,S;if(this.writeCount<0)return 0;var v=this.dbuf,k=this.writePos,D=this.writeCurrent,C=this.writeCount;this.outputsize;for(var N=this.writeRun;C;){for(C--,E=D,D=255&(k=v[k]),k>>=8,N++==3?(w=D,S=E,D=-1):(w=1,S=D),this.blockCRC.updateCRCRun(S,w);w--;)this.outputStream.writeByte(S),this.nextoutput++;D!=E&&(N=0)}return this.writeCount=C,this.blockCRC.getCRC()!==this.targetBlockCRC&&u(o.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var d=function(p){if("readByte"in p)return p;var m=new t;return m.pos=0,m.readByte=function(){return p[this.pos++]},m.seek=function(w){this.pos=w},m.eof=function(){return this.pos>=p.length},m},y=function(p){var m=new t,w=!0;if(p)if(typeof p=="number")m.buffer=new Uint8Array(p),w=!1;else{if("writeByte"in p)return p;m.buffer=p,w=!1}else m.buffer=new Uint8Array(16384);return m.pos=0,m.writeByte=function(E){if(w&&this.pos>=this.buffer.length){var S=new Uint8Array(2*this.buffer.length);S.set(this.buffer),this.buffer=S}this.buffer[this.pos++]=E},m.getBuffer=function(){if(this.pos!==this.buffer.length){if(!w)throw new TypeError("outputsize does not match decoded input");var E=new Uint8Array(this.pos);E.set(this.buffer.subarray(0,this.pos)),this.buffer=E}return this.buffer},m._coerced=!0,m};return Rm={Bunzip:f,Stream:t,Err:o,decode:function(p,m,w){for(var E=d(p),S=y(m),v=new f(E,S);!("eof"in E)||!E.eof();)if(v._init_block())v._read_bunzip();else{var k=v.reader.read(32)>>>0;if(k!==v.streamCRC&&u(o.DATA_ERROR,"Bad stream CRC (got "+v.streamCRC.toString(16)+" expected "+k.toString(16)+")"),!w||!("eof"in E)||E.eof())break;v._start_bunzip(E,S)}if("getBuffer"in S)return S.getBuffer()},decodeBlock:function(p,m,w){var E=d(p),S=y(w),v=new f(E,S);if(v.reader.seek(m),v._get_next_block()&&(v.blockCRC=new n,v.writeCopies=0,v._read_bunzip()),"getBuffer"in S)return S.getBuffer()},table:function(p,m,w){var E=new t;E.delegate=d(p),E.pos=0,E.readByte=function(){return this.pos++,this.delegate.readByte()},E.delegate.eof&&(E.eof=E.delegate.eof.bind(E.delegate));var S=new t;S.pos=0,S.writeByte=function(){this.pos++};for(var v=new f(E,S),k=v.dbufSize;!("eof"in E)||!E.eof();){var D=8*E.pos+v.reader.bitOffset;if(v.reader.hasByte&&(D-=8),v._init_block()){var C=S.pos;v._read_bunzip(),m(D,S.pos-C)}else{if(v.reader.read(32),!w||!("eof"in E)||E.eof())break;v._start_bunzip(E,S),console.assert(v.dbufSize===k,"shouldn't change block size within multistream file")}}}}})(),tT=AU({__proto__:null},[eT]);function Hs(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function Nm(r){r.startsWith("0x")&&(r=r.slice(2));const e=new Uint8Array(r.match(/.{1,2}/g).map(t=>parseInt(t,16)));return new TextDecoder().decode(e)}function nT(r){return new TextEncoder().encode(r)}function M2(r){if(typeof r=="string"&&r.startsWith("0x")){r=r.slice(2);const t=[];for(let n=0;n<r.length;n+=2)t.push(parseInt(r.substr(n,2),16));r=new Uint8Array(t)}else Array.isArray(r)&&(r=new Uint8Array(r));return new TextDecoder().decode(r)}async function Om(r,e,t){return await oI({type:"ecc",curve:"curve25519",userIDs:[{name:r,email:e}],passphrase:t})}async function rT(r,e){const t=await eI({armoredKey:r});return await lI({message:await sI({text:e}),encryptionKeys:t})}async function iT(r,e,t){try{let n=await tI({armoredKey:r});e&&(n=await cI({privateKey:n,passphrase:e}));const a=await aI({armoredMessage:t}),{data:o}=await uI({message:a,decryptionKeys:n});return o}catch{return"Could not decrypt message!"}}const aT="hh-sol-artifact-1",sT="Mailbox",oT="contracts/Mailbox.sol",cT=[{inputs:[{internalType:"bytes",name:"_key",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"clearInbox",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"clearMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getInboxCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getMail",outputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes",name:"message",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Mailbox.Mail",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"key",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"sendMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_key",type:"bytes"}],name:"updateKey",outputs:[],stateMutability:"nonpayable",type:"function"}],lT="0x60a06040523480156200001157600080fd5b506040516200187938038062001879833981810160405281019062000037919062000217565b3373ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff168152505080600090816200007c9190620004b3565b50506200059a565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620000ed82620000a2565b810181811067ffffffffffffffff821117156200010f576200010e620000b3565b5b80604052505050565b60006200012462000084565b9050620001328282620000e2565b919050565b600067ffffffffffffffff821115620001555762000154620000b3565b5b6200016082620000a2565b9050602081019050919050565b60005b838110156200018d57808201518184015260208101905062000170565b60008484015250505050565b6000620001b0620001aa8462000137565b62000118565b905082815260208101848484011115620001cf57620001ce6200009d565b5b620001dc8482856200016d565b509392505050565b600082601f830112620001fc57620001fb62000098565b5b81516200020e84826020860162000199565b91505092915050565b60006020828403121562000230576200022f6200008e565b5b600082015167ffffffffffffffff81111562000251576200025062000093565b5b6200025f84828501620001e4565b91505092915050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620002bb57607f821691505b602082108103620002d157620002d062000273565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026200033b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620002fc565b620003478683620002fc565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620003946200038e62000388846200035f565b62000369565b6200035f565b9050919050565b6000819050919050565b620003b08362000373565b620003c8620003bf826200039b565b84845462000309565b825550505050565b600090565b620003df620003d0565b620003ec818484620003a5565b505050565b5b81811015620004145762000408600082620003d5565b600181019050620003f2565b5050565b601f82111562000463576200042d81620002d7565b6200043884620002ec565b8101602085101562000448578190505b620004606200045785620002ec565b830182620003f1565b50505b505050565b600082821c905092915050565b6000620004886000198460080262000468565b1980831691505092915050565b6000620004a3838362000475565b9150826002028217905092915050565b620004be8262000268565b67ffffffffffffffff811115620004da57620004d9620000b3565b5b620004e68254620002a2565b620004f382828562000418565b600060209050601f8311600181146200052b576000841562000516578287015190505b62000522858262000495565b86555062000592565b601f1984166200053b86620002d7565b60005b8281101562000565578489015182556001820191506020850194506020810190506200053e565b8683101562000585578489015162000581601f89168262000475565b8355505b6001600288020188555050505b505050505050565b6080516112ae620005cb600039600081816101770152818161041f01528181610443015261079601526112ae6000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80638da5cb5b1161005b5780638da5cb5b146100ef578063a46b56f01461010d578063dcc5330514610129578063e6eb68671461015957610088565b8063056e7e391461008d5780633943380c1461009757806348e6fa23146100b55780638128d72a146100d1575b600080fd5b610095610175565b005b61009f610213565b6040516100ac91906109ea565b60405180910390f35b6100cf60048036038101906100ca9190610a85565b6102a1565b005b6100d9610410565b6040516100e69190610b1f565b60405180910390f35b6100f761041d565b6040516101049190610b7b565b60405180910390f35b61012760048036038101906101229190610bc2565b610441565b005b610143600480360381019061013e9190610bc2565b61058d565b6040516101509190610cc1565b60405180910390f35b610173600480360381019061016e9190610e13565b610794565b005b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610203576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101fa90610edf565b60405180910390fd5b600160006102119190610835565b565b6000805461022090610f2e565b80601f016020809104026020016040519081016040528092919081815260200182805461024c90610f2e565b80156102995780601f1061026e57610100808354040283529160200191610299565b820191906000526020600020905b81548152906001019060200180831161027c57829003601f168201915b505050505081565b600160405180608001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200142815260200186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815250908060018154018082558091505060019003906000526020600020906004020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020190816103f1919061110b565b506060820151816003019081610407919061110b565b50505050505050565b6000600180549050905090565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146104cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104c690610edf565b60405180910390fd5b6001805490508110610516576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050d90611229565b60405180910390fd5b6001818154811061052a57610529611249565b5b9060005260206000209060040201600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600090556002820160006105789190610859565b6003820160006105889190610859565b505050565b610595610899565b60018054905082106105dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105d390611229565b60405180910390fd5b600182815481106105f0576105ef611249565b5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820154815260200160028201805461067990610f2e565b80601f01602080910402602001604051908101604052809291908181526020018280546106a590610f2e565b80156106f25780601f106106c7576101008083540402835291602001916106f2565b820191906000526020600020905b8154815290600101906020018083116106d557829003601f168201915b5050505050815260200160038201805461070b90610f2e565b80601f016020809104026020016040519081016040528092919081815260200182805461073790610f2e565b80156107845780601f1061075957610100808354040283529160200191610784565b820191906000526020600020905b81548152906001019060200180831161076757829003601f168201915b5050505050815250509050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610822576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161081990610edf565b60405180910390fd5b8060009081610831919061110b565b5050565b508054600082556004029060005260206000209081019061085691906108d7565b50565b50805461086590610f2e565b6000825580601f106108775750610896565b601f016020900490600052602060002090810190610895919061093d565b5b50565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160608152602001606081525090565b5b8082111561093957600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600090556002820160006109209190610859565b6003820160006109309190610859565b506004016108d8565b5090565b5b8082111561095657600081600090555060010161093e565b5090565b600081519050919050565b600082825260208201905092915050565b60005b83811015610994578082015181840152602081019050610979565b60008484015250505050565b6000601f19601f8301169050919050565b60006109bc8261095a565b6109c68185610965565b93506109d6818560208601610976565b6109df816109a0565b840191505092915050565b60006020820190508181036000830152610a0481846109b1565b905092915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610a4557610a44610a20565b5b8235905067ffffffffffffffff811115610a6257610a61610a25565b5b602083019150836001820283011115610a7e57610a7d610a2a565b5b9250929050565b60008060008060408587031215610a9f57610a9e610a16565b5b600085013567ffffffffffffffff811115610abd57610abc610a1b565b5b610ac987828801610a2f565b9450945050602085013567ffffffffffffffff811115610aec57610aeb610a1b565b5b610af887828801610a2f565b925092505092959194509250565b6000819050919050565b610b1981610b06565b82525050565b6000602082019050610b346000830184610b10565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610b6582610b3a565b9050919050565b610b7581610b5a565b82525050565b6000602082019050610b906000830184610b6c565b92915050565b610b9f81610b06565b8114610baa57600080fd5b50565b600081359050610bbc81610b96565b92915050565b600060208284031215610bd857610bd7610a16565b5b6000610be684828501610bad565b91505092915050565b610bf881610b5a565b82525050565b610c0781610b06565b82525050565b600082825260208201905092915050565b6000610c298261095a565b610c338185610c0d565b9350610c43818560208601610976565b610c4c816109a0565b840191505092915050565b6000608083016000830151610c6f6000860182610bef565b506020830151610c826020860182610bfe565b5060408301518482036040860152610c9a8282610c1e565b91505060608301518482036060860152610cb48282610c1e565b9150508091505092915050565b60006020820190508181036000830152610cdb8184610c57565b905092915050565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610d20826109a0565b810181811067ffffffffffffffff82111715610d3f57610d3e610ce8565b5b80604052505050565b6000610d52610a0c565b9050610d5e8282610d17565b919050565b600067ffffffffffffffff821115610d7e57610d7d610ce8565b5b610d87826109a0565b9050602081019050919050565b82818337600083830152505050565b6000610db6610db184610d63565b610d48565b905082815260208101848484011115610dd257610dd1610ce3565b5b610ddd848285610d94565b509392505050565b600082601f830112610dfa57610df9610a20565b5b8135610e0a848260208601610da3565b91505092915050565b600060208284031215610e2957610e28610a16565b5b600082013567ffffffffffffffff811115610e4757610e46610a1b565b5b610e5384828501610de5565b91505092915050565b600082825260208201905092915050565b7f4f6e6c79206f776e657220697320616c6c6f77656420746f2063616c6c20746860008201527f69732066756e6374696f6e210000000000000000000000000000000000000000602082015250565b6000610ec9602c83610e5c565b9150610ed482610e6d565b604082019050919050565b60006020820190508181036000830152610ef881610ebc565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610f4657607f821691505b602082108103610f5957610f58610eff565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610fc17fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610f84565b610fcb8683610f84565b95508019841693508086168417925050509392505050565b6000819050919050565b6000611008611003610ffe84610b06565b610fe3565b610b06565b9050919050565b6000819050919050565b61102283610fed565b61103661102e8261100f565b848454610f91565b825550505050565b600090565b61104b61103e565b611056818484611019565b505050565b5b8181101561107a5761106f600082611043565b60018101905061105c565b5050565b601f8211156110bf5761109081610f5f565b61109984610f74565b810160208510156110a8578190505b6110bc6110b485610f74565b83018261105b565b50505b505050565b600082821c905092915050565b60006110e2600019846008026110c4565b1980831691505092915050565b60006110fb83836110d1565b9150826002028217905092915050565b6111148261095a565b67ffffffffffffffff81111561112d5761112c610ce8565b5b6111378254610f2e565b61114282828561107e565b600060209050601f8311600181146111755760008415611163578287015190505b61116d85826110ef565b8655506111d5565b601f19841661118386610f5f565b60005b828110156111ab57848901518255600182019150602085019450602081019050611186565b868310156111c857848901516111c4601f8916826110d1565b8355505b6001600288020188555050505b505050505050565b7f4e6f206d61696c20617420696e64657800000000000000000000000000000000600082015250565b6000611213601083610e5c565b915061121e826111dd565b602082019050919050565b6000602082019050818103600083015261124281611206565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220212dc1f8ac019f1d27dcd6761629a97c9fc3f1cf0d7b49d805cb1eef59b4070464736f6c63430008140033",uT="0x608060405234801561001057600080fd5b50600436106100885760003560e01c80638da5cb5b1161005b5780638da5cb5b146100ef578063a46b56f01461010d578063dcc5330514610129578063e6eb68671461015957610088565b8063056e7e391461008d5780633943380c1461009757806348e6fa23146100b55780638128d72a146100d1575b600080fd5b610095610175565b005b61009f610213565b6040516100ac91906109ea565b60405180910390f35b6100cf60048036038101906100ca9190610a85565b6102a1565b005b6100d9610410565b6040516100e69190610b1f565b60405180910390f35b6100f761041d565b6040516101049190610b7b565b60405180910390f35b61012760048036038101906101229190610bc2565b610441565b005b610143600480360381019061013e9190610bc2565b61058d565b6040516101509190610cc1565b60405180910390f35b610173600480360381019061016e9190610e13565b610794565b005b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610203576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101fa90610edf565b60405180910390fd5b600160006102119190610835565b565b6000805461022090610f2e565b80601f016020809104026020016040519081016040528092919081815260200182805461024c90610f2e565b80156102995780601f1061026e57610100808354040283529160200191610299565b820191906000526020600020905b81548152906001019060200180831161027c57829003601f168201915b505050505081565b600160405180608001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200142815260200186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815250908060018154018082558091505060019003906000526020600020906004020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020190816103f1919061110b565b506060820151816003019081610407919061110b565b50505050505050565b6000600180549050905090565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146104cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104c690610edf565b60405180910390fd5b6001805490508110610516576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050d90611229565b60405180910390fd5b6001818154811061052a57610529611249565b5b9060005260206000209060040201600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600090556002820160006105789190610859565b6003820160006105889190610859565b505050565b610595610899565b60018054905082106105dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105d390611229565b60405180910390fd5b600182815481106105f0576105ef611249565b5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820154815260200160028201805461067990610f2e565b80601f01602080910402602001604051908101604052809291908181526020018280546106a590610f2e565b80156106f25780601f106106c7576101008083540402835291602001916106f2565b820191906000526020600020905b8154815290600101906020018083116106d557829003601f168201915b5050505050815260200160038201805461070b90610f2e565b80601f016020809104026020016040519081016040528092919081815260200182805461073790610f2e565b80156107845780601f1061075957610100808354040283529160200191610784565b820191906000526020600020905b81548152906001019060200180831161076757829003601f168201915b5050505050815250509050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610822576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161081990610edf565b60405180910390fd5b8060009081610831919061110b565b5050565b508054600082556004029060005260206000209081019061085691906108d7565b50565b50805461086590610f2e565b6000825580601f106108775750610896565b601f016020900490600052602060002090810190610895919061093d565b5b50565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160608152602001606081525090565b5b8082111561093957600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600090556002820160006109209190610859565b6003820160006109309190610859565b506004016108d8565b5090565b5b8082111561095657600081600090555060010161093e565b5090565b600081519050919050565b600082825260208201905092915050565b60005b83811015610994578082015181840152602081019050610979565b60008484015250505050565b6000601f19601f8301169050919050565b60006109bc8261095a565b6109c68185610965565b93506109d6818560208601610976565b6109df816109a0565b840191505092915050565b60006020820190508181036000830152610a0481846109b1565b905092915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610a4557610a44610a20565b5b8235905067ffffffffffffffff811115610a6257610a61610a25565b5b602083019150836001820283011115610a7e57610a7d610a2a565b5b9250929050565b60008060008060408587031215610a9f57610a9e610a16565b5b600085013567ffffffffffffffff811115610abd57610abc610a1b565b5b610ac987828801610a2f565b9450945050602085013567ffffffffffffffff811115610aec57610aeb610a1b565b5b610af887828801610a2f565b925092505092959194509250565b6000819050919050565b610b1981610b06565b82525050565b6000602082019050610b346000830184610b10565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610b6582610b3a565b9050919050565b610b7581610b5a565b82525050565b6000602082019050610b906000830184610b6c565b92915050565b610b9f81610b06565b8114610baa57600080fd5b50565b600081359050610bbc81610b96565b92915050565b600060208284031215610bd857610bd7610a16565b5b6000610be684828501610bad565b91505092915050565b610bf881610b5a565b82525050565b610c0781610b06565b82525050565b600082825260208201905092915050565b6000610c298261095a565b610c338185610c0d565b9350610c43818560208601610976565b610c4c816109a0565b840191505092915050565b6000608083016000830151610c6f6000860182610bef565b506020830151610c826020860182610bfe565b5060408301518482036040860152610c9a8282610c1e565b91505060608301518482036060860152610cb48282610c1e565b9150508091505092915050565b60006020820190508181036000830152610cdb8184610c57565b905092915050565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610d20826109a0565b810181811067ffffffffffffffff82111715610d3f57610d3e610ce8565b5b80604052505050565b6000610d52610a0c565b9050610d5e8282610d17565b919050565b600067ffffffffffffffff821115610d7e57610d7d610ce8565b5b610d87826109a0565b9050602081019050919050565b82818337600083830152505050565b6000610db6610db184610d63565b610d48565b905082815260208101848484011115610dd257610dd1610ce3565b5b610ddd848285610d94565b509392505050565b600082601f830112610dfa57610df9610a20565b5b8135610e0a848260208601610da3565b91505092915050565b600060208284031215610e2957610e28610a16565b5b600082013567ffffffffffffffff811115610e4757610e46610a1b565b5b610e5384828501610de5565b91505092915050565b600082825260208201905092915050565b7f4f6e6c79206f776e657220697320616c6c6f77656420746f2063616c6c20746860008201527f69732066756e6374696f6e210000000000000000000000000000000000000000602082015250565b6000610ec9602c83610e5c565b9150610ed482610e6d565b604082019050919050565b60006020820190508181036000830152610ef881610ebc565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610f4657607f821691505b602082108103610f5957610f58610eff565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610fc17fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610f84565b610fcb8683610f84565b95508019841693508086168417925050509392505050565b6000819050919050565b6000611008611003610ffe84610b06565b610fe3565b610b06565b9050919050565b6000819050919050565b61102283610fed565b61103661102e8261100f565b848454610f91565b825550505050565b600090565b61104b61103e565b611056818484611019565b505050565b5b8181101561107a5761106f600082611043565b60018101905061105c565b5050565b601f8211156110bf5761109081610f5f565b61109984610f74565b810160208510156110a8578190505b6110bc6110b485610f74565b83018261105b565b50505b505050565b600082821c905092915050565b60006110e2600019846008026110c4565b1980831691505092915050565b60006110fb83836110d1565b9150826002028217905092915050565b6111148261095a565b67ffffffffffffffff81111561112d5761112c610ce8565b5b6111378254610f2e565b61114282828561107e565b600060209050601f8311600181146111755760008415611163578287015190505b61116d85826110ef565b8655506111d5565b601f19841661118386610f5f565b60005b828110156111ab57848901518255600182019150602085019450602081019050611186565b868310156111c857848901516111c4601f8916826110d1565b8355505b6001600288020188555050505b505050505050565b7f4e6f206d61696c20617420696e64657800000000000000000000000000000000600082015250565b6000611213601083610e5c565b915061121e826111dd565b602082019050919050565b6000602082019050818103600083015261124281611206565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220212dc1f8ac019f1d27dcd6761629a97c9fc3f1cf0d7b49d805cb1eef59b4070464736f6c63430008140033",fT={},hT={},Ls={_format:aT,contractName:sT,sourceName:oT,abi:cT,bytecode:lT,deployedBytecode:uT,linkReferences:fT,deployedLinkReferences:hT};function dT({children:r}){const{signer:e}=u3(),[t,n]=se.useState([]),[a,o]=se.useState([]),l=async w=>{const E=new ci(w.address,Ls.abi,e);try{w.inboxCount=await E.getInboxCount(),w.key.publicKey=await E.key(),w.owner=await E.owner()}catch(S){throw console.log("Error querying mailbox:",S),S}},u=(w,E)=>{w.some(v=>v.address===E.address)||o([...w,E])},f=async(w,E)=>{if(e)try{const S=new ci(w,Ls.abi,e);let v=await S.key();v=M2(v);const k=nT(await rT(v,E)),C=await e.getAddress()+E,N=await e.signMessage(C);await(await S.sendMessage(k,N)).wait()}catch(S){throw Error(S)}};async function d(w,E,S){const v=new ci(w,Ls.abi,e);try{const k=await v.owner();if(k!=await e.getAddress())throw Error("Signer is not owner of mailbox! Refusing connection!");const D=await v.getInboxCount(),C=await v.key();let N={owner:k,address:w,inboxCount:D,key:{privateKey:Hs(E),publicKey:C},passphrase:S};u(a,N)}catch{}}const y=async()=>{if(a.length==0)return;console.log("getting inbox");let w=[];for(let E=0;E<a.length;E++){const S=new ci(a[E].address,Ls.abi,e),v=await S.getInboxCount();for(let k=0;k<v;k++){let D=await S.getMail(k),C=await iT(Nm(a[E].key.privateKey),a[E].passphrase,M2(D.message));console.log(Nm(a[E].key.privateKey)),console.log(C);let N={sender:D.sender,message:C,timestamp:D.timestamp};w.push(N)}}n(w)};async function p(w,E){const S=await Om(null,null,E);await new ci(w.address,Ls.abi,e).updateKey(Hs(S.publicKey)),await l(w),w.key.privateKey=Hs(S.privateKey),X4(S,`${w.address}_key.asc`)}async function m(w){const E=new o3(Ls.abi,Ls.bytecode,e);try{const S=await Om(null,null,w),v=Hs(S.publicKey),k=Hs(S.privateKey),D=await E.deploy(Hs(S.publicKey));await D.waitForDeployment();let C={address:D.target,inboxCount:0,key:{privateKey:k,publicKey:v},passphrase:w};await l(C),u(a,C),X4(S,`${C.address}_key.asc`)}catch(S){return console.log(S),S}}return ae.jsx(Fw.Provider,{value:{mailboxes:a,newMailbox:m,inbox:t,sendMessage:f,getInbox:y,connectMailbox:d,queryMailbox:l,newMailboxKey:p},children:r})}const Fw=se.createContext(),po=()=>se.useContext(Fw);function yT(){const{sendMessage:r}=po(),[e,t]=se.useState(""),[n,a]=se.useState(""),o=async()=>{e&&r(e,n)};return ae.jsxs("div",{children:[ae.jsx("div",{style:{marginBottom:"1rem"},children:ae.jsxs("label",{children:["To:",ae.jsx("input",{type:"text",placeholder:"Recipient address",value:e,onChange:l=>t(l.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),ae.jsx("div",{style:{marginBottom:"1rem"},children:ae.jsxs("label",{children:["Message:",ae.jsx("textarea",{placeholder:"Your message here",value:n,onChange:l=>a(l.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),ae.jsx("button",{onClick:()=>o(),style:{padding:"0.5rem 1rem"},children:"Send"})]})}function z1({onClick:r,children:e,loadingText:t="Loading...",...n}){const[a,o]=se.useState(!1),l=async()=>{o(!0);try{await r()}finally{o(!1)}};return ae.jsx("button",{onClick:l,disabled:a,...n,children:a?t:e})}function pT({viewMailbox:r}){const{mailboxes:e}=po();return ae.jsxs("div",{children:[ae.jsx("h3",{children:"Connected Mailbox"}),e.length===0?ae.jsx("p",{children:"No mailboxes connected"}):ae.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",tableLayout:"fixed",margin:"0 auto"},children:[ae.jsx("thead",{children:ae.jsx("tr",{children:ae.jsx("th",{style:{border:"1px solid #000",padding:"8px"},children:"Address"})})}),ae.jsx("tbody",{children:e.map((t,n)=>ae.jsx("tr",{style:{cursor:"pointer"},onClick:()=>r(t),children:ae.jsx("td",{style:{border:"1px solid #000",padding:"8px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ae.jsx("u",{children:t.address})})},n))})]})]})}function gT(){const{newMailbox:r}=po(),[e,t]=se.useState("");async function n(){await r(e),t("")}return ae.jsxs("div",{children:[ae.jsx("h3",{children:"Create A Mailbox"}),ae.jsx("p",{children:"Create a new mailbox with a new private key. It will automatically connect to your session and download the key, but remember to save the key for later use."}),ae.jsxs("label",{children:["Passphrase:"," ",ae.jsx("input",{type:"password",placeholder:"Enter passphrase",style:{width:"95%"},value:e,onChange:a=>t(a.target.value)})]}),ae.jsx("br",{}),ae.jsx("br",{}),ae.jsx(z1,{onClick:()=>n(),children:"New Mailbox"})]})}function mT(){const{connectMailbox:r}=po(),[e,t]=se.useState(""),[n,a]=se.useState(""),[o,l]=se.useState(""),u=async()=>{if(!e){console.log("Address and private key are required");return}try{await r(e,n,o)}catch(f){console.error(f)}t(""),a("")};return ae.jsxs("div",{children:[ae.jsx("h3",{children:"Connect A Mailbox"}),ae.jsx("p",{children:"Connect a pre-existing mailbox. Use the mailbox address and the private key you were given for decrypting to add the mailbox!"}),ae.jsx("div",{children:ae.jsxs("label",{children:["Address:"," ",ae.jsx("input",{type:"text",placeholder:"Enter mailbox address",value:e,onChange:f=>t(f.target.value)})]})}),ae.jsx("br",{}),ae.jsx("div",{children:ae.jsxs("label",{children:["Key:"," ",ae.jsx("textarea",{placeholder:"Enter private key",value:n,onChange:f=>a(f.target.value)})]})}),ae.jsx("br",{}),ae.jsx("div",{children:ae.jsxs("label",{children:["Passphrase:"," ",ae.jsx("input",{type:"password",placeholder:"Enter passphrase",value:o,onChange:f=>l(f.target.value)})]})}),ae.jsx("br",{}),ae.jsx(z1,{onClick:()=>u(),children:"Connect Mailbox"})]})}function bT({viewMailbox:r,selectedMailbox:e}){const{newMailboxKey:t}=po(),[,n]=se.useState(0),[a,o]=se.useState(""),[l,u]=se.useState(""),[f,d]=se.useState("");async function y(){await t(e,a),n(w=>w+1),o("")}async function p(){bU(e,`${e.address}.json`)}async function m(){e.key.privateKey=Hs(f),e.key.passphrase=l,u(""),d("")}return ae.jsxs("div",{children:[ae.jsx("button",{onClick:()=>r(null),children:"⬅ Back"}),ae.jsx("br",{}),ae.jsx("br",{}),ae.jsx("h2",{children:"Mailbox Details"}),ae.jsx("button",{onClick:()=>p(),children:"Export Mailbox"}),ae.jsxs("p",{children:[ae.jsx("strong",{children:"Address:"})," ",e.address]}),ae.jsxs("p",{children:[ae.jsx("strong",{children:"Public Key:"}),ae.jsx("br",{}),M2(e.key.publicKey)]}),ae.jsxs("p",{children:[ae.jsx("strong",{children:"Inbox Count:"})," ",e.inboxCount]}),ae.jsx("hr",{}),ae.jsx("h2",{children:"Edit Private Key"}),ae.jsxs("label",{children:["New Key:"," ",ae.jsx("textarea",{placeholder:"Enter private key",style:{width:"95%",height:"200px"},value:f,onChange:w=>d(w.target.value)})]}),ae.jsx("br",{}),ae.jsx("br",{}),ae.jsxs("label",{children:["Associated Passphrase:"," ",ae.jsx("input",{type:"password",placeholder:"Enter associated passphrase",style:{width:"95%"},value:l,onChange:w=>u(w.target.value)})]}),ae.jsx("br",{}),ae.jsx("br",{}),ae.jsx(z1,{onClick:()=>m(),children:"Update"}),ae.jsx("hr",{}),ae.jsx("h2",{children:"Generate New Key"}),ae.jsxs("label",{children:["Passphrase:"," ",ae.jsx("input",{type:"password",placeholder:"Enter passphrase",style:{width:"95%"},value:a,onChange:w=>o(w.target.value)})]}),ae.jsx("br",{}),ae.jsx("br",{}),ae.jsx(z1,{onClick:()=>y(),children:"New Key"})]})}function AT(){const{queryMailbox:r}=po(),[e,t]=se.useState(null);async function n(a){if(a==null){t(null);return}await r(a),t(a)}return e?ae.jsx(bT,{viewMailbox:n,selectedMailbox:e}):ae.jsxs("div",{children:[ae.jsxs("div",{children:[ae.jsx("h2",{children:"Mailboxes"}),ae.jsx(pT,{viewMailbox:n}),ae.jsx(gT,{}),ae.jsx(mT,{})]}),ae.jsx("br",{}),ae.jsx("hr",{}),ae.jsxs("p",{children:["If you encounter any troubles please read the documentation linked ",ae.jsx("a",{href:"https://github.com/robertjmapes/3mail",children:"here."})]})]})}function wT({mail:r,onBack:e}){return ae.jsxs("div",{style:{padding:"1em"},children:[ae.jsx("button",{onClick:e,style:{marginBottom:"1em"},children:"← Back to Inbox"}),ae.jsxs("h3",{children:["From: ",r.sender]}),ae.jsxs("p",{children:["Message: ",r.message]}),ae.jsxs("p",{children:["Time: ",r.timestamp]})]})}function ET({onSelectMail:r,inbox:e=[]}){const[n,a]=se.useState(1),o=Math.ceil(e.length/10),l=(n-1)*10,u=e.slice(l,l+10);return console.log(u),ae.jsxs("div",{children:[ae.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",margin:"auto"},children:[ae.jsx("thead",{children:ae.jsxs("tr",{style:{backgroundColor:"#000",color:"black"},children:[ae.jsx("th",{style:{border:"1px solid #000",padding:"8px"},children:"From"}),ae.jsx("th",{style:{border:"1px solid #000",padding:"8px"},children:"Message"}),ae.jsx("th",{style:{border:"1px solid #000",padding:"8px"},children:"Time"})]})}),ae.jsx("tbody",{children:u.map((f,d)=>ae.jsxs("tr",{style:{backgroundColor:d%2===0?"#fdf6e3":"#fff"},onClick:()=>r(f),children:[ae.jsx("td",{style:{border:"1px solid #000",padding:"8px",cursor:"pointer",color:"#000",maxWidth:"1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.sender}),ae.jsx("td",{style:{border:"1px solid #000",padding:"8px",cursor:"pointer",color:"#000",maxWidth:"1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.message}),ae.jsx("td",{style:{border:"1px solid #000",padding:"8px",cursor:"pointer",color:"#000",width:"120px",whiteSpace:"nowrap",textAlign:"center"},children:f.timestamp})]},d))})]}),ae.jsxs("div",{style:{textAlign:"center",marginTop:"10px"},children:[ae.jsx("button",{onClick:()=>a(f=>Math.max(f-1,1)),disabled:n===1,children:"Prev"}),ae.jsxs("span",{style:{margin:"0 10px"},children:["Page ",n," of ",o]}),ae.jsx("button",{onClick:()=>a(f=>Math.min(f+1,o)),disabled:n===o,children:"Next"})]})]})}function vT(){const[r,e]=se.useState(null),{inbox:t,getInbox:n}=po();return se.useEffect(()=>{(async()=>{try{await n(),console.log(t)}catch(o){console.error("Failed to fetch inbox:",o)}})()},[]),r?ae.jsx(wT,{mail:r,onBack:()=>e(null)}):t.length?ae.jsx(ET,{onSelectMail:e,inbox:t}):ae.jsx(ae.Fragment,{children:"You have got no new mail!"})}function ST(){const{signer:r}=u3(),e=!!r,[t,n]=se.useState("Inbox");return e?ae.jsxs("div",{children:[ae.jsx("br",{}),ae.jsxs("div",{style:{display:"flex",marginBottom:"-1px"},children:[ae.jsx("button",{onClick:()=>n("Inbox"),style:{margin:0,border:"1px solid #ccc",borderBottom:t==="Inbox"?"none":"1px solid #ccc",borderRadius:"5px 5px 0 0",backgroundColor:t==="Inbox"?"#fdf6e3":"#e4ddcc",color:"black",cursor:"pointer"},children:"Inbox"}),ae.jsx("button",{onClick:()=>n("Send"),style:{margin:0,marginLeft:"2px",padding:"0.5em 1em",border:"1px solid #ccc",borderBottom:t==="Send"?"none":"1px solid #ccc",borderRadius:"5px 5px 0 0",backgroundColor:t==="Send"?"#fdf6e3":"#e4ddcc",color:"black",cursor:"pointer"},children:"Send"}),ae.jsx("button",{onClick:()=>n("Settings"),style:{margin:0,marginLeft:"2px",padding:"0.5em 1em",border:"1px solid #ccc",borderBottom:t==="Settings"?"none":"1px solid #ccc",borderRadius:"5px 5px 0 0",backgroundColor:t==="Settings"?"#fdf6e3":"#e4ddcc",color:"black",cursor:"pointer"},children:"Settings"})]}),ae.jsx("br",{}),t==="Inbox"&&ae.jsx(vT,{}),t==="Send"&&ae.jsx(yT,{}),t==="Settings"&&ae.jsx(AT,{})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx("br",{}),ae.jsx("p",{children:"Please connect your wallet."})]})}/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pm="popstate";function kT(r={}){function e(n,a){let{pathname:o,search:l,hash:u}=n.location;return L2("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Yu(a)}return BT(e,t,null,r)}function kt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xT(){return Math.random().toString(36).substring(2,10)}function Km(r,e){return{usr:r.state,key:r.key,idx:e}}function L2(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Jc(e):e,state:t,key:e&&e.key||n||xT()}}function Yu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Jc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function BT(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,u="POP",f=null,d=y();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function y(){return(l.state||{idx:null}).idx}function p(){u="POP";let v=y(),k=v==null?null:v-d;d=v,f&&f({action:u,location:S.location,delta:k})}function m(v,k){u="PUSH";let D=L2(S.location,v,k);d=y()+1;let C=Km(D,d),N=S.createHref(D);try{l.pushState(C,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(N)}o&&f&&f({action:u,location:S.location,delta:1})}function w(v,k){u="REPLACE";let D=L2(S.location,v,k);d=y();let C=Km(D,d),N=S.createHref(D);l.replaceState(C,"",N),o&&f&&f({action:u,location:S.location,delta:0})}function E(v){return CT(v)}let S={get action(){return u},get location(){return r(a,l)},listen(v){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Pm,p),f=v,()=>{a.removeEventListener(Pm,p),f=null}},createHref(v){return e(a,v)},createURL:E,encodeLocation(v){let k=E(v);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:m,replace:w,go(v){return l.go(v)}};return S}function CT(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Yu(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function _w(r,e,t="/"){return UT(r,e,t,!1)}function UT(r,e,t,n){let a=typeof e=="string"?Jc(e):e,o=sa(a.pathname||"/",t);if(o==null)return null;let l=jw(r);DT(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=HT(o);u=LT(l[f],d,n)}return u}function jw(r,e=[],t=[],n=""){let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let d=ta([n,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),jw(o.children,e,y,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:KT(d,o.index),routesMeta:y})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of Vw(o.path))a(o,l,u)}),e}function Vw(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=Vw(n.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>r.startsWith("/")&&f===""?"/":f)}function DT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:MT(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var IT=/^:[\w-]+$/,RT=3,TT=2,NT=1,OT=10,PT=-2,Mm=r=>r==="*";function KT(r,e){let t=r.split("/"),n=t.length;return t.some(Mm)&&(n+=PT),e&&(n+=TT),t.filter(a=>!Mm(a)).reduce((a,o)=>a+(IT.test(o)?RT:o===""?NT:OT),n)}function MT(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function LT(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],d=u===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",p=G1({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},y),m=f.route;if(!p&&d&&t&&!n[n.length-1].route.index&&(p=G1({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ta([o,p.pathname]),pathnameBase:_T(ta([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=ta([o,p.pathnameBase]))}return l}function G1(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=QT(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((d,{paramName:y,isOptional:p},m)=>{if(y==="*"){let E=u[m]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[m];return p&&!w?d[y]=void 0:d[y]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:r}}function QT(r,e=!1,t=!0){wi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function HT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function zT(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Jc(r):r;return{pathname:t?t.startsWith("/")?t:GT(t,e):e,search:jT(n),hash:VT(a)}}function GT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function O6(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qw(r){let e=FT(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Yw(r,e,t,n=!1){let a;typeof r=="string"?a=Jc(r):(a={...r},kt(!a.pathname||!a.pathname.includes("?"),O6("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),O6("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),O6("#","search","hash",a)));let o=r===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let p=e.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}u=p>=0?e[p]:"/"}let f=zT(a,u),d=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||y)&&(f.pathname+="/"),f}var ta=r=>r.join("/").replace(/\/\/+/g,"/"),_T=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var YT=["GET",...Zw];new Set(YT);var Xc=se.createContext(null);Xc.displayName="DataRouter";var kh=se.createContext(null);kh.displayName="DataRouterState";se.createContext(!1);var Jw=se.createContext({isTransitioning:!1});Jw.displayName="ViewTransition";var ZT=se.createContext(new Map);ZT.displayName="Fetchers";var JT=se.createContext(null);JT.displayName="Await";var Ei=se.createContext(null);Ei.displayName="Navigation";var l0=se.createContext(null);l0.displayName="Location";var fa=se.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var O3=se.createContext(null);O3.displayName="RouteError";function XT(r,{relative:e}={}){kt(u0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=se.useContext(Ei),{hash:a,pathname:o,search:l}=f0(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ta([t,o])),n.createHref({pathname:u,search:l,hash:a})}function u0(){return se.useContext(l0)!=null}function go(){return kt(u0(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(l0).location}var Xw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ww(r){se.useContext(Ei).static||se.useLayoutEffect(r)}function WT(){let{isDataRoute:r}=se.useContext(fa);return r?fN():$T()}function $T(){kt(u0(),"useNavigate() may be used only in the context of a <Router> component.");let r=se.useContext(Xc),{basename:e,navigator:t}=se.useContext(Ei),{matches:n}=se.useContext(fa),{pathname:a}=go(),o=JSON.stringify(qw(n)),l=se.useRef(!1);return Ww(()=>{l.current=!0}),se.useCallback((f,d={})=>{if(wi(l.current,Xw),!l.current)return;if(typeof f=="number"){t.go(f);return}let y=Yw(f,JSON.parse(o),a,d.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ta([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,o,a,r])}se.createContext(null);function f0(r,{relative:e}={}){let{matches:t}=se.useContext(fa),{pathname:n}=go(),a=JSON.stringify(qw(t));return se.useMemo(()=>Yw(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function eN(r,e){return $w(r,e)}function $w(r,e,t,n){kt(u0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=se.useContext(Ei),{matches:o}=se.useContext(fa),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",y=l&&l.route;{let k=y&&y.path||"";eE(f,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=go(),m;if(e){let k=typeof e=="string"?Jc(e):e;kt(d==="/"||k.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=p;let w=m.pathname||"/",E=w;if(d!=="/"){let k=d.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=_w(r,{pathname:E});wi(y||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=aN(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:ta([d,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:ta([d,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,n);return e&&v?se.createElement(l0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function tN(){let r=uN(),e=qT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=se.createElement(se.Fragment,null,se.createElement("p",null,"💿 Hey developer 👋"),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:o},"ErrorBoundary")," or"," ",se.createElement("code",{style:o},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),t?se.createElement("pre",{style:a},t):null,l)}var nN=se.createElement(tN,null),rN=class extends se.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?se.createElement(fa.Provider,{value:this.props.routeContext},se.createElement(O3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iN({routeContext:r,match:e,children:t}){let n=se.useContext(Xc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(fa.Provider,{value:r},t)}function aN(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t?.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:y,errors:p}=t,m=d.route.loader&&!y.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,y)=>{let p,m=!1,w=null,E=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||nN,l&&(u<0&&y===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,E=null):u===y&&(m=!0,E=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),v=()=>{let k;return p?k=w:m?k=E:d.route.Component?k=se.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,se.createElement(iN,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:k})};return t&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?se.createElement(rN,{location:t.location,revalidation:t.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):v()},null)}function P3(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sN(r){let e=se.useContext(Xc);return kt(e,P3(r)),e}function oN(r){let e=se.useContext(kh);return kt(e,P3(r)),e}function cN(r){let e=se.useContext(fa);return kt(e,P3(r)),e}function K3(r){let e=cN(r),t=e.matches[e.matches.length-1];return kt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function lN(){return K3("useRouteId")}function uN(){let r=se.useContext(O3),e=oN("useRouteError"),t=K3("useRouteError");return r!==void 0?r:e.errors?.[t]}function fN(){let{router:r}=sN("useNavigate"),e=K3("useNavigate"),t=se.useRef(!1);return Ww(()=>{t.current=!0}),se.useCallback(async(a,o={})=>{wi(t.current,Xw),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var Lm={};function eE(r,e,t){!e&&!Lm[r]&&(Lm[r]=!0,wi(!1,t))}se.memo(hN);function hN({routes:r,future:e,state:t}){return $w(r,void 0,t,e)}function tE(r){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dN({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){kt(!u0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Jc(t));let{pathname:f="/",search:d="",hash:y="",state:p=null,key:m="default"}=t,w=se.useMemo(()=>{let E=sa(f,l);return E==null?null:{location:{pathname:E,search:d,hash:y,state:p,key:m},navigationType:n}},[l,f,d,y,p,m,n]);return wi(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:se.createElement(Ei.Provider,{value:u},se.createElement(l0.Provider,{children:e,value:w}))}function yN({children:r,location:e}){return eN(Q2(r),e)}function Q2(r,e=[]){let t=[];return se.Children.forEach(r,(n,a)=>{if(!se.isValidElement(n))return;let o=[...e,a];if(n.type===se.Fragment){t.push.apply(t,Q2(n.props.children,o));return}kt(n.type===tE,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Q2(n.props.children,o)),t.push(l)}),t}var f1="get",h1="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function pN(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function gN(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function mN(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function bN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AN(r,e){return r.button===0&&(!e||e==="_self")&&!bN(r)}var Xf=null;function wN(){if(Xf===null)try{new FormData(document.createElement("form"),0),Xf=!1}catch{Xf=!0}return Xf}var EN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function P6(r){return r!=null&&!EN.has(r)?(wi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${h1}"`),null):r}function vN(r,e){let t,n,a,o,l;if(gN(r)){let u=r.getAttribute("action");n=u?sa(u,e):null,t=r.getAttribute("method")||f1,a=P6(r.getAttribute("enctype"))||h1,o=new FormData(r)}else if(pN(r)||mN(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||u.getAttribute("action");if(n=f?sa(f,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||f1,a=P6(r.getAttribute("formenctype"))||P6(u.getAttribute("enctype"))||h1,o=new FormData(u,r),!wN()){let{name:d,type:y,value:p}=r;if(y==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,p)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=f1,n=null,a=h1,l=r}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M3(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function SN(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&sa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function kN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BN(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await kN(o,t);return l.links?l.links():[]}return[]}));return IN(n.flat(1).filter(xN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qm(r,e,t,n,a,o){let l=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?e.filter((f,d)=>{let y=n.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function CN(r,e,{includeHydrateFallback:t}={}){return UN(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function UN(r){return[...new Set(r)]}function DN(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function IN(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let o=JSON.stringify(DN(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}function nE(){let r=se.useContext(Xc);return M3(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RN(){let r=se.useContext(kh);return M3(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var L3=se.createContext(void 0);L3.displayName="FrameworkContext";function rE(){let r=se.useContext(L3);return M3(r,"You must render this element inside a <HydratedRouter> element"),r}function TN(r,e){let t=se.useContext(L3),[n,a]=se.useState(!1),[o,l]=se.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:y,onTouchStart:p}=e,m=se.useRef(null);se.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let S=k=>{k.forEach(D=>{l(D.isIntersecting)})},v=new IntersectionObserver(S,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[r]),se.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let w=()=>{a(!0)},E=()=>{a(!1),l(!1)};return t?r!=="intent"?[o,m,{}]:[o,m,{onFocus:uu(u,w),onBlur:uu(f,E),onMouseEnter:uu(d,w),onMouseLeave:uu(y,E),onTouchStart:uu(p,w)}]:[!1,m,{}]}function uu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function NN({page:r,...e}){let{router:t}=nE(),n=se.useMemo(()=>_w(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?se.createElement(PN,{page:r,matches:n,...e}):null}function ON(r){let{manifest:e,routeModules:t}=rE(),[n,a]=se.useState([]);return se.useEffect(()=>{let o=!1;return BN(r,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[r,e,t]),n}function PN({page:r,matches:e,...t}){let n=go(),{manifest:a,routeModules:o}=rE(),{basename:l}=nE(),{loaderData:u,matches:f}=RN(),d=se.useMemo(()=>Qm(r,e,f,a,n,"data"),[r,e,f,a,n]),y=se.useMemo(()=>Qm(r,e,f,a,n,"assets"),[r,e,f,a,n]),p=se.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,S=!1;if(e.forEach(k=>{let D=a.routes[k.route.id];!D||!D.hasLoader||(!d.some(C=>C.route.id===k.route.id)&&k.route.id in u&&o[k.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:E.add(k.route.id))}),E.size===0)return[];let v=SN(r,l,"data");return S&&E.size>0&&v.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[v.pathname+v.search]},[l,u,n,a,d,e,r,o]),m=se.useMemo(()=>CN(y,a),[y,a]),w=ON(y);return se.createElement(se.Fragment,null,p.map(E=>se.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),m.map(E=>se.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:S})=>se.createElement("link",{key:E,nonce:t.nonce,...S})))}function KN(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.8.0")}catch{}function MN({basename:r,children:e,window:t}){let n=se.useRef();n.current==null&&(n.current=kT({window:t,v5Compat:!0}));let a=n.current,[o,l]=se.useState({action:a.action,location:a.location}),u=se.useCallback(f=>{se.startTransition(()=>l(f))},[l]);return se.useLayoutEffect(()=>a.listen(u),[a,u]),se.createElement(dN,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=se.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:y,viewTransition:p,...m},w){let{basename:E}=se.useContext(Ei),S=typeof d=="string"&&aE.test(d),v,k=!1;if(typeof d=="string"&&S&&(v=d,iE))try{let R=new URL(window.location.href),L=d.startsWith("//")?new URL(R.protocol+d):new URL(d),Q=sa(L.pathname,E);L.origin===R.origin&&Q!=null?d=Q+L.search+L.hash:k=!0}catch{wi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=XT(d,{relative:a}),[C,N,M]=TN(n,m),K=zN(d,{replace:l,state:u,target:f,preventScrollReset:y,relative:a,viewTransition:p});function I(R){e&&e(R),R.defaultPrevented||K(R)}let U=se.createElement("a",{...m,...M,href:v||D,onClick:k||o?e:I,ref:KN(w,N),target:f,"data-discover":!S&&t==="render"?"true":void 0});return C&&!S?se.createElement(se.Fragment,null,U,se.createElement(NN,{page:D})):U});sE.displayName="Link";var LN=se.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:u,children:f,...d},y){let p=f0(l,{relative:d.relative}),m=go(),w=se.useContext(kh),{navigator:E,basename:S}=se.useContext(Ei),v=w!=null&&VN(p)&&u===!0,k=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,D=m.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(D=D.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&S&&(C=sa(C,S)||C);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=D===k||!a&&D.startsWith(k)&&D.charAt(N)==="/",K=C!=null&&(C===k||!a&&C.startsWith(k)&&C.charAt(k.length)==="/"),I={isActive:M,isPending:K,isTransitioning:v},U=M?e:void 0,R;typeof n=="function"?R=n(I):R=[n,M?"active":null,K?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(I):o;return se.createElement(sE,{...d,"aria-current":U,className:R,ref:y,style:L,to:l,viewTransition:u},typeof f=="function"?f(I):f)});LN.displayName="NavLink";var QN=se.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:l=f1,action:u,onSubmit:f,relative:d,preventScrollReset:y,viewTransition:p,...m},w)=>{let E=_N(),S=jN(u,{relative:d}),v=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&aE.test(u),D=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let N=C.nativeEvent.submitter,M=N?.getAttribute("formmethod")||l;E(N||C.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:a,state:o,relative:d,preventScrollReset:y,viewTransition:p})};return se.createElement("form",{ref:w,method:v,action:S,onSubmit:n?f:D,...m,"data-discover":!k&&r==="render"?"true":void 0})});QN.displayName="Form";function HN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(r){let e=se.useContext(Xc);return kt(e,HN(r)),e}function zN(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=WT(),f=go(),d=f0(r,{relative:o});return se.useCallback(y=>{if(AN(y,e)){y.preventDefault();let p=t!==void 0?t:Yu(f)===Yu(d);u(r,{replace:p,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,d,t,n,e,r,a,o,l])}var GN=0,FN=()=>`__${String(++GN)}__`;function _N(){let{router:r}=oE("useSubmit"),{basename:e}=se.useContext(Ei),t=lN();return se.useCallback(async(n,a={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=vN(n,e);if(a.navigate===!1){let y=a.fetcherKey||FN();await r.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function jN(r,{relative:e}={}){let{basename:t}=se.useContext(Ei),n=se.useContext(fa);kt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...f0(r||".",{relative:e})},l=go();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(y=>y==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let y=u.toString();o.search=y?`?${y}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ta([t,o.pathname])),Yu(o)}function VN(r,{relative:e}={}){let t=se.useContext(Jw);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oE("useViewTransitionState"),a=f0(r,{relative:e});if(!t.isTransitioning)return!1;let o=sa(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=sa(t.nextLocation.pathname,n)||t.nextLocation.pathname;return G1(a.pathname,l)!=null||G1(a.pathname,o)!=null}function qN(){return ae.jsx(MN,{children:ae.jsxs("div",{style:{marginLeft:"2em",marginRight:"2em",marginTop:"2em",marginBottom:"2em"},children:[ae.jsx(gU,{}),ae.jsx(yN,{children:ae.jsx(tE,{path:"/",element:ae.jsx(ST,{})})})]})})}KS.createRoot(document.getElementById("root")).render(ae.jsxs(ae.Fragment,{children:[ae.jsx(pU,{children:ae.jsx(dT,{children:ae.jsx(qN,{})})}),ae.jsx(mU,{})]}));
